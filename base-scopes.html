<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>
      Hierarchical Structures: Package, Environments, Scopes, and Text -
      PGF/TikZ Manual
    </title>
    <link href="style.css" rel="stylesheet" type="text/css" />

    <script>
      // Lwarp MathJax emulation code
      //
      // Based on code by Davide P. Cervone.
      // Equation numbering: https://github.com/mathjax/MathJax/issues/2427
      // Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
      // \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
      //
      // Modified by Brian Dunn to adjust equation numbering and add subequations.
      //
      // LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
      // subequations? is 0 usually, 1 if inside subequations.
      // section is a string printed as-is, or empty.
      // number is auto-incremented by MathJax between equations.
      //
      MathJax = {
        subequations: "0",
        section: "",
        loader: {
          load: ["[tex]/tagformat", "[tex]/textmacros"],
        },
        startup: {
          ready() {
            // These would be replaced by import commands if you wanted to make
            // a proper extension.
            const Configuration =
              MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;

            // Insert the replacement string into the TeX string, and check
            // that there haven't been too many maxro substitutions (prevents
            // infinite loops).
            const useArgument = (parser, text) => {
              parser.string = ParseUtil.addArgs(
                parser,
                text,
                parser.string.slice(parser.i)
              );
              parser.i = 0;
              if (
                ++parser.macroCount > parser.configuration.options.maxMacros
              ) {
                throw new TexError(
                  "MaxMacroSub1",
                  "MathJax maximum macro substitution count exceeded; " +
                    "is there a recursive macro call?"
                );
              }
            };

            // Create the command map for:
            // \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
            new CommandMap(
              "Lwarp-macros",
              {
                ifstar: "IfstarFunction",
                ifnextchar: "IfnextcharFunction",
                ifblank: "IfblankFunction",
                ifstrequal: "IfstrequalFunction",
                seteqnumber: "SeteqnumberFunction",
              },
              {
                // This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                  const resultstar = parser.GetArgument(name);
                  const resultnostar = parser.GetArgument(name);
                  const star = parser.GetStar(); // true if there is a *
                  useArgument(parser, star ? resultstar : resultnostar);
                },

                // This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                  let whichchar = parser.GetArgument(name);
                  if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                    // $ syntax highlighting
                    whichchar = String.fromCodePoint(parseInt(whichchar));
                  }
                  const resultnextchar = parser.GetArgument(name);
                  const resultnotnextchar = parser.GetArgument(name);
                  const gotchar = parser.GetNext() === whichchar;
                  useArgument(
                    parser,
                    gotchar ? resultnextchar : resultnotnextchar
                  );
                },

                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                  const blankarg = parser.GetArgument(name);
                  const resultblank = parser.GetArgument(name);
                  const resultnotblank = parser.GetArgument(name);
                  const isblank = blankarg.trim() == "";
                  useArgument(parser, isblank ? resultblank : resultnotblank);
                },

                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                  const strequalfirst = parser.GetArgument(name);
                  const strequalsecond = parser.GetArgument(name);
                  const resultequal = parser.GetArgument(name);
                  const resultnotequal = parser.GetArgument(name);
                  const isequal = strequalfirst == strequalsecond;
                  useArgument(parser, isequal ? resultequal : resultnotequal);
                },

                // This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                  // Get the macro parameters
                  const star = parser.GetStar(); // true if there is a *
                  const optBrackets = parser.GetBrackets(name); // contents of optional brackets
                  const newsubequations = parser.GetArgument(name); // the subequations argument
                  const neweqsection = parser.GetArgument(name); // the eq section argument
                  const neweqnumber = parser.GetArgument(name); // the eq number argument
                  MathJax.config.subequations = newsubequations; // a string with boolean meaning
                  MathJax.config.section = neweqsection; // a string with numeric meaning
                  parser.tags.counter = parser.tags.allCounter = neweqnumber;
                },
              }
            );

            // Create the Lwarp-macros package
            Configuration.create("Lwarp-macros", {
              handler: { macro: ["Lwarp-macros"] },
            });

            MathJax.startup.defaultReady();

            // For forward references:
            MathJax.startup.input[0].preFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                MathJax.config.subequations =
                  math.inputData.recompile.subequations;
                MathJax.config.section = math.inputData.recompile.section;
              }
            });
            MathJax.startup.input[0].postFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                math.inputData.recompile.subequations =
                  MathJax.config.subequations;
                math.inputData.recompile.section = MathJax.config.section;
              }
            });

            // For \left, \right with unicode-math:
            const { DelimiterMap } = MathJax._.input.tex.SymbolMap;
            const { Symbol } = MathJax._.input.tex.Symbol;
            const { MapHandler } = MathJax._.input.tex.MapHandler;
            const delimiter = MapHandler.getMap("delimiter");
            delimiter.add("\\lBrack", new Symbol("\\lBrack", "\u27E6"));
            delimiter.add("\\rBrack", new Symbol("\\rBrack", "\u27E7"));
            delimiter.add("\\lAngle", new Symbol("\\lAngle", "\u27EA"));
            delimiter.add("\\rAngle", new Symbol("\\rAngle", "\u27EB"));
            delimiter.add("\\lbrbrak", new Symbol("\\lbrbrak", "\u2772"));
            delimiter.add("\\rbrbrak", new Symbol("\\rbrbrak", "\u2773"));
            delimiter.add("\\lbag", new Symbol("\\lbag", "\u27C5"));
            delimiter.add("\\rbag", new Symbol("\\rbag", "\u27C6"));
            delimiter.add(
              "\\llparenthesis",
              new Symbol("\\llparenthesis", "\u2987")
            );
            delimiter.add(
              "\\rrparenthesis",
              new Symbol("\\rrparenthesis", "\u2988")
            );
            delimiter.add("\\llangle", new Symbol("\\llangle", "\u2989"));
            delimiter.add("\\rrangle", new Symbol("\\rrangle", "\u298A"));
            delimiter.add("\\Lbrbrak", new Symbol("\\Lbrbrak", "\u27EC"));
            delimiter.add("\\Rbrbrak", new Symbol("\\Rbrbrak", "\u27ED"));
            delimiter.add("\\lBrace", new Symbol("\\lBrace", "\u2983"));
            delimiter.add("\\rBrace", new Symbol("\\rBrace", "\u2984"));
            delimiter.add("\\lParen", new Symbol("\\lParen", "\u2985"));
            delimiter.add("\\rParen", new Symbol("\\rParen", "\u2986"));
            delimiter.add("\\lbrackubar", new Symbol("\\lbrackubar", "\u298B"));
            delimiter.add("\\rbrackubar", new Symbol("\\rbrackubar", "\u298C"));
            delimiter.add(
              "\\lbrackultick",
              new Symbol("\\lbrackultick", "\u298D")
            );
            delimiter.add(
              "\\rbracklrtick",
              new Symbol("\\rbracklrtick", "\u298E")
            );
            delimiter.add(
              "\\lbracklltick",
              new Symbol("\\lbracklltick", "\u298F")
            );
            delimiter.add(
              "\\rbrackurtick",
              new Symbol("\\rbrackurtick", "\u2990")
            );
            delimiter.add("\\langledot", new Symbol("\\langledot", "\u2991"));
            delimiter.add("\\rangledot", new Symbol("\\rangledot", "\u2992"));
            delimiter.add("\\lparenless", new Symbol("\\lparenless", "\u2993"));
            delimiter.add("\\rparengtr", new Symbol("\\rparengtr", "\u2994"));
            delimiter.add("\\Lparengtr", new Symbol("\\Lparengtr", "\u2995"));
            delimiter.add("\\Rparenless", new Symbol("\\Rparenless", "\u2996"));
            delimiter.add("\\lblkbrbrak", new Symbol("\\lblkbrbrak", "\u2997"));
            delimiter.add("\\rblkbrbrak", new Symbol("\\rblkbrbrak", "\u2998"));
            delimiter.add("\\lvzigzag", new Symbol("\\lvzigzag", "\u29D8"));
            delimiter.add("\\rvzigzag", new Symbol("\\rvzigzag", "\u29D9"));
            delimiter.add("\\Lvzigzag", new Symbol("\\Lvzigzag", "\u29DA"));
            delimiter.add("\\Rvzigzag", new Symbol("\\Rvzigzag", "\u29DB"));
            delimiter.add(
              "\\lcurvyangle",
              new Symbol("\\lcurvyangle", "\u29FC")
            );
            delimiter.add(
              "\\rcurvyangle",
              new Symbol("\\rcurvyangle", "\u29FD")
            );
            delimiter.add("\\Vvert", new Symbol("\\Vvert", "\u2980"));
          }, // ready
        }, // startup

        tex: {
          packages: { "[+]": ["tagformat", "Lwarp-macros", "textmacros"] },
          tags: "ams",
          tagformat: {
            number: function (n) {
              if (MathJax.config.subequations == 0)
                return MathJax.config.section + n;
              else return MathJax.config.section + String.fromCharCode(96 + n);
            },
          },
        },
      };
    </script>

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js"></script>

    <link href="https://unpkg.com/@docsearch/css@alpha" rel="stylesheet" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
  </head>
  <body>
    <a id="pgfmanual-autopage-7692"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <strong><a href="/">PGF/Ti<i>k</i>Z Manual</a></strong>
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p><a class="tocsubsection" href="#sec-99.1">Overview</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.1.1"
                >The Hierarchical Structure of the Package</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.1.2"
                >The Hierarchical Structure of Graphics</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-99.2"
                >The Hierarchical Structure of the Package</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.2.1"
                >The Core Package</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.2.2">The Modules</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.2.3"
                >The Library Packages</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-99.3"
                >The Hierarchical Structure of the Graphics</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.3.1"
                >The Main Environment</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.3.2"
                >Graphic Scope Environments</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.3.3"
                >Inserting Text and Images</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-99.4">Object Identifiers</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.4.1"
                >Commands for Creating Graphic Objects</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-99.4.2"
                >Settings and Querying Identifiers</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-99.5"
                >Resource Description Framework Annotations (RDFa)</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-99.6"
                >Error Messages and Warnings</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.9a</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p class="current-part">
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-design">Design Principles</a>
            </p>

            <p class="current current-part">
              <a class="tocsection" href="base-scopes"
                >Hierarchical Structures: Package, Environments, Scopes, and
                Text</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-points"
                >Specifying Coordinates</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-paths">Constructing Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-decorations">Decorations</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-actions">Using Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-arrows"
                >Defining New Arrow Tip Kinds</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-nodes">Nodes and Shapes</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-matrices">Matrices</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-transformations"
                >Coordinate, Canvas, and Nonlinear Transformations</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-patterns">Patterns</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-images"
                >Declaring and Using Images</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-external"
                >Externalizing Graphics</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-plots">Creating Plots</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-layers">Layered Graphics</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-shadings">Shadings</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-transparency">Transparency</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-animations">Animations</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-internalregisters"
                >Adding libraries to <span class="textsc">pgf</span>: temporary
                registers</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-quick">Quick Commands</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.9a
          </h1>
          <h2 class="inserted">The Basic Layer</h2>

          <!--MathJax customizations:-->

          <div class="hidden">
            \(\newcommand{\footnotename}{footnote}\) \(\def \LWRfootnote {1}\)
            \(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)
            \(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm
            {#1}}}\) \(\let \LWRorighspace \hspace \) \(\renewcommand {\hspace
            }{\ifstar \LWRorighspace \LWRorighspace }\) \(\newcommand
            {\mathnormal }[1]{{#1}}\) \(\newcommand \ensuremath [1]{#1}\)
            \(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand
            {\framebox }[1][]{\LWRframebox } \) \(\newcommand {\setlength
            }[2]{}\) \(\newcommand {\addtolength }[2]{}\) \(\newcommand
            {\setcounter }[2]{}\) \(\newcommand {\addtocounter }[2]{}\)
            \(\newcommand {\arabic }[1]{}\) \(\newcommand {\number }[1]{}\)
            \(\newcommand {\noalign }[1]{\text {#1}\notag \\}\) \(\newcommand
            {\cline }[1]{}\) \(\newcommand {\directlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\luatexdirectlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\protect }{}\) \(\def
            \LWRabsorbnumber #1 {}\) \(\def \LWRabsorbquotenumber "#1 {}\)
            \(\newcommand {\LWRabsorboption }[1][]{}\) \(\newcommand
            {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\) \(\def \mathchar
            {\ifnextchar "\LWRabsorbquotenumber \LWRabsorbnumber }\) \(\def
            \mathcode #1={\mathchar }\) \(\let \delcode \mathcode \) \(\let
            \delimiter \mathchar \) \(\def \oe {\unicode {x0153}}\) \(\def \OE
            {\unicode {x0152}}\) \(\def \ae {\unicode {x00E6}}\) \(\def \AE
            {\unicode {x00C6}}\) \(\def \aa {\unicode {x00E5}}\) \(\def \AA
            {\unicode {x00C5}}\) \(\def \o {\unicode {x00F8}}\) \(\def \O
            {\unicode {x00D8}}\) \(\def \l {\unicode {x0142}}\) \(\def \L
            {\unicode {x0141}}\) \(\def \ss {\unicode {x00DF}}\) \(\def \SS
            {\unicode {x1E9E}}\) \(\def \dag {\unicode {x2020}}\) \(\def \ddag
            {\unicode {x2021}}\) \(\def \P {\unicode {x00B6}}\) \(\def
            \copyright {\unicode {x00A9}}\) \(\def \pounds {\unicode {x00A3}}\)
            \(\let \LWRref \ref \) \(\renewcommand {\ref }{\ifstar \LWRref
            \LWRref }\) \( \newcommand {\multicolumn }[3]{#3}\) \(\require
            {textcomp}\) \( \newcommand {\meta }[1]{\langle \textit {#1}\rangle
            } \) \(\newcommand {\intertext }[1]{\text {#1}\notag \\}\) \(\let
            \Hat \hat \) \(\let \Check \check \) \(\let \Tilde \tilde \) \(\let
            \Acute \acute \) \(\let \Grave \grave \) \(\let \Dot \dot \) \(\let
            \Ddot \ddot \) \(\let \Breve \breve \) \(\let \Bar \bar \) \(\let
            \Vec \vec \)
          </div>

          <p></p>
          <h4 id="autosec-7693">
            <span class="sectionnumber">99&emsp;</span>Hierarchical Structures:
            Package, Environments, Scopes, and Text
          </h4>
          <a id="pgfmanual-autopage-7693"></a>
          <a id="pgfmanual-autofile-108"></a>
          <h5 id="autosec-7694">
            <span class="sectionnumber" id="sec-99.1">99.1&emsp;</span
            >Overview<a class="anchor-link" href="#sec-99.1">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-7694"></a>

          <p>
            <span class="textsc">pgf</span> uses two kinds of hierarchical
            structuring: First, the package itself is structured hierarchically,
            consisting of different packages that are built on top of each
            other. Second, <span class="textsc">pgf</span>
            allows you to structure your graphics hierarchically using
            environments and scopes.
          </p>
          <h6 id="autosec-7695">
            <span class="sectionnumber" id="sec-99.1.1">99.1.1&emsp;</span>The
            Hierarchical Structure of the Package<a
              class="anchor-link"
              href="#sec-99.1.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7695"></a>

          <p>
            The <span class="textsc">pgf</span> system consists of several
            layers:
          </p>
          <dl>
            <dt>System layer.</dt>
            <dd>
              <p>
                The lowest layer is called the <em>system layer</em>, though it
                might also be called &ldquo;driver layer&rdquo; or perhaps
                &ldquo;backend layer&rdquo;. Its job is to provide an
                abstraction of the details of which driver is used to transform
                the <span class="texttt">.dvi</span> file. The system layer is
                implemented by the package <span class="texttt">pgfsys</span>,
                which will load appropriate driver files as needed.
              </p>
              <p>
                The system layer is documented in Part&nbsp;<a
                  href="pgfsys#part-system"
                  >X</a
                >.
              </p>
            </dd>
            <dt>Basic layer.</dt>
            <dd>
              <p>
                The basic layer is loaded by the package
                <span class="texttt">pgfcore</span> and subsequent use of the
                command <span class="texttt">\usepgfmodule</span> to load
                additional modules of the basic layer.
              </p>
              <p>The basic layer is documented in the present part.</p>
            </dd>
            <dt>Frontend layer.</dt>
            <dd>
              <p>
                The frontend layer is not loaded by a single package. Rather,
                different packages, like <span class="tikzname">TikZ</span> or
                <span class="textsc">pgfpict2e</span>, are different frontends
                to the basic layer.
              </p>
              <p>
                The <span class="tikzname">TikZ</span> frontend is documented in
                Part&nbsp;<a href="tikz#part-tikz">III</a>.
              </p>
            </dd>
          </dl>

          <p>
            Each layer will automatically load the necessary files of the layers
            below it.
          </p>

          <p>
            In addition to the packages of these layers, there are also some
            library packages. These packages provide additional definitions of
            things like new arrow tips or new plot handlers.
          </p>

          <p>
            The library packages are documented in Part&nbsp;<a
              href="libraries#part-libraries"
              >V</a
            >.
          </p>
          <h6 id="autosec-7696">
            <span class="sectionnumber" id="sec-99.1.2">99.1.2&emsp;</span>The
            Hierarchical Structure of Graphics<a
              class="anchor-link"
              href="#sec-99.1.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7696"></a>

          <p>
            Graphics in <span class="textsc">pgf</span> are typically structured
            hierarchically. Hierarchical structuring can be used to identify
            groups of graphical elements that are to be treated &ldquo;in the
            same way&rdquo;. For example, you might group together a number of
            paths, all of which are to be drawn in red. Then, when you decide
            later on that you like them to be drawn in, say, blue, all you have
            to do is to change the color once.
          </p>

          <p>
            The general mechanism underlying hierarchical structuring is known
            as <em>scoping</em> in computer science. The idea is that all
            changes to the general &ldquo;state&rdquo; of the graphic that are
            done inside a scope are local to that scope. So, if you change the
            color inside a scope, this does not affect the color used outside
            the scope. Likewise, when you change the line width in a scope, the
            line width outside is not changed, and so on.
          </p>

          <p>
            There are different ways of starting and ending scopes of graphic
            parameters. Unfortunately, these scopes are sometimes &ldquo;in
            conflict&rdquo; with each other and it is sometimes not immediately
            clear which scopes apply. In essence, the following scoping
            mechanisms are available:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. The &ldquo;outermost&rdquo; scope supported by
                <span class="textsc">pgf</span> is the
                <span class="texttt">{pgfpicture}</span> environment. All
                changes to the graphic state done inside a
                <span class="texttt">{pgfpicture}</span> are local to that
                picture.
              </p>
              <p>
                In general, it is <em>not</em> possible to set graphic
                parameters globally outside any
                <span class="texttt">{pgfpicture}</span> environments. Thus, you
                can <em>not</em> say
                <span class="texttt">\pgfsetlinewidth{1pt}</span> at the
                beginning of your document to have a default line width of one
                point. Rather, you have to (re)set all graphic parameters inside
                each <span class="texttt">{pgfpicture}</span>. (If this is too
                bothersome, try defining some macro that does the job for you.)
              </p>
            </li>
            <li>
              <p>
                2. Inside a <span class="texttt">{pgfpicture}</span> you can use
                a <span class="texttt">{pgfscope}</span> environment to keep
                changes of the graphic state local to that environment.
              </p>
              <p>
                The effect of commands that change the graphic state are local
                to the current <span class="texttt">{pgfscope}</span>, but not
                always to the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group. Thus, if you open a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group (some text in curly braces) inside a
                <span class="texttt">{pgfscope}</span>, and if you change, for
                example, the dash pattern, the effect of this changed dash
                pattern will persist till the end of the
                <span class="texttt">{pgfscope}</span>.
              </p>
              <p>
                Unfortunately, this is not always the case.
                <em>Some</em> graphic parameters only persist till the end of
                the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group. For example, when you use
                <span class="texttt">\pgfsetarrows</span> to set the arrow tip
                inside a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group, the effect lasts only till the end of the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group.
              </p>
            </li>
            <li>
              <p>
                3. Some graphic parameters are not scoped by
                <span class="texttt">{pgfscope}</span> but &ldquo;already&rdquo;
                by
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                groups. For example, the effect of coordinate transformation
                commands is always local to the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group.
              </p>
              <p>
                Since every <span class="texttt">{pgfscope}</span> automatically
                creates a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group, all graphic parameters that are local to the current
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                group are also local to the current
                <span class="texttt">{pgfscope}</span>.
              </p>
            </li>
            <li>
              <p>
                4. Some graphic parameters can only be scoped using
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                groups, since in some situations it is not possible to introduce
                a <span class="texttt">{pgfscope}</span>. For example, a path
                always has to be completely constructed and used in the same
                <span class="texttt">{pgfscope}</span>. However, we might wish
                to have different coordinate transformations apply to different
                points on the path. In this case, we can use
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                groups to keep the effect local, but we could not use
                <span class="texttt">{pgfscope}</span>.
              </p>
            </li>
            <li>
              <p>
                5. The <span class="texttt">\pgftext</span> command can be used
                to create a scope in which
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                &ldquo;escapes back&rdquo; to normal
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                mode. The text passed to the
                <span class="texttt">\pgftext</span> is &ldquo;heavily
                guarded&rdquo; against having any effect on the scope in which
                it is used. For example, it is possible to use another
                <span class="texttt">{pgfpicture}</span> environment inside the
                argument of <span class="texttt">\pgftext</span>.
              </p>
            </li>
          </ul>

          <p>
            Most of the complications can be avoided if you stick to the
            following rules:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                &bull; Give graphic commands only inside
                <span class="texttt">{pgfpicture}</span> environments.
              </p>
            </li>
            <li>
              <p>
                &bull; Use <span class="texttt">{pgfscope}</span> to structure
                graphics.
              </p>
            </li>
            <li>
              <p>
                &bull; Do not use
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                groups inside graphics, <em>except</em> for keeping the effect
                of coordinate transformations local.
              </p>
            </li>
          </ul>
          <h5 id="autosec-7697">
            <span class="sectionnumber" id="sec-99.2">99.2&emsp;</span>The
            Hierarchical Structure of the Package<a
              class="anchor-link"
              href="#sec-99.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7697"></a>

          <p>
            Before we come to the structuring commands provided by
            <span class="textsc">pgf</span> to structure your graphics, let us
            first have a look at the structure of the package itself.
          </p>
          <h6 id="autosec-7698">
            <span class="sectionnumber" id="sec-99.2.1">99.2.1&emsp;</span>The
            Core Package<a class="anchor-link" href="#sec-99.2.1">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-7698"></a>

          <p>
            To use <span class="textsc">pgf</span>, include the following
            package:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfcore"></a>
                <span class="hl-def"
                  ><kbd
                    >\usepackage{<span class="textcolor" style="color: #bf0000"
                      >pgfcore</span
                    >} %
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >L<span class="latexlogosup">a</span>T<span
                          class="latexlogosub"
                          >e</span
                        >X</span
                      ></span
                    ></kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfcore">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\input
                    <span class="textcolor" style="color: #bf0000">pgfcore</span
                    >.tex % plain
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\usemodule[<span class="textcolor" style="color: #bf0000"
                      >pgfcore</span
                    >] % Con<span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >t</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This package loads the complete core of the &ldquo;basic
              layer&rdquo; of <span class="textsc">pgf</span>, but not any
              modules. That is, it will load all of the commands described in
              the current part of this manual, but it will not load frontends
              like <span class="tikzname">TikZ</span>. It will also load the
              system layer. To load additional modules, use the
              <span class="texttt">\usepgfmodule</span> command explained below.
            </p>
          </div>

          <p>The following package is just a convenience.</p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgf"></a>
                <span class="hl-def"
                  ><kbd
                    >\usepackage{<span class="textcolor" style="color: #bf0000"
                      >pgf</span
                    >} %
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >L<span class="latexlogosup">a</span>T<span
                          class="latexlogosub"
                          >e</span
                        >X</span
                      ></span
                    ></kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgf">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\input
                    <span class="textcolor" style="color: #bf0000">pgf</span
                    >.tex % plain
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\usemodule[<span class="textcolor" style="color: #bf0000"
                      >pgf</span
                    >] % Con<span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >t</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This package loads the <span class="texttt">pgfcore</span> and the
              two modules <span class="texttt">shapes</span> and
              <span class="texttt">plot</span>.
            </p>
            <p>
              In
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >, the package takes two options:
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <span class="hl-def"
                    ><kbd
                      >\usepackage[<span
                        class="textcolor"
                        style="color: #bf0000"
                        >draft</span
                      >]{pgf}</kbd
                    ></span
                  >
                </p>
              </div>
              <p>
                When this option is set, all images will be replaced by empty
                rectangles. This can speedup compilation.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <span class="hl-def"
                    ><kbd
                      >\usepackage[<span
                        class="textcolor"
                        style="color: #bf0000"
                        >version=<span class="angle">&langle;</span
                        ><i>version</i><span class="angle">&rangle;</span></span
                      >]{pgf}</kbd
                    ></span
                  >
                </p>
              </div>
              <p>
                Indicates that the commands of version
                <span class="angle">&langle;</span><i>version</i
                ><span class="angle">&rangle;</span> need to be defined. If you
                set <span class="angle">&langle;</span><i>version</i
                ><span class="angle">&rangle;</span> to
                <span class="texttt">0.65</span>, then a large bunch of
                &ldquo;compatibility commands&rdquo; are loaded. If you set
                <span class="angle">&langle;</span><i>version</i
                ><span class="angle">&rangle;</span> to
                <span class="texttt">0.96</span>, then these compatibility
                commands will not be loaded.
              </p>
              <p>
                If this option is not given at all, then the commands of all
                versions are defined.
              </p>
            </div>
          </div>
          <h6 id="autosec-7699">
            <span class="sectionnumber" id="sec-99.2.2">99.2.2&emsp;</span>The
            Modules<a class="anchor-link" href="#sec-99.2.2">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-7699"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/usepgfmodule"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\usepgfmodule</kbd></span
                  >{<span class="angle">&langle;</span><i>module names</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/usepgfmodule">&para;</a>
              </p>
            </div>
            <p>
              Once the core has been loaded, you can use this command to load
              further modules. The modules in the
              <span class="angle">&langle;</span><i>module names</i
              ><span class="angle">&rangle;</span> list should be separated by
              commas. Instead of curly braces, you can also use square brackets,
              which is something Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t users will like. If you try to load a module a second time,
              nothing will happen.
            </p>
            <p>
              <i>Example: </i
              ><span class="texttt">\usepgfmodule{matrix,shapes}</span>
            </p>
            <p>
              What this command does is to load the file
              <span class="texttt">pgfmodule</span
              ><span class="angle">&langle;</span><i>module</i
              ><span class="angle">&rangle;</span
              ><span class="texttt">.code.tex</span> for each
              <span class="angle">&langle;</span><i>module</i
              ><span class="angle">&rangle;</span> in the list of
              <span class="angle">&langle;</span><i>module names</i
              ><span class="angle">&rangle;</span>. Thus, to write your own
              module, all you need to do is to place a file of the appropriate
              name somewhere
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              can find it.
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >, plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >, and Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t users can then use your library.
            </p>
          </div>

          <p>
            The following modules are available for use with
            <span class="texttt">pgfcore</span>:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                &bull; The <span class="texttt">plot</span> module provides
                commands for plotting functions. The commands are explained in
                Section&nbsp;<a href="base-plots#section-plots">111</a>.
              </p>
            </li>
            <li>
              <p>
                &bull; The <span class="texttt">shapes</span> module provides
                commands for drawing shapes and nodes. These commands are
                explained in Section&nbsp;<a href="base-nodes#section-shapes"
                  >105</a
                >.
              </p>
            </li>
            <li>
              <p>
                &bull; The <span class="texttt">decorations</span> module
                provides commands for adding decorations to paths. These
                commands are explained in Section&nbsp;<a
                  href="base-decorations#section-base-decorations"
                  >102</a
                >.
              </p>
            </li>
            <li>
              <p>
                &bull; The <span class="texttt">matrix</span> module provides
                the <span class="texttt">\pgfmatrix</span> command. The commands
                are documented in Section&nbsp;<a
                  href="base-matrices#section-base-matrices"
                  >106</a
                >.
              </p>
            </li>
          </ul>
          <h6 id="autosec-7700">
            <span class="sectionnumber" id="sec-99.2.3">99.2.3&emsp;</span>The
            Library Packages<a class="anchor-link" href="#sec-99.2.3">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-7700"></a>

          <p>
            There is a special command for loading library packages. The
            difference between a library and module is the following: A library
            just defines additional objects using the basic layer, whereas a
            module adds completely new functionality. For instance, a
            <span class="texttt">decorations</span> library defines additional
            decorations, while a decoration module defines the whole code for
            handling decorations.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/usepgflibrary"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\usepgflibrary</kbd></span
                  >{<span class="angle">&langle;</span><i>list of libraries</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/usepgflibrary">&para;</a>
              </p>
            </div>
            <p>
              Use this command to load further libraries. The list of libraries
              should contain the names of libraries separated by commas. Instead
              of curly braces, you can also use square brackets. If you try to
              load a library a second time, nothing will happen.
            </p>
            <p>
              <i>Example: </i><span class="texttt">\usepgflibrary{arrows}</span>
            </p>
            <p>
              This command causes the file <span class="texttt">pgflibrary</span
              ><span class="angle">&langle;</span><i>library</i
              ><span class="angle">&rangle;</span
              ><span class="texttt">.code.tex</span> to be loaded for each
              <span class="angle">&langle;</span><i>library</i
              ><span class="angle">&rangle;</span> in the
              <span class="angle">&langle;</span><i>list of libraries</i
              ><span class="angle">&rangle;</span>. This means that in order to
              write your own library file, place a file of the appropriate name
              somewhere where
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              can find it.
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >, plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >, and Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t users can then use your library.
            </p>
            <p>
              You should also consider adding a
              <span class="tikzname">TikZ</span> library that simply includes
              your <span class="textsc">pgf</span> library.
            </p>
          </div>
          <h5 id="autosec-7701">
            <span class="sectionnumber" id="sec-99.3">99.3&emsp;</span>The
            Hierarchical Structure of the Graphics<a
              class="anchor-link"
              href="#sec-99.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7701"></a>
          <h6 id="autosec-7702">
            <span class="sectionnumber" id="sec-99.3.1">99.3.1&emsp;</span>The
            Main Environment<a class="anchor-link" href="#sec-99.3.1">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-7702"></a>

          <p>
            Most, but not all, commands of the
            <span class="textsc">pgf</span> package must be given within a
            <span class="texttt">{pgfpicture}</span> environment. The only
            commands that (must) be given outside are commands having to do with
            including images (like <span class="texttt">\pgfuseimage</span>) and
            with inserting complete shadings (like
            <span class="texttt">\pgfuseshading</span>). However, just to keep
            life entertaining, the
            <span class="texttt">\pgfshadepath</span> command must be given
            <em>inside</em> a
            <span class="texttt">{pgfpicture}</span> environment.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfpicture"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfpicture</span
                    >}</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfpicture">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfpicture</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This environment will insert a
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              box containing the graphic drawn by the
              <span class="angle">&langle;</span><i>environment contents</i
              ><span class="angle">&rangle;</span> at the current position.
            </p>
            <p>
              <b>The size of the bounding box.</b> The size of the box is
              determined in the following manner: While
              <span class="textsc">pgf</span> parses the
              <span class="angle">&langle;</span><i>environment contents</i
              ><span class="angle">&rangle;</span>, it keeps track of a bounding
              box for the graphic. Essentially, this bounding box is the
              smallest box that contains all coordinates mentioned in the
              graphics. Some coordinates may be &ldquo;mentioned&rdquo; by
              <span class="textsc">pgf</span> itself; for example, when you add
              circle to the current path, the support points of the curve making
              up the circle are also &ldquo;mentioned&rdquo; despite the fact
              that you will not &ldquo;see&rdquo; them in your code.
            </p>
            <p>
              Once the <span class="angle">&langle;</span
              ><i>environment contents</i
              ><span class="angle">&rangle;</span> have been parsed completely,
              a
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              box is created whose size is the size of the computed bounding box
              and this box is inserted at the current position.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  Hello
                  <span class="lateximagesource" id="lateximage-pgfmanual-3115"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="9.096"
                      loading="lazy"
                      src="pgfmanual-images/image-3115.png"
                      style
                      width="14.993"
                  /></span>
                  World!
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">Hello</span>
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}&numsp;<span class="textcolor" style="color: #000000"
                    >World!</span
                  ><br />
                </code>
              </div>
            </figure>
            <p>
              Sometimes, you may need more fine-grained control over the size of
              the bounding box. For example, the computed bounding box may be
              too large or you intensionally wish the box to be &ldquo;too
              small&rdquo;. In these cases, you can use the command
              <span class="texttt">\pgfusepath{use as bounding box}</span>, as
              described in Section&nbsp;<a href="base-actions#section-using-bb"
                >103.6</a
              >.
            </p>
            <p>
              <b>The baseline of the bounding box.</b> When the box containing
              the graphic is inserted into the normal text, the baseline of the
              graphic is normally at the bottom of the graphic. For this reason,
              the following two sets of code lines have the same effect, despite
              the fact that the second graphic uses &ldquo;higher&rdquo;
              coordinates than the first:
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  Rectangles
                  <span class="lateximagesource" id="lateximage-pgfmanual-3116"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="9.096"
                      loading="lazy"
                      src="pgfmanual-images/image-3116.png"
                      style
                      width="14.993"
                  /></span>
                  and
                  <span class="lateximagesource" id="lateximage-pgfmanual-3117"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="9.096"
                      loading="lazy"
                      src="pgfmanual-images/image-3117.png"
                      style
                      width="14.993" /></span
                  >.
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000"
                    >Rectangles</span
                  >
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}.<br />
                </code>
              </div>
            </figure>
            <p>
              You can change the baseline using the
              <span class="texttt">\pgfsetbaseline</span> command, see below.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  Rectangles
                  <span class="lateximagesource" id="lateximage-pgfmanual-3118"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="9.096"
                      loading="lazy"
                      src="pgfmanual-images/image-3118.png"
                      style
                      width="14.993"
                  /></span>
                  and
                  <span class="lateximagesource" id="lateximage-pgfmanual-3119"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="9.096"
                      loading="lazy"
                      src="pgfmanual-images/image-3119.png"
                      style
                      width="14.993" /></span
                  >.
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000"
                    >Rectangles</span
                  >
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgfsetbaseline"
                      >\pgfsetbaseline</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">0pt</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgfsetbaseline"
                      >\pgfsetbaseline</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">0pt</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}.<br />
                </code>
              </div>
            </figure>
            <p>
              <b>Including text and images in a picture.</b> You cannot directly
              include text and images in a picture. Thus, you should
              <em>not</em> simply write some text in a
              <span class="texttt">{pgfpicture}</span> or use a command like
              <span class="texttt">\includegraphics</span> or even
              <span class="texttt">\pgfimage</span>. In all these cases, you
              need to place the text inside a
              <span class="texttt">\pgftext</span> command. This will
              &ldquo;escape back&rdquo; to normal
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              mode, see Section&nbsp;<a href="base-scopes#section-text-command"
                >99.3.3</a
              >
              for details.
            </p>
            <p>
              <b>Remembering a picture position for later reference.</b> After a
              picture has been typeset, its position on the page is normally
              forgotten by <span class="textsc">pgf</span> and also by
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >. This means that is not possible to reference a node in this
              picture later on. In particular, it is normally impossible to draw
              lines between nodes in different pictures automatically.
            </p>
            <p>
              In order to make
              <span class="textsc">pgf</span> &ldquo;remember&rdquo; a picture,
              the
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >-if
              <span class="texttt">\ifpgfrememberpicturepositiononpage</span>
              should be set to <span class="texttt">true</span>. It is only
              important that this
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >-if is <span class="texttt">true</span> at the end of the
              <span class="texttt">{pgfpicture}</span>-environment, so you can
              switch it on inside the environment. However, you can also just
              switch it on globally, then the positions of all pictures are
              remembered.
            </p>
            <p>
              There are several reasons why the remembering is not switched on
              by default. First, it does not work for all backend drivers
              (currently, it works only for pdf<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >). Second, it requires two passes of
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              over the file; on the first pass all positions will be wrong.
              Third, for every remembered picture a line is added to the
              <span class="texttt">.aux</span>-file, which may result in a large
              number of extra lines.
            </p>
            <p>
              Despite all these &ldquo;problems&rdquo;, for documents that are
              processed with pdf<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              and in which there is only a small number of pictures (less than a
              hundred or so), you can switch on this option globally, it will
              not cause any significant slowing of
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              The plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment. Note that in this version, also, a
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              group is created around the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This is the Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/ifpgfrememberpicturepositiononpage"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\ifpgfrememberpicturepositiononpage</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/ifpgfrememberpicturepositiononpage"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Determines whether the position of pictures on the page should be
              recorded. The value of this
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >-if at the end of a
              <span class="texttt">{pgfpicture}</span> environment is important,
              not the value at the beginning.
            </p>
            <p>
              If this option is set to true of a picture,
              <span class="textsc">pgf</span> will attempt to record the
              position of the picture on the page. (This attempt will fail with
              most drivers and when it works, it typically requires two runs of
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >.) The position is not directly accessible. Rather, the nodes
              mechanism will use this position if you access a node from another
              picture. See Sections&nbsp;<a
                href="base-nodes#section-cross-pictures-pgf"
                >105.3.2</a
              >
              and&nbsp;<a href="tikz-shapes#section-cross-picture-tikz"
                >17.13</a
              >
              for more details.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsetbaseline"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsetbaseline</kbd></span
                  >{<span class="angle">&langle;</span><i>dimension</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsetbaseline"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command specifies a \(y\)-coordinate of the picture that
              should be used as the baseline of the whole picture. When a
              <span class="textsc">pgf</span> picture has been typeset
              completely, <span class="textsc">pgf</span> must decide at which
              height the baseline of the picture should lie. Normally, the
              baseline is set to the \(y\)-coordinate of the bottom of the
              picture, but it is often desirable to use a different height.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  Text<span
                    class="lateximagesource"
                    id="lateximage-pgfmanual-3120"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="15.027"
                      loading="lazy"
                      src="pgfmanual-images/image-3120.png"
                      style
                      width="15.017" /></span
                  >,<span
                    class="lateximagesource"
                    id="lateximage-pgfmanual-3121"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="15.027"
                      loading="lazy"
                      src="pgfmanual-images/image-3121.png"
                      style
                      width="15.017" /></span
                  >,<span
                    class="lateximagesource"
                    id="lateximage-pgfmanual-3122"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="15.027"
                      loading="lazy"
                      src="pgfmanual-images/image-3122.png"
                      style
                      width="15.017" /></span
                  >,<span
                    class="lateximagesource"
                    id="lateximage-pgfmanual-3123"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="15.027"
                      loading="lazy"
                      src="pgfmanual-images/image-3123.png"
                      style
                      width="15.017" /></span
                  >.
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">Text</span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathcircle"
                      >\pgfpathcircle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >},<br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgfsetbaseline"
                      >\pgfsetbaseline</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">0pt</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathcircle"
                      >\pgfpathcircle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >},<br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgfsetbaseline"
                      >\pgfsetbaseline</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">5ex</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathcircle"
                      >\pgfpathcircle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >},<br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgfsetbaseline"
                      >\pgfsetbaseline</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">-1ex</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathcircle"
                      >\pgfpathcircle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #000000">1ex</span
                  >}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}.<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsetbaselinepointnow"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsetbaselinepointnow</kbd></span
                  >{<span class="angle">&langle;</span><i>point</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsetbaselinepointnow"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command specifies the baseline indirectly, namely as the
              \(y\)-coordinate that the given <span class="angle">&langle;</span
              ><i>point</i><span class="angle">&rangle;</span> has when the
              command is called.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsetbaselinepointlater"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsetbaselinepointlater</kbd></span
                  >{<span class="angle">&langle;</span><i>point</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsetbaselinepointlater"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command also specifies the baseline indirectly, but the
              \(y\)-coordinate of the given <span class="angle">&langle;</span
              ><i>point</i><span class="angle">&rangle;</span> is only computed
              at the end of the picture.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  Hello<span
                    class="lateximagesource"
                    id="lateximage-pgfmanual-3124"
                    ><!--
world.
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="21.867"
                      loading="lazy"
                      src="pgfmanual-images/image-3124.png"
                      style
                      width="53.763"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">Hello</span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgfsetbaselinepointlater"
                      >\pgfsetbaselinepointlater</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-nodes#pgf.back/pgfpointanchor"
                      >\pgfpointanchor</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">X</span
                  >}{<span class="textcolor" style="color: #000000"
                    ><a href="tikz-animations#pgf.base">base</a></span
                  >}}<br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% Note: no shape X, yet</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-nodes#pgf.back/pgfnode">\pgfnode</a></span
                  >{<span class="textcolor" style="color: #000000">cross</span>
                  <span class="textcolor" style="color: #000000"
                    ><a href="library-edges#pgf.out">out</a></span
                  >}{<span class="textcolor" style="color: #000000">center</span
                  >}{<span class="textcolor" style="color: #000000">world</span
                  >.}{<span class="textcolor" style="color: #000000">X</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
          <h6 id="autosec-7723">
            <span class="sectionnumber" id="sec-99.3.2">99.3.2&emsp;</span
            >Graphic Scope Environments<a class="anchor-link" href="#sec-99.3.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7723"></a>

          <p>
            Inside a <span class="texttt">{pgfpicture}</span> environment you
            can substructure your picture using the following environment:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfscope"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfscope</span
                    >}</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfscope">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfscope</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              All changes to the graphic state done inside this environment are
              local to the environment. The graphic state includes the
              following:
            </p>

            <p>&bull; The line width.</p>

            <p>&bull; The stroke and fill colors.</p>

            <p>&bull; The dash pattern.</p>

            <p>&bull; The line join and cap.</p>

            <p>&bull; The miter limit.</p>

            <p>&bull; The canvas transformation matrix.</p>

            <p>&bull; The clipping path.</p>

            <p>
              Other parameters may also influence how graphics are rendered, but
              they are <em>not</em> part of the graphic state. For example, the
              arrow tip kind is not part of the graphic state and the effect of
              commands setting the arrow tip kind are local to the current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              group, not to the current <span class="texttt">{pgfscope}</span>.
              However, since <span class="texttt">{pgfscope}</span> starts and
              ends a
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              group automatically, a <span class="texttt">{pgfscope}</span> can
              be used to limit the effect of, say, commands that set the arrow
              tip kind.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3125"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="17.119"
                      loading="lazy"
                      src="pgfmanual-images/image-3125.png"
                      style
                      width="51.444"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfscope">pgfscope</a></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfsetlinewidth"
                      >\pgfsetlinewidth</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">2pt</span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">2ex</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">3ex</span
                  >}{<span class="textcolor" style="color: #000000">0ex</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">2ex</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfscope">pgfscope</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathrectangle"
                      >\pgfpathrectangle</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">6ex</span
                  >}{<span class="textcolor" style="color: #000000">0ex</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">2ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3126"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="15.051"
                      loading="lazy"
                      src="pgfmanual-images/image-3126.png"
                      style
                      width="50.235"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfscope">pgfscope</a></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfsetarrows"
                      >\pgfsetarrows</a
                    ></span
                  >{<span class="textcolor" style="color: #000000"
                    ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathmoveto"
                      >\pgfpathmoveto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathlineto"
                      >\pgfpathlineto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2ex</span
                  >}{<span class="textcolor" style="color: #000000">2ex</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathmoveto"
                      >\pgfpathmoveto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">3ex</span
                  >}{<span class="textcolor" style="color: #000000">0ex</span
                  >}}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathlineto"
                      >\pgfpathlineto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">5ex</span
                  >}{<span class="textcolor" style="color: #000000">2ex</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfscope">pgfscope</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathmoveto"
                      >\pgfpathmoveto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">6ex</span
                  >}{<span class="textcolor" style="color: #000000">0ex</span
                  >}}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathlineto"
                      >\pgfpathlineto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">8ex</span
                  >}{<span class="textcolor" style="color: #000000">2ex</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              At the start of the scope, the current path must be empty, that
              is, you cannot open a scope while constructing a path.
            </p>
            <p>
              It is usually a good idea <em>not</em> to introduce
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              groups inside a
              <span class="texttt">{pgfscope}</span> environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the <span class="texttt">{pgfscope}</span> environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This is the Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>

          <p>
            The following scopes also encapsulate certain properties of the
            graphic state. However, they are typically not used directly by the
            user.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfinterruptpath"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfinterruptpath</span
                    >}</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfinterruptpath">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfinterruptpath</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This environment can be used to temporarily interrupt the
              construction of the current path. The effect will be that the path
              currently under construction will be &ldquo;stored away&rdquo; and
              restored at the end of the environment. Inside the environment you
              can construct a new path and do something with it.
            </p>
            <p>
              An example application of this environment is the arrow tip
              caching. Suppose you ask <span class="textsc">pgf</span> to use a
              specific arrow tip kind. When the arrow tip needs to be rendered
              for the first time, <span class="textsc">pgf</span> will
              &ldquo;cache&rdquo; the path that makes up the arrow tip. To do
              so, it interrupts the current path construction and then protocols
              the path of the arrow tip. The
              <span class="texttt">{pgfinterruptpath}</span>
              environment is used to ensure that this does not interfere with
              the path to which the arrow tips should be attached.
            </p>
            <p>
              This command does <em>not</em> install a
              <span class="texttt">{pgfscope}</span>. In particular, it does not
              call any <span class="texttt">\pgfsys@</span> commands at all,
              which would, indeed, be dangerous in the middle of a path
              construction.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfinterruptpath</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfinterruptpath</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfinterruptpath</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfinterruptpath</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfinterruptpicture"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfinterruptpicture</span
                    >}</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfinterruptpicture"
                  >&para;</a
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfinterruptpicture</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This environment can be used to temporarily interrupt a
              <span class="texttt">{pgfpicture}</span>. However, the environment
              is intended only to be used at the beginning and end of a box that
              is (later) inserted into a
              <span class="texttt">{pgfpicture}</span> using
              <span class="texttt">\pgfqbox</span>. You cannot use this
              environment directly inside a
              <span class="texttt">{pgfpicture}</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3127"
                    ><!--
Sub--picture.
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="43.323"
                      loading="lazy"
                      src="pgfmanual-images/image-3127.png"
                      style
                      width="94.586"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathmoveto"
                      >\pgfpathmoveto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">0cm</span
                  >}}&numsp;<span class="example-code-comment"
                    >% In the middle of path, now</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\newbox</span
                  ><span class="textcolor" style="color: #0000b2">\mybox</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\setbox</span
                  ><span class="textcolor" style="color: #0000b2">\mybox</span
                  ><span class="textcolor" style="color: #000000">=</span
                  ><span class="textcolor" style="color: #0000b2">\hbox</span
                  >{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfinterruptpicture"
                      >pgfinterruptpicture</a
                    ></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >Sub-</span
                  ><span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}&numsp;<span class="example-code-comment"
                    >% a subpicture</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathmoveto"
                      >\pgfpathmoveto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">0cm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathlineto"
                      >\pgfpathlineto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<span class="textcolor" style="color: #000000"
                    >-picture</span
                  >.<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfinterruptpicture"
                      >pgfinterruptpicture</a
                    ></span
                  >}<br />
                  &numsp;&numsp;}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-quick#pgf.back/pgfqbox">\pgfqbox</a></span
                  >{<span class="textcolor" style="color: #0000b2">\mybox</span
                  >}<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathlineto"
                      >\pgfpathlineto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.pgfpicture">pgfpicture</a></span
                  >}<span class="textcolor" style="color: #0000b2">\hskip</span
                  ><span class="textcolor" style="color: #000000">3</span>.<span
                    class="textcolor"
                    style="color: #000000"
                    >9cm</span
                  ><br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfinterruptpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfinterruptpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfinterruptpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfinterruptpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfinterruptboundingbox"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfinterruptboundingbox</span
                    >}</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfinterruptboundingbox"
                  >&para;</a
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfinterruptboundingbox</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This environment temporarily interrupts the computation of the
              bounding box and sets up a new bounding box. At the beginning of
              the environment the old bounding box is saved and an empty
              bounding box is installed. After the environment the original
              bounding box is reinstalled as if nothing has happened.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfinterruptboundingbox</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfinterruptboundingbox</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfinterruptboundingbox</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfinterruptboundingbox</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>
          <h6 id="autosec-7730">
            <a id="section-text-command"></a
            ><span class="sectionnumber" id="sec-99.3.3">99.3.3&emsp;</span
            >Inserting Text and Images<a class="anchor-link" href="#sec-99.3.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7730"></a>

          <p>
            Often, you may wish to add normal
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            text at a certain point inside a
            <span class="texttt">{pgfpicture}</span>. You cannot do so
            &ldquo;directly&rdquo;, that is, you cannot simply write this text
            inside the <span class="texttt">{pgfpicture}</span> environment.
            Rather, you must pass the text as an argument to the
            <span class="texttt">\pgftext</span> command.
          </p>

          <p>
            You must <em>also</em> use the
            <span class="texttt">\pgftext</span> command to insert an image or a
            shading into a <span class="texttt">{pgfpicture}</span>.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftext"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftext</kbd></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftext">&para;</a>
              </p>
            </div>
            <p>
              This command will typeset <span class="angle">&langle;</span
              ><i>text</i><span class="angle">&rangle;</span> in normal
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              mode and insert the resulting box into the
              <span class="texttt">{pgfpicture}</span>. The bounding box of the
              graphic will be updated so that all of the text box is inside. By
              default, the text box is centered at the origin, but this can be
              changed either by giving appropriate
              <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> or by applying an appropriate
              coordinate transformation beforehand.
            </p>
            <p>
              The <span class="angle">&langle;</span><i>text</i
              ><span class="angle">&rangle;</span> may contain verbatim text.
              (In other words, the <span class="angle">&langle;</span><i>text</i
              ><span class="angle">&rangle;</span> &ldquo;argument&rdquo; is not
              a normal argument, but is put in a box and some
              <span class="texttt">\aftergroup</span> hackery is used to find
              the end of the box.)
            </p>
            <p>
              <span class="textsc">pgf</span>&rsquo;s current (high-level)
              coordinate transformation is synchronized with the canvas
              transformation matrix temporarily when the text box is inserted.
              The effect is that if there is currently a high-level rotation of,
              say, 30 degrees, the <span class="angle">&langle;</span><i>text</i
              ><span class="angle">&rangle;</span> will also be rotated by
              thirty degrees. If you do not want this effect, you have to
              (possibly temporarily) reset the high-level transformation matrix.
            </p>
            <p>
              The <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> keys are used with the path
              <span class="texttt">/pgf/text/</span>. The following keys are
              defined for this path:
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/left"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/left</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default">(no value)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/left">&para;</a>
                </p>
              </div>
              <p>
                The key causes the text box to be placed such that its left
                border is on the origin.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3128"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3128.png"
                        style
                        width="78.626"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.left">left</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/right"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/right</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default">(no value)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/right">&para;</a>
                </p>
              </div>
              <p>
                The key causes the text box to be placed such that its right
                border is on the origin.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3129"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3129.png"
                        style
                        width="78.537"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/top"></a><a id="pgf.top"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/top</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default">(no value)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/top">&para;</a>
                </p>
              </div>
              <p>
                This key causes the text box to be placed such that its top is
                on the origin. This option can be used together with the
                <span class="texttt">left</span> or
                <span class="texttt">right</span> option.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3130"
                      ><!--
lovely
-->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3130.png"
                        style
                        width="78.554"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="base-scopes#pgf.top">top</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3131"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3131.png"
                        style
                        width="78.537"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="base-scopes#pgf.top">top</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/bottom"></a><a id="pgf.bottom"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/bottom</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default">(no value)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/bottom">&para;</a>
                </p>
              </div>
              <p>
                This key causes the text box to be placed such that its bottom
                is on the origin.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3132"
                      ><!--
lovely
-->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3132.png"
                        style
                        width="78.554"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="base-scopes#pgf.bottom">bottom</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3133"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3133.png"
                        style
                        width="78.537"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="base-scopes#pgf.bottom">bottom</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/base"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/base</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default">(no value)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/base">&para;</a>
                </p>
              </div>
              <p>
                This key causes the text box to be placed such that its baseline
                is on the origin.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3134"
                      ><!--
lovely
-->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3134.png"
                        style
                        width="78.554"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-animations#pgf.base">base</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3135"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3135.png"
                        style
                        width="78.537"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-animations#pgf.base">base</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-arrows#pgf.right">right</a></span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/at"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/at</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>point</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/at">&para;</a>
                </p>
              </div>
              <p>
                Translates the origin (that is, the point where the text is
                shown) to <span class="angle">&langle;</span><i>point</i
                ><span class="angle">&rangle;</span>.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3136"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="40.491"
                        loading="lazy"
                        src="pgfmanual-images/image-3136.png"
                        style
                        width="97.226"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-animations#pgf.base">base</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.at">at</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >{<span class="textcolor" style="color: #0000b2"
                        ><a href="base-points#pgf.back/pgfpoint"
                          >\pgfpoint</a
                        ></span
                      >{1cm}{0cm}}</span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/x"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/x</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>dimension</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/x">&para;</a>
                </p>
              </div>
              <p>
                Translates the origin by <span class="angle">&langle;</span
                ><i>dimension</i><span class="angle">&rangle;</span> along the
                \(x\)-axis.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3137"
                      ><!--
lovely
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="43.107"
                        loading="lazy"
                        src="pgfmanual-images/image-3137.png"
                        style
                        width="97.226"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-animations#pgf.base">base</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.x">x</a></span
                    >=<span class="textcolor" style="color: #008000">1cm</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.y">y</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >-0.5cm</span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/y"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/y</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>dimension</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/y">&para;</a>
                </p>
              </div>
              <p>
                This key works like the <span class="texttt">x</span> option.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./pgf/text/rotate"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/pgf/text/rotate</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>degree</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a class="anchor-link" href="#pgf./pgf/text/rotate">&para;</a>
                </p>
              </div>
              <p>
                Rotates the coordinate system by
                <span class="angle">&langle;</span><i>degree</i
                ><span class="angle">&rangle;</span>. This will also rotate the
                text box.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3138"
                      ><!--
   el y
lov
-->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="49.755"
                        loading="lazy"
                        src="pgfmanual-images/image-3138.png"
                        style
                        width="92.114"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(-1,-.5)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(1,.5)</span
                    >;<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-animations#pgf.base">base</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.x">x</a></span
                    >=<span class="textcolor" style="color: #008000">1cm</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-coordinates#pgf.y">y</a></span
                    >=<span class="textcolor" style="color: #008000"
                      >-0.5cm</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-transformations#pgf.rotate"
                        >rotate</a
                      ></span
                    >=<span class="textcolor" style="color: #008000">30</span
                    >]&numsp;{<span class="textcolor" style="color: #000000"
                      >lovely</span
                    >}}<br />
                  </code>
                </div>
              </figure>
            </div>
          </div>
          <h5 id="autosec-7753">
            <span class="sectionnumber" id="sec-99.4">99.4&emsp;</span>Object
            Identifiers<a class="anchor-link" href="#sec-99.4">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-7753"></a>

          <p>
            Graphical objects can have an <em>identifier,</em> which allows you
            to reference the object later on. For instance, you could reference
            the object as the target of a hyperlink (although this capability is
            not necessarily implemented by drivers) or as the target of an
            animation; indeed, animations always need an object identifier to
            identify the to-be-animated object.
          </p>

          <p>Attaching an identifier to an object is a two-step process:</p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. You call <span class="texttt">\pgfuseid{</span
                ><span class="angle">&langle;</span><i>id</i
                ><span class="angle">&rangle;</span
                ><span class="texttt">}</span> to choose an id, which is a
                normal string.
              </p>
            </li>
            <li>
              <p>
                2. Next, you call one of several commands like
                <span class="texttt">\pgfidscope</span> or
                <span class="texttt">\pgftext</span>, which create an object.
                This object will have then have the id.
              </p>
            </li>
          </ul>
          <h6 id="autosec-7754">
            <span class="sectionnumber" id="sec-99.4.1">99.4.1&emsp;</span
            >Commands for Creating Graphic Objects<a
              class="anchor-link"
              href="#sec-99.4.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7754"></a>

          <p>
            The following system level commands create an object with an id:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. <span class="texttt">\pgfsys@begin@idscope</span>, which
                creates a graphic scope.
              </p>
            </li>
            <li>
              <p>
                2. <span class="texttt">\pgfsys@viewboxmeet</span> or
                <span class="texttt">\pgfsys@viewboxslice</span>, which create
                view boxes,
              </p>
            </li>
            <li>
              <p>
                3. <span class="texttt">\pgfsys@fill</span>,
                <span class="texttt">\pgfsys@stroke</span>, and all other path
                usage command,
              </p>
            </li>
            <li>
              <p>
                4. <span class="texttt">\pgfsys@hbox</span> or
                <span class="texttt">\pgfsys@hboxsynced</span>, which create
                text boxes, and
              </p>
            </li>
            <li>
              <p>
                5. <span class="texttt">\pgfsys@animate...</span>, which create
                animations.
              </p>
            </li>
          </ul>

          <p>
            These system layer commands are, in turn, called by the following
            basic layer commands (and, also, by the commands that call them, in
            turn):
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                &bull; <span class="texttt">\pgfidscope</span>, which creates an
                id scope (see below).
              </p>
            </li>
            <li>
              <p>
                &bull; <span class="texttt">\pgfviewboxscope</span>, which
                creates a view box.
              </p>
            </li>
            <li>
              <p>
                &bull; <span class="texttt">\pgfusepath</span>, which creates a
                path.
              </p>
            </li>
            <li>
              <p>
                &bull; <span class="texttt">\pgftext</span> and
                <span class="texttt">\pgfnode</span> and
                <span class="texttt">\pgfmultipartnode</span>, which create text
                boxes and nodes, and
              </p>
            </li>
            <li>
              <p>
                &bull; <span class="texttt">\pgfanimateattribute</span>, which
                creates an animation.
              </p>
            </li>
          </ul>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfidscope"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfidscope</span
                    >}</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.pgfidscope">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfidscope</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Creates a graphic scope that will have the id last used with
              <span class="texttt">\pgfuseid</span> attached to, provided such
              an id was set and was not already used with another object. In the
              latter cases, no graphic scope is created. Thus, if you wish to
              ensure that a graphic scope is created, you must (additionally)
              call <span class="texttt">\pgfscope</span> inside or outside the
              id scope.
            </p>
          </div>

          <p>
            The Plain<span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            and Con<span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >t versions of the environment are:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfidscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfidscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfidscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfidscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
          </div>
          <h6 id="autosec-7755">
            <span class="sectionnumber" id="sec-99.4.2">99.4.2&emsp;</span
            >Settings and Querying Identifiers<a
              class="anchor-link"
              href="#sec-99.4.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-7755"></a>

          <p>
            In order to attach an identifier to an object, you first use the
            following command:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfuseid"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfuseid</kbd></span
                  >{<span class="angle">&langle;</span><i>name</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfuseid">&para;</a>
              </p>
            </div>
            <p>
              The <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span> is a string by which the
              object will be referenced (see
              <span class="texttt">\pgfidrefnextuse</span>). The next time a
              graphic object is created in the current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              scope, the name will be attached to it (actually, it will get a
              system layer identifier attached to it that is automatically
              created using <span class="texttt">\pgfsys@new@id</span>, the
              <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span> is bound to that identifier
              and it can be retrieved using
              <span class="texttt">\pgfidrefnextuse</span>). This holds true
              only for the next object: If a second object is created, it will
              not get the name attached to it. This does not mean, however, that
              you cannot attach the same name to different objects; you just
              need to call <span class="texttt">\pgfuseid</span> again before
              each object.
            </p>
            <p>
              Besides the <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span> (or, more precisely, besides
              the system layer identifier it refers to), the current
              <em>identifier type</em> is also important: Actually, a graphic
              object is not referenced by a system layer identifier, but by the
              combination of the identifier and a type. You can use the
              following commands for modifying the type used for the creation of
              objects:
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf.back/pgfusetype"></a>
                  <span class="hl-def"
                    ><span class="textcolor" style="color: #bf0000"
                      ><kbd>\pgfusetype</kbd></span
                    >{<span class="angle">&langle;</span><i>type</i
                    ><span class="angle">&rangle;</span>}</span
                  >
                  <a class="anchor-link" href="#pgf.back/pgfusetype">&para;</a>
                </p>
              </div>
              <p>
                Sets the type used for the referencing of graphic objects for
                the current scope to <span class="angle">&langle;</span
                ><i>type</i><span class="angle">&rangle;</span> or, if
                <span class="angle">&langle;</span><i>type</i
                ><span class="angle">&rangle;</span> starts with a dot, appends
                <span class="angle">&langle;</span><i>type</i
                ><span class="angle">&rangle;</span> to the current type.
              </p>
              <p>
                You use this command with compound graphic objects: Before each
                part of a graphic object, set the type to an appropriate value.
                Now, if the object is named using
                <span class="texttt">\pgfuseid</span>, you can later on access
                all parts of the compound object using the combination of the
                <span class="angle">&langle;</span><i>name</i
                ><span class="angle">&rangle;</span> used with
                <span class="texttt">\pgfuseid</span> and the type of the part.
              </p>
              <p>
                As an example, this system is used to give you access to the
                different parts of a node: When you say
                <span class="texttt">\pgfuseid{mynode}</span> and then create a
                node, you can use <span class="texttt">mynode</span> with the
                empty type to reference the graphics scope that encompasses the
                whole node, but also <span class="texttt">mynode</span> together
                with the type <span class="texttt">background</span> to access
                the background path of the node.
              </p>
              <p>
                In detail, <span class="textsc">pgf</span> uses this command to
                set the following types:
              </p>

              <p>
                &bull; Inside the command
                <span class="texttt">\pgfviewboxscope</span>, the type
                <span class="texttt">.view</span> is used for the view object.
              </p>
              <p>
                &bull; Inside the command
                <span class="texttt">\pgfmultipartnode</span>, the type
                <span class="texttt">.behind background</span> is used for the
                scope of drawings behind the background. Similarly,
                <span class="texttt">.before background</span> and
                <span class="texttt">.behind foreground</span> and finally
                <span class="texttt">.before foreground</span> are used with the
                respective parts of a node.
              </p>
              <p>
                &bull; Also inside a node,
                <span class="texttt">.background</span> and
                <span class="texttt">.foreground</span> are used as types of the
                background and foreground paths, respectively.
              </p>
              <p>
                &bull; Finally, inside a node, for each text part, the text
                part&rsquo;s name is used as a type (so
                <span class="texttt">.text</span> is used for the main part).
              </p>

              <p>
                In addition, <span class="tikzname">TikZ</span> uses this
                command in the following situations:
              </p>

              <p>
                &bull; The type <span class="texttt">.path</span> is used with a
                named path (named using the
                <span class="texttt">name</span> key). This is the graphic
                object you need to reference when you wish to morph a path.
              </p>
              <p>
                &bull; The type <span class="texttt">.path picture</span> is
                used with the scope of the optional path picture.
              </p>
              <p>
                &bull; The type <span class="texttt">.path fill</span> is used
                with the path used for filling. This is not the same as the
                normal path in case the path is filled and patterned, for
                instance.
              </p>
              <p>
                &bull; The type <span class="texttt">.path shade</span> is used
                with the path used for shading a path.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf.back/pgfpushtype"></a>
                  <span class="hl-def"
                    ><span class="textcolor" style="color: #bf0000"
                      ><kbd>\pgfpushtype</kbd></span
                    ></span
                  >
                  <a class="anchor-link" href="#pgf.back/pgfpushtype">&para;</a>
                </p>
              </div>
              <p>
                Pushes the current type on an internal global stack. The idea is
                to allow you to temporarily change the current type without
                having to open a
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                scope.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf.back/pgfpoptype"></a>
                  <span class="hl-def"
                    ><span class="textcolor" style="color: #bf0000"
                      ><kbd>\pgfpoptype</kbd></span
                    ></span
                  >
                  <a class="anchor-link" href="#pgf.back/pgfpoptype">&para;</a>
                </p>
              </div>
              <p>
                Restores the most recent type from the internal global stack of
                types.
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfclearid"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfclearid</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/pgfclearid">&para;</a>
              </p>
            </div>
            <p>Clears the current id (and type) for the local scope.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfidrefnextuse"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfidrefnextuse</kbd></span
                  >{<span class="angle">&langle;</span><i>macro</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>name</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfidrefnextuse"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command assigns a system layer identifier (the identifier
              returned by <span class="texttt">\pgfsys@new@id</span>) to the
              <span class="angle">&langle;</span><i>macro</i
              ><span class="angle">&rangle;</span>, namely the one that will be
              used the <em>next</em> time
              <span class="texttt">\pgfuseid</span> is used. You use this
              command for &ldquo;forward referencing&rdquo;.
            </p>
            <p>
              A typical use case is the following: A key like
              <span class="texttt">whom</span> for animations uses this command
              to get the system identifier that will be used for a future
              object. Then, this identifier can be passed to system layer
              commands like <span class="texttt">\pgfsys@animation@whom</span>.
            </p>
            <p>
              Note that the &ldquo;next&rdquo; use need not be on the same page
              (or there may not even be any use at all), in which case the
              reference will not refer to any object.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfidrefprevuse"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfidrefprevuse</kbd></span
                  >{<span class="angle">&langle;</span><i>macro</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>name</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfidrefprevuse"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Works like <span class="texttt">\pgfidrefnextuse</span>, only it
              references the most recent <em>previous</em> use of the
              <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span>. As for
              <span class="texttt">\pgfidrefnextuse</span>, the most recent use
              need not be on the same page.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfaliasid"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfaliasid</kbd></span
                  >{<span class="angle">&langle;</span><i>alias</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>name</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfaliasid">&para;</a>
              </p>
            </div>
            <p>
              Creates an alias of a name inside the current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              scope. After calling this command, you can use
              <span class="angle">&langle;</span><i>alias</i
              ><span class="angle">&rangle;</span> anywhere where you would
              normally use <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span>. Note that the binding
              between <span class="angle">&langle;</span><i>alias</i
              ><span class="angle">&rangle;</span> and
              <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span> is not kept when
              <span class="texttt">\pgfuseid</span> is used on the
              <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span> (or the
              <span class="angle">&langle;</span><i>alias</i
              ><span class="angle">&rangle;</span>).
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfgaliasid"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfgaliasid</kbd></span
                  >{<span class="angle">&langle;</span><i>1</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>2</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfgaliasid">&para;</a>
              </p>
            </div>
            <p>
              Like <span class="texttt">\pgfaliasid</span>, only the alias is
              set globally.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfifidreferenced"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfifidreferenced</kbd></span
                  >{<span class="angle">&langle;</span><i>name</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>then code</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>else code</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfifidreferenced"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              If <span class="angle">&langle;</span><i>name</i
              ><span class="angle">&rangle;</span> has been referenced,
              <span class="angle">&langle;</span><i>then code</i
              ><span class="angle">&rangle;</span> is executed, otherwise
              <span class="angle">&langle;</span><i>else code</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>
          <h5 id="autosec-7756">
            <a id="section-base-rdf"></a
            ><span class="sectionnumber" id="sec-99.5">99.5&emsp;</span>Resource
            Description Framework Annotations (RDFa)<a
              class="anchor-link"
              href="#sec-99.5"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7756"></a>

          <p>
            With certain output formats (in particular, with
            <span class="textsc">svg</span>) you can insert annotations into the
            output file following the standard set by the
            <em>resource description framework</em> (known as &ldquo;<span
              class="textsc"
              >rdf</span
            >&rdquo;, please consult the literature on
            <span class="textsc">rdf</span> and <span class="textsc">rdf</span>a
            for an introduction to resource descriptions and ontologies and
            their purpose in general). To do so, you call one (or several) of
            the following commands before you call
            <span class="texttt">\pgfidscope</span>. The attributes and values
            you specify using the commands will then be added to the resulting
            scope (if the driver supports this, which is only the case for
            <span class="textsc">svg</span> at the moment). As an example, when
            you write
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="base-scopes#pgf.back/pgfrdfresource"
                    >\pgfrdfresource</a
                  ></span
                >{<span class="textcolor" style="color: #000000"
                  >/fruits/apple</span
                >}<br />
                <span class="textcolor" style="color: #0000b2">\pgfidscope</span
                ><br />
                ...<br />
                <span class="textcolor" style="color: #0000b2"
                  >\pgfendidscope</span
                ><br />
              </code>
            </div>
          </figure>

          <p>in the resulting <span class="textsc">svg</span> file you get</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><g< span>
                    <span class="textcolor" style="color: #000000"
                      >resource="/fruits/apple"&gt;</span
                    ><br />
                    &numsp;&numsp;...<br />
                    <span class="textcolor" style="color: #000000"></span
                    ><br /> </g<></span
              ></code>
            </div>
          </figure>

          <p>
            Most of the following commands just set a single attribute for the
            next id scope. In some cases, however, repeated calling of these
            commands makes sense and causes the passed values to accumulate as
            in the following example:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="base-scopes#pgf.back/pgfrdfresource"
                    >\pgfrdfresource</a
                  ></span
                >{<span class="textcolor" style="color: #000000"
                  >/fruits/apple</span
                >}<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="base-scopes#pgf.back/pgfrdfproperty"
                    >\pgfrdfproperty</a
                  ></span
                >{<span class="textcolor" style="color: #000000"
                  >http://foo</span
                >.<span class="textcolor" style="color: #000000"
                  >com/props/juicy</span
                >}<br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="base-scopes#pgf.back/pgfrdfproperty"
                    >\pgfrdfproperty</a
                  ></span
                >{<span class="textcolor" style="color: #000000"
                  >http://foo</span
                >.<span class="textcolor" style="color: #000000"
                  >com/props/green</span
                >}<br />
                <span class="textcolor" style="color: #0000b2">\pgfidscope</span
                ><br />
                ...<br />
                <span class="textcolor" style="color: #0000b2"
                  >\pgfendidscope</span
                ><br />
              </code>
            </div>
          </figure>

          <p>Now you get:</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000"
                  ><g< span>
                    <span class="textcolor" style="color: #000000"
                      >resource="/fruits/apple"</span
                    ><br />
                    &numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #000000"
                      >property="http://foo</span
                    >.<span class="textcolor" style="color: #000000"
                      >com/props/juicy</span
                    >
                    <span class="textcolor" style="color: #000000"
                      >http://foo</span
                    >.<span class="textcolor" style="color: #000000"
                      >com/props/green"&gt;</span
                    ><br />
                    &numsp;&numsp;...<br />
                    <span class="textcolor" style="color: #000000"></span
                    ><br /> </g<></span
              ></code>
            </div>
          </figure>

          <p>
            The following commands &ldquo;accumulate&rdquo;:
            <span class="texttt">\pgfrdfproperty</span>,
            <span class="texttt">\pgfrdfrel</span>,
            <span class="texttt">\pgfrdfrev</span> and also the command
            <span class="texttt">\pgfrdftypeof</span>.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfabout"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfabout</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfabout">&para;</a>
              </p>
            </div>
            <p>
              Adds the <span class="textsc">rdf</span> attribute
              <span class="texttt">about="</span
              ><span class="angle">&langle;</span><i>text</i
              ><span class="angle">&rangle;</span
              ><span class="texttt">"</span> to the next id scope (please see
              the <span class="textsc">rdf</span>a specification for details on
              the semantics of <span class="texttt">about</span> in the context
              of the resource description framework).
            </p>
          </div>

          <p>The following commands work the same way.</p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfcontent"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfcontent</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfcontent">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfdatatype"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfdatatype</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfdatatype"
                  >&para;</a
                >
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfhref"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfhref</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfhref">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfinlist"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfinlist</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfinlist">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfprefix"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfprefix</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfprefix">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfproperty"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfproperty</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfproperty"
                  >&para;</a
                >
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfrel"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfrel</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfrel">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfresource"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfresource</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfresource"
                  >&para;</a
                >
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfrev"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfrev</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfrev">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfsrc"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfsrc</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfsrc">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdftypeof"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdftypeof</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdftypeof">&para;</a>
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfrdfvocab"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfrdfvocab</kbd></span
                  >{<span class="angle">&langle;</span><i>text</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfrdfvocab">&para;</a>
              </p>
            </div>
          </div>
          <h5 id="autosec-7757">
            <span class="sectionnumber" id="sec-99.6">99.6&emsp;</span>Error
            Messages and Warnings<a class="anchor-link" href="#sec-99.6"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-7757"></a>

          <p>
            Sometimes, a command inside <span class="textsc">pgf</span> may
            fail. In this case, two commands are useful to communicate with the
            author:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgferror"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgferror</kbd></span
                  >{<span class="angle">&langle;</span><i>message</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgferror">&para;</a>
              </p>
            </div>
            <p>
              Stops the processing of the current document and prints out the
              <span class="angle">&langle;</span><i>message</i
              ><span class="angle">&rangle;</span>. In
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >, this will be done using
              <span class="texttt">\PackageError</span>, otherwise
              <span class="texttt">\errmessage</span> is used directly.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfwarning"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfwarning</kbd></span
                  >{<span class="angle">&langle;</span><i>message</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfwarning">&para;</a>
              </p>
            </div>
            <p>
              Prints the <span class="angle">&langle;</span><i>message</i
              ><span class="angle">&rangle;</span> on the output, but does not
              interrupt the processing. In
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >, this will be done using
              <span class="texttt">\PackageWarning</span>, otherwise a write to
              stream \(17\) is used.
            </p>
          </div>
        </section>
      </main>

      <footer>
        <div class_="footer-left">
          <a href="https://github.com/pgf-tikz/pgf">Github</a> &middot;
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">PDF version</a>
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class_="footer-right">
          <em>Manual last updated: 2022-04-23</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      docsearch({
        apiKey: "ae66ec3fc9df4b52b4d6f24fc8508fd3",
        indexName: "tikz.dev",
        appId: "Q70NNMA9GC",
        container: "#search",
      });
    </script>
  </body>
</html>
