<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>
      Hierarchical Structures: Package, Environments, Scopes, and Styles -
      PGF/TikZ Manual
    </title>
    <link href="style.css" rel="stylesheet" type="text/css" />

    <script>
      // Lwarp MathJax emulation code
      //
      // Based on code by Davide P. Cervone.
      // Equation numbering: https://github.com/mathjax/MathJax/issues/2427
      // Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
      // \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
      //
      // Modified by Brian Dunn to adjust equation numbering and add subequations.
      //
      // LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
      // subequations? is 0 usually, 1 if inside subequations.
      // section is a string printed as-is, or empty.
      // number is auto-incremented by MathJax between equations.
      //
      MathJax = {
        subequations: "0",
        section: "",
        loader: {
          load: ["[tex]/tagformat", "[tex]/textmacros"],
        },
        startup: {
          ready() {
            // These would be replaced by import commands if you wanted to make
            // a proper extension.
            const Configuration =
              MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;

            // Insert the replacement string into the TeX string, and check
            // that there haven't been too many maxro substitutions (prevents
            // infinite loops).
            const useArgument = (parser, text) => {
              parser.string = ParseUtil.addArgs(
                parser,
                text,
                parser.string.slice(parser.i)
              );
              parser.i = 0;
              if (
                ++parser.macroCount > parser.configuration.options.maxMacros
              ) {
                throw new TexError(
                  "MaxMacroSub1",
                  "MathJax maximum macro substitution count exceeded; " +
                    "is there a recursive macro call?"
                );
              }
            };

            // Create the command map for:
            // \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
            new CommandMap(
              "Lwarp-macros",
              {
                ifstar: "IfstarFunction",
                ifnextchar: "IfnextcharFunction",
                ifblank: "IfblankFunction",
                ifstrequal: "IfstrequalFunction",
                seteqnumber: "SeteqnumberFunction",
              },
              {
                // This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                  const resultstar = parser.GetArgument(name);
                  const resultnostar = parser.GetArgument(name);
                  const star = parser.GetStar(); // true if there is a *
                  useArgument(parser, star ? resultstar : resultnostar);
                },

                // This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                  let whichchar = parser.GetArgument(name);
                  if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                    // $ syntax highlighting
                    whichchar = String.fromCodePoint(parseInt(whichchar));
                  }
                  const resultnextchar = parser.GetArgument(name);
                  const resultnotnextchar = parser.GetArgument(name);
                  const gotchar = parser.GetNext() === whichchar;
                  useArgument(
                    parser,
                    gotchar ? resultnextchar : resultnotnextchar
                  );
                },

                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                  const blankarg = parser.GetArgument(name);
                  const resultblank = parser.GetArgument(name);
                  const resultnotblank = parser.GetArgument(name);
                  const isblank = blankarg.trim() == "";
                  useArgument(parser, isblank ? resultblank : resultnotblank);
                },

                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                  const strequalfirst = parser.GetArgument(name);
                  const strequalsecond = parser.GetArgument(name);
                  const resultequal = parser.GetArgument(name);
                  const resultnotequal = parser.GetArgument(name);
                  const isequal = strequalfirst == strequalsecond;
                  useArgument(parser, isequal ? resultequal : resultnotequal);
                },

                // This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                  // Get the macro parameters
                  const star = parser.GetStar(); // true if there is a *
                  const optBrackets = parser.GetBrackets(name); // contents of optional brackets
                  const newsubequations = parser.GetArgument(name); // the subequations argument
                  const neweqsection = parser.GetArgument(name); // the eq section argument
                  const neweqnumber = parser.GetArgument(name); // the eq number argument
                  MathJax.config.subequations = newsubequations; // a string with boolean meaning
                  MathJax.config.section = neweqsection; // a string with numeric meaning
                  parser.tags.counter = parser.tags.allCounter = neweqnumber;
                },
              }
            );

            // Create the Lwarp-macros package
            Configuration.create("Lwarp-macros", {
              handler: { macro: ["Lwarp-macros"] },
            });

            MathJax.startup.defaultReady();

            // For forward references:
            MathJax.startup.input[0].preFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                MathJax.config.subequations =
                  math.inputData.recompile.subequations;
                MathJax.config.section = math.inputData.recompile.section;
              }
            });
            MathJax.startup.input[0].postFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                math.inputData.recompile.subequations =
                  MathJax.config.subequations;
                math.inputData.recompile.section = MathJax.config.section;
              }
            });

            // For \left, \right with unicode-math:
            const { DelimiterMap } = MathJax._.input.tex.SymbolMap;
            const { Symbol } = MathJax._.input.tex.Symbol;
            const { MapHandler } = MathJax._.input.tex.MapHandler;
            const delimiter = MapHandler.getMap("delimiter");
            delimiter.add("\\lBrack", new Symbol("\\lBrack", "\u27E6"));
            delimiter.add("\\rBrack", new Symbol("\\rBrack", "\u27E7"));
            delimiter.add("\\lAngle", new Symbol("\\lAngle", "\u27EA"));
            delimiter.add("\\rAngle", new Symbol("\\rAngle", "\u27EB"));
            delimiter.add("\\lbrbrak", new Symbol("\\lbrbrak", "\u2772"));
            delimiter.add("\\rbrbrak", new Symbol("\\rbrbrak", "\u2773"));
            delimiter.add("\\lbag", new Symbol("\\lbag", "\u27C5"));
            delimiter.add("\\rbag", new Symbol("\\rbag", "\u27C6"));
            delimiter.add(
              "\\llparenthesis",
              new Symbol("\\llparenthesis", "\u2987")
            );
            delimiter.add(
              "\\rrparenthesis",
              new Symbol("\\rrparenthesis", "\u2988")
            );
            delimiter.add("\\llangle", new Symbol("\\llangle", "\u2989"));
            delimiter.add("\\rrangle", new Symbol("\\rrangle", "\u298A"));
            delimiter.add("\\Lbrbrak", new Symbol("\\Lbrbrak", "\u27EC"));
            delimiter.add("\\Rbrbrak", new Symbol("\\Rbrbrak", "\u27ED"));
            delimiter.add("\\lBrace", new Symbol("\\lBrace", "\u2983"));
            delimiter.add("\\rBrace", new Symbol("\\rBrace", "\u2984"));
            delimiter.add("\\lParen", new Symbol("\\lParen", "\u2985"));
            delimiter.add("\\rParen", new Symbol("\\rParen", "\u2986"));
            delimiter.add("\\lbrackubar", new Symbol("\\lbrackubar", "\u298B"));
            delimiter.add("\\rbrackubar", new Symbol("\\rbrackubar", "\u298C"));
            delimiter.add(
              "\\lbrackultick",
              new Symbol("\\lbrackultick", "\u298D")
            );
            delimiter.add(
              "\\rbracklrtick",
              new Symbol("\\rbracklrtick", "\u298E")
            );
            delimiter.add(
              "\\lbracklltick",
              new Symbol("\\lbracklltick", "\u298F")
            );
            delimiter.add(
              "\\rbrackurtick",
              new Symbol("\\rbrackurtick", "\u2990")
            );
            delimiter.add("\\langledot", new Symbol("\\langledot", "\u2991"));
            delimiter.add("\\rangledot", new Symbol("\\rangledot", "\u2992"));
            delimiter.add("\\lparenless", new Symbol("\\lparenless", "\u2993"));
            delimiter.add("\\rparengtr", new Symbol("\\rparengtr", "\u2994"));
            delimiter.add("\\Lparengtr", new Symbol("\\Lparengtr", "\u2995"));
            delimiter.add("\\Rparenless", new Symbol("\\Rparenless", "\u2996"));
            delimiter.add("\\lblkbrbrak", new Symbol("\\lblkbrbrak", "\u2997"));
            delimiter.add("\\rblkbrbrak", new Symbol("\\rblkbrbrak", "\u2998"));
            delimiter.add("\\lvzigzag", new Symbol("\\lvzigzag", "\u29D8"));
            delimiter.add("\\rvzigzag", new Symbol("\\rvzigzag", "\u29D9"));
            delimiter.add("\\Lvzigzag", new Symbol("\\Lvzigzag", "\u29DA"));
            delimiter.add("\\Rvzigzag", new Symbol("\\Rvzigzag", "\u29DB"));
            delimiter.add(
              "\\lcurvyangle",
              new Symbol("\\lcurvyangle", "\u29FC")
            );
            delimiter.add(
              "\\rcurvyangle",
              new Symbol("\\rcurvyangle", "\u29FD")
            );
            delimiter.add("\\Vvert", new Symbol("\\Vvert", "\u2980"));
          }, // ready
        }, // startup

        tex: {
          packages: { "[+]": ["tagformat", "Lwarp-macros", "textmacros"] },
          tags: "ams",
          tagformat: {
            number: function (n) {
              if (MathJax.config.subequations == 0)
                return MathJax.config.section + n;
              else return MathJax.config.section + String.fromCharCode(96 + n);
            },
          },
        },
      };
    </script>

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js"></script>

    <link href="https://unpkg.com/@docsearch/css@alpha" rel="stylesheet" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
    <meta
      content="This section explains how your files should be structured when you use TikZ, explaining tikzpicture and scopes."
      name="description"
    />
  </head>
  <body>
    <a id="pgfmanual-autopage-504"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <strong><a href="/">PGF/Ti<i>k</i>Z Manual</a></strong>
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p>
              <a class="tocsubsection" href="#sec-12.1"
                >Loading the Package and the Libraries</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-12.2">Creating a Picture</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.2.1"
                >Creating a Picture Using an Environment</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.2.2"
                >Creating a Picture Using a Command</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.2.3"
                >Handling Catcodes and the Babel Package</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.2.4"
                >Adding a Background</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-12.3"
                >Using Scopes to Structure a Picture</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.3.1"
                >The Scope Environment</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.3.2"
                >Shorthand for Scope Environments</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.3.3"
                >Single Command Scopes</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.3.4"
                >Using Scopes Inside Paths</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-12.4"
                >Using Graphic Options</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.4.1"
                >How Graphic Options Are Processed</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-12.4.2"
                >Using Styles to Manage How Pictures Look</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.9a</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p class="current-part">
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-design">Design Principles</a>
            </p>

            <p class="current current-part">
              <a class="tocsection" href="tikz-scopes"
                >Hierarchical Structures: Package, Environments, Scopes, and
                Styles</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-coordinates"
                >Specifying Coordinates</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-paths"
                >Syntax for Path Specifications</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-actions">Actions on Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-arrows">Arrows</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-shapes">Nodes and Edges</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-pics"
                >Pics: Small Pictures on Paths</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-graphs">Specifying Graphs</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-matrices"
                >Matrices and Alignment</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-trees">Making Trees Grow</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-plots">Plots of Functions</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-transparency">Transparency</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-decorations">Decorated Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-transformations"
                >Transformations</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-animations">Animations</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p>
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.9a
          </h1>
          <h2 class="inserted">TikZ</h2>

          <!--MathJax customizations:-->

          <div class="hidden">
            \(\newcommand{\footnotename}{footnote}\) \(\def \LWRfootnote {1}\)
            \(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)
            \(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm
            {#1}}}\) \(\let \LWRorighspace \hspace \) \(\renewcommand {\hspace
            }{\ifstar \LWRorighspace \LWRorighspace }\) \(\newcommand
            {\mathnormal }[1]{{#1}}\) \(\newcommand \ensuremath [1]{#1}\)
            \(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand
            {\framebox }[1][]{\LWRframebox } \) \(\newcommand {\setlength
            }[2]{}\) \(\newcommand {\addtolength }[2]{}\) \(\newcommand
            {\setcounter }[2]{}\) \(\newcommand {\addtocounter }[2]{}\)
            \(\newcommand {\arabic }[1]{}\) \(\newcommand {\number }[1]{}\)
            \(\newcommand {\noalign }[1]{\text {#1}\notag \\}\) \(\newcommand
            {\cline }[1]{}\) \(\newcommand {\directlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\luatexdirectlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\protect }{}\) \(\def
            \LWRabsorbnumber #1 {}\) \(\def \LWRabsorbquotenumber "#1 {}\)
            \(\newcommand {\LWRabsorboption }[1][]{}\) \(\newcommand
            {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\) \(\def \mathchar
            {\ifnextchar "\LWRabsorbquotenumber \LWRabsorbnumber }\) \(\def
            \mathcode #1={\mathchar }\) \(\let \delcode \mathcode \) \(\let
            \delimiter \mathchar \) \(\def \oe {\unicode {x0153}}\) \(\def \OE
            {\unicode {x0152}}\) \(\def \ae {\unicode {x00E6}}\) \(\def \AE
            {\unicode {x00C6}}\) \(\def \aa {\unicode {x00E5}}\) \(\def \AA
            {\unicode {x00C5}}\) \(\def \o {\unicode {x00F8}}\) \(\def \O
            {\unicode {x00D8}}\) \(\def \l {\unicode {x0142}}\) \(\def \L
            {\unicode {x0141}}\) \(\def \ss {\unicode {x00DF}}\) \(\def \SS
            {\unicode {x1E9E}}\) \(\def \dag {\unicode {x2020}}\) \(\def \ddag
            {\unicode {x2021}}\) \(\def \P {\unicode {x00B6}}\) \(\def
            \copyright {\unicode {x00A9}}\) \(\def \pounds {\unicode {x00A3}}\)
            \(\let \LWRref \ref \) \(\renewcommand {\ref }{\ifstar \LWRref
            \LWRref }\) \( \newcommand {\multicolumn }[3]{#3}\) \(\require
            {textcomp}\) \( \newcommand {\meta }[1]{\langle \textit {#1}\rangle
            } \) \(\newcommand {\intertext }[1]{\text {#1}\notag \\}\) \(\let
            \Hat \hat \) \(\let \Check \check \) \(\let \Tilde \tilde \) \(\let
            \Acute \acute \) \(\let \Grave \grave \) \(\let \Dot \dot \) \(\let
            \Ddot \ddot \) \(\let \Breve \breve \) \(\let \Bar \bar \) \(\let
            \Vec \vec \)
          </div>

          <p></p>
          <h4 id="autosec-505">
            <span class="sectionnumber">12&emsp;</span>Hierarchical Structures:
            Package, Environments, Scopes, and Styles
          </h4>
          <a id="pgfmanual-autopage-505"></a>
          <a id="pgfmanual-autofile-15"></a>

          <p>
            The present section explains how your files should be structured
            when you use <span class="tikzname">TikZ</span>. On the top level,
            you need to include the <span class="texttt">tikz</span> package. In
            the main text, each graphic needs to be put in a
            <span class="texttt">{tikzpicture}</span> environment. Inside these
            environments, you can use
            <span class="texttt">{scope}</span> environments to create internal
            groups. Inside the scopes you use
            <span class="texttt">\path</span> commands to actually draw
            something. On all levels (except for the package level), graphic
            options can be given that apply to everything within the
            environment.
          </p>
          <h5 id="autosec-506">
            <span class="sectionnumber" id="sec-12.1">12.1&emsp;</span>Loading
            the Package and the Libraries<a class="anchor-link" href="#sec-12.1"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-506"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.tikz"></a>
                <span class="hl-def"
                  ><kbd
                    >\usepackage{<span class="textcolor" style="color: #bf0000"
                      >tikz</span
                    >} %
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >L<span class="latexlogosup">a</span>T<span
                          class="latexlogosub"
                          >e</span
                        >X</span
                      ></span
                    ></kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.tikz">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\input
                    <span class="textcolor" style="color: #bf0000">tikz</span
                    >.tex % plain
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    ></kbd
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\usemodule[<span class="textcolor" style="color: #bf0000"
                      >tikz</span
                    >] % Con<span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >t</kbd
                  ></span
                >
              </p>
            </div>
            <p>This package does not have any options.</p>
            <p>
              This will automatically load the
              <span class="textsc">pgf</span> and the
              <span class="texttt">pgffor</span> package.
            </p>
            <p>
              <span class="textsc">pgf</span> needs to know what
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              driver you are intending to use. In most cases
              <span class="textsc">pgf</span> is clever enough to determine the
              correct driver for you; this is true in particular if you use
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >. One situation where <span class="textsc">pgf</span> cannot know
              the driver &ldquo;by itself&rdquo; is when you use plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              or Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t together with <span class="texttt">dvipdfm</span>. In this
              case, you have to write
              <span class="texttt">\def\pgfsysdriver{pgfsys-dvipdfm.def}</span>
              <em>before</em> you input <span class="texttt">tikz.tex</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/usetikzlibrary"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\usetikzlibrary</kbd></span
                  >{<span class="angle">&langle;</span><i>list of libraries</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/usetikzlibrary"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Once <span class="tikzname">TikZ</span> has been loaded, you can
              use this command to load further libraries. The list of libraries
              should contain the names of libraries separated by commas. Instead
              of curly braces, you can also use square brackets, which is
              something Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t users will like. If you try to load a library a second time,
              nothing will happen.
            </p>
            <p>
              <i>Example: </i
              ><span class="texttt">\usetikzlibrary{arrows.meta}</span>
            </p>
            <p>
              The above command will load a whole bunch of extra arrow tip
              definitions.
            </p>
            <p>
              What this command does is to load the file
              <span class="texttt">tikzlibrary</span
              ><span class="angle">&langle;</span><i>library</i
              ><span class="angle">&rangle;</span
              ><span class="texttt">.code.tex</span> for each
              <span class="angle">&langle;</span><i>library</i
              ><span class="angle">&rangle;</span> in the
              <span class="angle">&langle;</span><i>list of libraries</i
              ><span class="angle">&rangle;</span>. If this file does not exist,
              the file <span class="texttt">pgflibrary</span
              ><span class="angle">&langle;</span><i>library</i
              ><span class="angle">&rangle;</span
              ><span class="texttt">.code.tex</span> is loaded instead. If this
              file also does not exist, an error message is printed. Thus, to
              write your own library file, all you need to do is to place a file
              of the appropriate name somewhere where
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              can find it.
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >L<span class="latexlogosup">a</span>T<span
                    class="latexlogosub"
                    >e</span
                  >X</span
                ></span
              >, plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >, and Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t users can then use your library.
            </p>
          </div>
          <h5 id="autosec-507">
            <span class="sectionnumber" id="sec-12.2">12.2&emsp;</span>Creating
            a Picture<a class="anchor-link" href="#sec-12.2">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-507"></a>
          <h6 id="autosec-508">
            <span class="sectionnumber" id="sec-12.2.1">12.2.1&emsp;</span
            >Creating a Picture Using an Environment<a
              class="anchor-link"
              href="#sec-12.2.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-508"></a>

          <p>
            The &ldquo;outermost&rdquo; scope of
            <span class="tikzname">TikZ</span> is the
            <span class="texttt">{tikzpicture}</span> environment. You may give
            drawing commands only inside this environment, giving them outside
            (as is possible in many other packages) will result in chaos.
          </p>

          <p>
            In <span class="tikzname">TikZ</span>, the way graphics are rendered
            is strongly influenced by graphic options. For example, there is an
            option for setting the color used for drawing, another for setting
            the color used for filling, and also more obscure ones like the
            option for setting the prefix used in the filenames of temporary
            files written while plotting functions using an external program.
            The graphic options are specified in <em>key lists</em>, see
            Section&nbsp;<a href="tikz-scopes#section-graphic-options">12.4</a>
            below for details. All graphic options are local to the
            <span class="texttt">{tikzpicture}</span> to which they apply.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.tikzpicture"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >tikzpicture</span
                    >}</kbd
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>animations spec</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ></span
                >
                <a class="anchor-link" href="#pgf.tikzpicture">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >tikzpicture</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              All <span class="tikzname">TikZ</span> commands should be given
              inside this environment, except for the
              <span class="texttt">\tikzset</span> command. You cannot use
              graphics commands like the low-level command
              <span class="texttt">\pgfpathmoveto</span> outside this
              environment and doing so will result in chaos. For
              <span class="tikzname">TikZ</span>, commands like
              <span class="texttt">\path</span> are only defined inside this
              environment, so there is little chance that you will do something
              wrong here.
            </p>
            <p>
              When this environment is encountered, the
              <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> are parsed, see
              Section&nbsp;<a href="tikz-scopes#section-graphic-options">12.4</a
              >. All options given here will apply to the whole picture. Before
              the options you can specify animation commands, provided that the
              <span class="texttt">animations</span> library is loaded, see
              Section&nbsp;<a href="tikz-animations#section-tikz-animations"
                >26</a
              >
              for details.
            </p>
            <p>
              Next, the contents of the environment is processed and the graphic
              commands therein are put into a box. Non-graphic text is
              suppressed as well as possible, but non-<span class="textsc"
                >pgf</span
              >
              commands inside a
              <span class="texttt">{tikzpicture}</span> environment should not
              produce any &ldquo;output&rdquo; since this may totally scramble
              the positioning system of the backend drivers. The suppressing of
              normal text, by the way, is done by temporarily switching the font
              to <span class="texttt">\nullfont</span>. You can, however,
              &ldquo;escape back&rdquo; to normal
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              typesetting. This happens, for example, when you specify a node.
            </p>
            <p>
              At the end of the environment,
              <span class="textsc">pgf</span> tries to make a good guess at the
              size of a bounding box of the graphic and then resizes the picture
              box such that the box has this size. To &ldquo;make its
              guess&rdquo;, every time
              <span class="textsc">pgf</span> encounters a coordinate, it
              updates the bounding box&rsquo;s size such that it encompasses all
              these coordinates. This will usually give a good approximation of
              the bounding box, but will not always be accurate. First, the line
              thickness of diagonal lines is not taken into account correctly.
              Second, control points of a curve often lie far
              &ldquo;outside&rdquo; the curve and make the bounding box too
              large. In this case, you should use the
              <span class="texttt">[use as bounding box]</span> option.
            </p>
            <p>
              The following key influences the baseline of the resulting
              picture:
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/baseline"></a><a id="pgf.baseline"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/baseline</span
                        ></span
                      ><span class="textcolor" style="color: #008000"
                        >=</span
                      ></kbd
                    ><span class="textcolor" style="color: #008000"
                      ><span class="angle">&langle;</span
                      ><i>dimension or coordinate or <kbd>default</kbd></i
                      ><span class="angle">&rangle;</span>
                    </span></span
                  ><span class="hl-default">(default <kbd>0pt</kbd>)</span>
                  <a class="anchor-link" href="#pgf./tikz/baseline">&para;</a>
                </p>
              </div>
              <p>
                Normally, the lower end of the picture is put on the baseline of
                the surrounding text. For example, when you give the code
                <span class="texttt">\tikz\draw(0,0)circle(.5ex);</span>,
                <span class="textsc">pgf</span> will find out that the lower end
                of the picture is at \(-.5\mathrm {ex} - 0.2\mathrm {pt}\) (the
                0.2pt are half the line width, which is 0.4pt) and that the
                upper end is at \(.5\mathrm {ex}+.5\mathrm {pt}\). Then, the
                lower end will be put on the baseline, resulting in the
                following:
                <span class="lateximagesource" id="lateximage-pgfmanual-152"
                  ><!--
         -->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="9.123"
                    loading="lazy"
                    src="pgfmanual-images/image-152.png"
                    style
                    width="9.117" /></span
                >.
              </p>
              <p>
                Using this option, you can specify that the picture should be
                raised or lowered such that the height
                <span class="angle">&langle;</span><i>dimension</i
                ><span class="angle">&rangle;</span> is on the baseline. For
                example,
                <span class="texttt"
                  >\tikz[baseline=0pt]\draw(0,0)circle(.5ex);</span
                >
                yields
                <span class="lateximagesource" id="lateximage-pgfmanual-153"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="9.123"
                    loading="lazy"
                    src="pgfmanual-images/image-153.png"
                    style
                    width="9.117"
                /></span>
                since, now, the baseline is on the height of the \(x\)-axis.
              </p>
              <p>
                This options is often useful for &ldquo;inlined&rdquo; graphics
                as in
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="lateximagesource" id="lateximage-pgfmanual-154"
                      ><!--
A B
-->
                      <img
                        alt="(image)"
                        class="lateximage"
                        height="12.675"
                        loading="lazy"
                        src="pgfmanual-images/image-154.png"
                        style
                        width="46.443"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">$A</span>
                    <span class="textcolor" style="color: #0000b2"
                      >\mathbin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-scopes#pgf.baseline">baseline</a></span
                    >]&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >[<span class="textcolor" style="color: #008000"
                      >-&gt;&gt;</span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(0pt,.5ex)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(3ex,.5ex)</span
                    >;}&numsp;<span class="textcolor" style="color: #000000"
                      >B$</span
                    ><br />
                  </code>
                </div>
              </figure>
              <p>
                Instead of a <span class="angle">&langle;</span><i>dimension</i
                ><span class="angle">&rangle;</span> you can also provide a
                coordinate in parentheses. Then the effect is to put the
                baseline on the \(y\)-coordinate that the given
                <span class="angle">&langle;</span><i>coordinate</i
                ><span class="angle">&rangle;</span> has
                <em>at the end of the picture</em>. This means that, at the end
                of the picture, the <span class="angle">&langle;</span
                ><i>coordinate</i><span class="angle">&rangle;</span> is
                evaluated and then the baseline is set to the \(y\)-coordinate
                of the resulting point. This makes it easy to reference the
                \(y\)-coordinate of, say, the baseline of nodes.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    Hello<span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-155"
                      ><!--
world.
-->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="21.867"
                        loading="lazy"
                        src="pgfmanual-images/image-155.png"
                        style
                        width="53.763"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="c- preamble"
                      >\usetikzlibrary {shapes.misc} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">Hello</span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-scopes#pgf.baseline">baseline</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><span class="textcolor" style="color: #800080"
                        >(X.base)</span
                      ></span
                    >]<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      ><a href="library-shapes#pgf.cross:out"
                        >cross out</a
                      ></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.draw">draw</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(X)</span
                    >&numsp;{<span class="textcolor" style="color: #000000"
                      >world</span
                    >.};<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    Top align:<span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-156"
                      ><!--
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="9.096"
                        loading="lazy"
                        src="pgfmanual-images/image-156.png"
                        style
                        width="40.993"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">Top</span>
                    <span class="textcolor" style="color: #000000">align:</span
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                    >[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-scopes#pgf.baseline">baseline</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><span class="textcolor" style="color: #800080"
                        >(current bounding box.north)</span
                      ></span
                    >]<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;<span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(1cm,1ex)</span
                    >;<br />
                  </code>
                </div>
              </figure>
              <p>
                Use <span class="texttt">baseline=default</span> to reset the
                <span class="texttt">baseline</span> option to its initial
                configuration.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/execute:at:begin:picture"></a
                  ><a id="pgf.execute:at:begin:picture"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/execute at begin picture</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>code</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a
                    class="anchor-link"
                    href="#pgf./tikz/execute:at:begin:picture"
                    >&para;</a
                  >
                </p>
              </div>
              <p>
                This option causes <span class="angle">&langle;</span><i>code</i
                ><span class="angle">&rangle;</span> to be executed at the
                beginning of the picture. This option must be given in the
                argument of the
                <span class="texttt">{tikzpicture}</span> environment itself
                since this option will not have an effect otherwise. After all,
                the picture has already &ldquo;started&rdquo; later on. The
                effect of multiply setting this option accumulates.
              </p>
              <p>
                This option is mainly used in styles like the
                <span class="texttt">every picture</span> style to execute
                certain code at the start of a picture.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/execute:at:end:picture"></a
                  ><a id="pgf.execute:at:end:picture"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/execute at end picture</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>code</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a
                    class="anchor-link"
                    href="#pgf./tikz/execute:at:end:picture"
                    >&para;</a
                  >
                </p>
              </div>
              <p>
                This option installs <span class="angle">&langle;</span
                ><i>code</i><span class="angle">&rangle;</span> that will be
                executed at the end of the picture. Using this option multiple
                times will cause the code to accumulate. This option must also
                be given in the optional argument of the
                <span class="texttt">{tikzpicture}</span> environment.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span class="lateximagesource" id="lateximage-pgfmanual-157"
                      ><!--
    Y

X
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="58.467"
                        loading="lazy"
                        src="pgfmanual-images/image-157.png"
                        style
                        width="98.692"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="c- preamble"
                      >\usetikzlibrary {backgrounds} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-scopes#pgf.execute:at:end:picture"
                        >execute at end picture</a
                      ></span
                    >=<span class="example-code-comment">%</span><br />
                    <span class="textcolor" style="color: #008000"
                      >{<br />
                      &numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #000000"
                        >\begin</span
                      >{<span class="textcolor" style="color: #0000b2"
                        ><a href="base-layers#pgf.pgfonlayer"
                          >pgfonlayer</a
                        ></span
                      >}{background}<br />
                      &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #0000b2"
                        ><a href="tikz-paths#pgf.back/path">\path</a></span
                      >[<span class="textcolor" style="color: #008000"
                        ><a href="tikz-actions#pgf.fill">fill</a></span
                      >=<span class="textcolor" style="color: #008000"
                        >yellow</span
                      >,<span class="textcolor" style="color: #008000"
                        ><a href="tikz-paths#pgf.rounded:corners"
                          >rounded corners</a
                        ></span
                      >]<br />
                      &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #800080"
                        >(current bounding box.south west)</span
                      >&numsp;<a href="tikz-paths#pgf.rectangle">rectangle</a
                      ><br />
                      &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #800080"
                        >(current bounding box.north east)</span
                      >;<br />
                      &numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #000000"
                        >\end</span
                      >{<span class="textcolor" style="color: #0000b2"
                        ><a href="base-layers#pgf.pgfonlayer"
                          >pgfonlayer</a
                        ></span
                      >}<br />
                      &numsp;&numsp;}</span
                    >]<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.at">at</a></span
                    >
                    <span class="textcolor" style="color: #800080">(0,0)</span
                    >&numsp;{<span class="textcolor" style="color: #000000"
                      >X</span
                    >};<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-shapes#pgf.back/node">\node</a></span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.at">at</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,1)</span
                    >&numsp;{<span class="textcolor" style="color: #000000"
                      >Y</span
                    >};<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </div>
            <p>
              All options &ldquo;end&rdquo; at the end of the picture. To set an
              option &ldquo;globally&rdquo; change the following style:
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/every:picture"></a
                  ><a id="pgf.every:picture"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/every picture</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default"
                    >(style, initially <kbd>empty</kbd>)</span
                  >
                  <a class="anchor-link" href="#pgf./tikz/every:picture"
                    >&para;</a
                  >
                </p>
              </div>
              <p>This style is installed at the beginning of each picture.</p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <a href="tikz-scopes#pgf.back/tikzset">\tikzset</a>{<span
                      class="textcolor"
                      style="color: #008000"
                      ><a href="tikz-scopes#pgf.every:picture"
                        >every picture</a
                      ></span
                    >/<span class="textcolor" style="color: #0000b2"
                      ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.semithick">semithick</a></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </div>
            <p>
              Note that you should not use
              <span class="texttt">\tikzset</span> to set options directly. For
              instance, if you want to use a line width of
              <span class="texttt">1pt</span> by default, do not try to say
              <span class="texttt">\tikzset{line width=1pt}</span> at the
              beginning of your document. This will not work since the line
              width is changed in many places. Instead, say
            </p>

            <figure class="example">
              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <a href="tikz-scopes#pgf.back/tikzset">\tikzset</a>{<span
                    class="textcolor"
                    style="color: #008000"
                    ><a href="tikz-scopes#pgf.every:picture"
                      >every picture</a
                    ></span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                  >={<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.line:width">line width</a></span
                  >=<span class="textcolor" style="color: #008000">1pt}</span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>This will have the desired effect.</p>
          </div>

          <p>
            In other
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            formats, you should use the following commands instead:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\tikzpicture</span
                    ></kbd
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endtikzpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This is the plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\starttikzpicture</span
                    ></kbd
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoptikzpicture</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This is the Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>
          <h6 id="autosec-521">
            <span class="sectionnumber" id="sec-12.2.2">12.2.2&emsp;</span
            >Creating a Picture Using a Command<a
              class="anchor-link"
              href="#sec-12.2.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-521"></a>

          <p>
            The following command is an alternative to
            <span class="texttt">{tikzpicture}</span> that is particular useful
            for graphics consisting of a single or few commands.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/tikz"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\tikz</kbd></span
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>animations spec</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  >{<span class="angle">&langle;</span><i>path commands</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/tikz">&para;</a>
              </p>
            </div>
            <p>
              This command places the <span class="angle">&langle;</span
              ><i>path commands</i><span class="angle">&rangle;</span> inside a
              <span class="texttt">{tikzpicture}</span> environment. The
              <span class="angle">&langle;</span><i>path commands</i
              ><span class="angle">&rangle;</span> may contain paragraphs and
              fragile material (like verbatim text).
            </p>
            <p>
              If there is only one path command, it need not be surrounded by
              curly braces, if there are several, you need to add them (this is
              similar to the <span class="texttt">\foreach</span> statement and
              also to the rules in programming languages like Java or C
              concerning the placement of curly braces).
            </p>
            <p>
              <i>Example: </i
              ><span class="texttt"
                >\tikz{\draw (0,0) rectangle (2ex,1ex);}</span
              >
              yields
              <span class="lateximagesource" id="lateximage-pgfmanual-158"
                ><!--
-->
                <img
                  alt="(-tikz-&nbsp;diagram)"
                  class="lateximage"
                  height="9.096"
                  loading="lazy"
                  src="pgfmanual-images/image-158.png"
                  style
                  width="14.993"
              /></span>
            </p>
            <p>
              <i>Example: </i
              ><span class="texttt"
                >\tikz \draw (0,0) rectangle (2ex,1ex);</span
              >
              yields
              <span class="lateximagesource" id="lateximage-pgfmanual-159"
                ><!--
-->
                <img
                  alt="(-tikz-&nbsp;diagram)"
                  class="lateximage"
                  height="9.096"
                  loading="lazy"
                  src="pgfmanual-images/image-159.png"
                  style
                  width="14.993"
              /></span>
            </p>
          </div>
          <h6 id="autosec-526">
            <span class="sectionnumber" id="sec-12.2.3">12.2.3&emsp;</span
            >Handling Catcodes and the Babel Package<a
              class="anchor-link"
              href="#sec-12.2.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-526"></a>

          <p>
            Inside a <span class="tikzname">TikZ</span> picture, most symbols
            need to have the category code 12 (normal text) in order to ensure
            that the parser works properly. This is typically not the case when
            packages like <span class="texttt">babel</span> are used, which
            change catcodes aggressively.
          </p>

          <p>
            To solve this problem, <span class="tikzname">TikZ</span> provides a
            small library also called <span class="texttt">babel</span> (which
            can, however, also be used together with any other package that
            globally changes category codes). What it does is to reset the
            category codes at the beginning of every
            <span class="texttt">{tikzpicture}</span> and to restore them at the
            beginning of every node. In almost all cases, this is exactly what
            you would expect and need, so I recommend to always load this
            library by saying
            <span class="texttt">\usetikzlibrary{babel}</span>. For details on
            what, exactly, happens with the category codes, see Section&nbsp;<a
              href="library-babel#section-library-babel"
              >44</a
            >.
          </p>
          <h6 id="autosec-527">
            <span class="sectionnumber" id="sec-12.2.4">12.2.4&emsp;</span
            >Adding a Background<a class="anchor-link" href="#sec-12.2.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-527"></a>

          <p>
            By default, pictures do not have any background, that is, they are
            &ldquo;transparent&rdquo; on all parts on which you do not draw
            anything. You may instead wish to have a colored background behind
            your picture or a black frame around it or lines above and below it
            or some other kind of decoration.
          </p>

          <p>
            Since backgrounds are often not needed at all, the definition of
            styles for adding backgrounds has been put in the library package
            <span class="texttt">backgrounds</span>. This package is documented
            in Section&nbsp;<a
              href="library-backgrounds#section-tikz-backgrounds"
              >45</a
            >.
          </p>
          <h5 id="autosec-528">
            <span class="sectionnumber" id="sec-12.3">12.3&emsp;</span>Using
            Scopes to Structure a Picture<a class="anchor-link" href="#sec-12.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-528"></a>

          <p>
            Inside a <span class="texttt">{tikzpicture}</span> environment you
            can create scopes using the
            <span class="texttt">{scope}</span> environment. This environment is
            available only inside the <span class="texttt">{tikzpicture}</span>
            environment, so once more, there is little chance of doing anything
            wrong.
          </p>
          <h6 id="autosec-529">
            <span class="sectionnumber" id="sec-12.3.1">12.3.1&emsp;</span>The
            Scope Environment<a class="anchor-link" href="#sec-12.3.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-529"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.scope"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >scope</span
                    >}</kbd
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>animations spec</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ></span
                >
                <a class="anchor-link" href="#pgf.scope">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >scope</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              All <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> are local to the
              <span class="angle">&langle;</span><i>environment contents</i
              ><span class="angle">&rangle;</span>. Furthermore, the clipping
              path is also local to the environment, that is, any clipping done
              inside the environment &ldquo;ends&rdquo; at its end.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-160"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="42.627"
                      loading="lazy"
                      src="pgfmanual-images/image-160.png"
                      style
                      width="40.496"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.ultra:thick"
                      >ultra thick</a
                    ></span
                  >]<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}[<span class="textcolor" style="color: #008000">red</span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0mm,10mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,10mm)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0mm,8mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,8mm)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0mm,6mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,6mm)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}[<span class="textcolor" style="color: #008000">green</span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0mm,4mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,4mm)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0mm,2mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,2mm)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">blue</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0mm,0mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,0mm)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/name"></a><a id="pgf.name"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/name</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>scope name</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a class="anchor-link" href="#pgf./tikz/name">&para;</a>
                </p>
              </div>
              <p>
                Assigns a name to a scope reference in animations. The name is a
                &ldquo;high-level&rdquo; name that drivers do not see, so you
                can use spaces, number, letters, in a name, but you should
                <em>not</em> use any punctuation like a dot, a comma, or a
                colon.
              </p>
            </div>
            <p>The following style influences scopes:</p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/every:scope"></a
                  ><a id="pgf.every:scope"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/every scope</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default"
                    >(style, initially <kbd>empty</kbd>)</span
                  >
                  <a class="anchor-link" href="#pgf./tikz/every:scope"
                    >&para;</a
                  >
                </p>
              </div>
              <p>This style is installed at the beginning of every scope.</p>
            </div>
            <p>The following options are useful for scopes:</p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/execute:at:begin:scope"></a
                  ><a id="pgf.execute:at:begin:scope"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/execute at begin scope</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>code</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a
                    class="anchor-link"
                    href="#pgf./tikz/execute:at:begin:scope"
                    >&para;</a
                  >
                </p>
              </div>
              <p>
                This option install some code that will be executed at the
                beginning of the scope. This option must be given in the
                argument of the <span class="texttt">{scope}</span> environment.
              </p>
              <p>
                The effect applies only to the current scope, not to subscopes.
              </p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/execute:at:end:scope"></a
                  ><a id="pgf.execute:at:end:scope"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/execute at end scope</span
                        ></span
                      >=</kbd
                    ><span class="angle">&langle;</span><i>code</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="hl-default">(no default)</span>
                  <a class="anchor-link" href="#pgf./tikz/execute:at:end:scope"
                    >&para;</a
                  >
                </p>
              </div>
              <p>
                This option installs some code that will be executed at the end
                of the current scope. Using this option multiple times will
                cause the code to accumulate. This option must also be given in
                the optional argument of the
                <span class="texttt">{scope}</span> environment.
              </p>
              <p>
                Again, the effect applies only to the current scope, not to
                subscopes.
              </p>
            </div>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\scope</span
                    ></kbd
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>animations spec</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startscope</span
                    ></kbd
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>animations spec</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stopscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>
          <h6 id="autosec-532">
            <span class="sectionnumber" id="sec-12.3.2">12.3.2&emsp;</span
            >Shorthand for Scope Environments<a
              class="anchor-link"
              href="#sec-12.3.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-532"></a>

          <p>There is a small library that makes using scopes a bit easier:</p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.scopes"></a>
                <span class="hl-def"
                  ><b><span class="tikzname">TikZ</span> Library</b>
                  <kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >scopes</span
                    ></kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.scopes">&para;</a>
              </p>
            </div>

            <p>
              <kbd
                >\usetikzlibrary{<span class="textcolor" style="color: #bf0000"
                  >scopes</span
                >} %
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >L<span class="latexlogosup">a</span>T<span
                      class="latexlogosub"
                      >e</span
                    >X</span
                  ></span
                >
                and plain
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                ></kbd
              ><br />
              <kbd
                >\usetikzlibrary[<span class="textcolor" style="color: #bf0000"
                  >scopes</span
                >] % Con<span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >t</kbd
              ><br />
              <br />
              This library defines a shorthand for starting and ending
              <span class="texttt">{scope}</span> environments.
            </p>
          </div>

          <p>
            When this library is loaded, the following happens: At certain
            places inside a <span class="tikzname">TikZ</span> picture, it is
            allowed to start a scope just using a single brace, provided the
            single brace is followed by options in square brackets:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-161"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="41.835"
                    loading="lazy"
                    src="pgfmanual-images/image-161.png"
                    style
                    width="40.496"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {scopes} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;{&numsp;[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.ultra:thick">ultra thick</a></span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;{&numsp;[<span
                  class="textcolor"
                  style="color: #008000"
                  >red</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0mm,10mm)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(10mm,10mm)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0mm,8mm)</span
                >&numsp;&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(10mm,8mm)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;}<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0mm,6mm)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(10mm,6mm)</span
                >;<br />
                &numsp;&numsp;}<br />
                &numsp;&numsp;{&numsp;[<span
                  class="textcolor"
                  style="color: #008000"
                  >green</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0mm,4mm)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(10mm,4mm)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0mm,2mm)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(10mm,2mm)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0mm,0mm)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(10mm,0mm)</span
                >;<br />
                &numsp;&numsp;}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            In the above example,
            <span class="texttt">{ [ultra thick]</span> actually causes a
            <span class="texttt">\begin{scope}[ultra thick]</span> to be
            inserted, and the corresponding closing
            <span class="texttt">}</span> causes an
            <span class="texttt">\end{scope}</span> to be inserted.
          </p>

          <p>
            The &ldquo;certain places&rdquo; where an opening brace has this
            special meaning are the following: First, right after the semicolon
            that ends a path. Second, right after the end of a scope. Third,
            right at the beginning of a scope, which includes the beginning of a
            picture. Also note that some square bracket must follow, otherwise
            the brace is treated as a normal
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            scope.
          </p>
          <h6 id="autosec-535">
            <span class="sectionnumber" id="sec-12.3.3">12.3.3&emsp;</span
            >Single Command Scopes<a class="anchor-link" href="#sec-12.3.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-535"></a>

          <p>
            In some situations it is useful to create a scope for a single
            command. For instance, when you wish to use algorithm graph drawing
            in order to layout a tree, the path of the tree needs to be
            surrounded by a scope whose only purpose is to take a key that
            selects a layout for the scope. Similarly, in order to put something
            on a background layer, a scope needs to be created. In such cases,
            where it will cumbersome to create a
            <span class="texttt">\begin{scope}</span> and
            <span class="texttt">\end{scope}</span> pair just for a single
            command, the <span class="texttt">\scoped</span> command may be
            useful:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/scoped"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\scoped</kbd></span
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>animations spec</i
                    ><span class="angle">&rangle;</span></span
                  ><span class="textcolor" style="color: #008000"
                    >[<span class="angle">&langle;</span><i>options</i
                    ><span class="angle">&rangle;</span>]</span
                  ><span class="angle">&langle;</span><i>path command</i
                  ><span class="angle">&rangle;</span></span
                >
                <a class="anchor-link" href="#pgf.back/scoped">&para;</a>
              </p>
            </div>
            <p>
              This command works like <span class="texttt">\tikz</span>, only
              you can use it inside a <span class="texttt">{tikzpicture}</span>.
              It will take the following <span class="angle">&langle;</span
              ><i>path command</i><span class="angle">&rangle;</span> and put it
              inside a <span class="texttt">{scope}</span> with the
              <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> set. The
              <span class="angle">&langle;</span><i>path command</i
              ><span class="angle">&rangle;</span> may either be a single
              command ended by a semicolon or it may contain multiple commands,
              but then they must be surrounded by curly braces.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-162"
                    ><!--
Hello world
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.794"
                      loading="lazy"
                      src="pgfmanual-images/image-162.png"
                      style
                      width="116.745"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble">\usetikzlibrary {backgrounds} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.fill">fill</a></span
                  >=<span class="textcolor" style="color: #008000">white</span
                  >]&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.at">at</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,1)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >Hello</span
                  >
                  <span class="textcolor" style="color: #000000">world</span
                  >};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.back/scoped">\scoped</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="library-backgrounds#pgf.on:background:layer"
                      >on background layer</a
                    ></span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
          <h6 id="autosec-538">
            <span class="sectionnumber" id="sec-12.3.4">12.3.4&emsp;</span>Using
            Scopes Inside Paths<a class="anchor-link" href="#sec-12.3.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-538"></a>

          <p>
            The <span class="texttt">\path</span> command, which is described in
            much more detail in later sections, also takes graphic options.
            These options are local to the path. Furthermore, it is possible to
            create local scopes within a path simply by using curly braces as in
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-163"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="41.499"
                    loading="lazy"
                    src="pgfmanual-images/image-163.png"
                    style
                    width="116.529"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                >&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(1,1)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(2,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3,1)</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(3,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(2,1)</span
                >;<br />
              </code>
            </div>
          </figure>

          <p>
            Note that many options apply only to the path as a whole and cannot
            be scoped in this way. For example, it is not possible to scope the
            <span class="texttt">color</span> of the path. See the explanations
            in the section on paths for more details.
          </p>

          <p>
            Finally, certain elements that you specify in the argument to the
            <span class="texttt">\path</span> command also take local options.
            For example, a node specification takes options. In this case, the
            options apply only to the node, not to the surrounding path.
          </p>
          <h5 id="autosec-541">
            <a id="section-graphic-options"></a
            ><span class="sectionnumber" id="sec-12.4">12.4&emsp;</span>Using
            Graphic Options<a class="anchor-link" href="#sec-12.4">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-541"></a>

          <h6 id="autosec-542">
            <span class="sectionnumber" id="sec-12.4.1">12.4.1&emsp;</span>How
            Graphic Options Are Processed<a
              class="anchor-link"
              href="#sec-12.4.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-542"></a>

          <p>
            Many commands and environments of
            <span class="tikzname">TikZ</span> accept <em>options</em>. These
            options are so-called <em>key lists</em>. To process the options,
            the following command is used, which you can also call yourself.
            Note that it is usually better not to call this command directly,
            since this will ensure that the effect of options are local to a
            well-defined scope.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/tikzset"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\tikzset</kbd></span
                  >{<span class="angle">&langle;</span><i>options</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/tikzset">&para;</a>
              </p>
            </div>
            <p>
              This command will process the <span class="angle">&langle;</span
              ><i>options</i><span class="angle">&rangle;</span> using the
              <span class="texttt">\pgfkeys</span> command, documented in detail
              in Section&nbsp;<a href="pgfkeys#section-keys">86</a>, with the
              default path set to <span class="texttt">/tikz</span>. Under
              normal circumstances, the <span class="angle">&langle;</span
              ><i>options</i><span class="angle">&rangle;</span> will be lists
              of comma-separated pairs of the form
              <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span><span class="texttt">=</span
              ><span class="angle">&langle;</span><i>value</i
              ><span class="angle">&rangle;</span>, but more fancy things can
              happen when you use the power of the
              <span class="texttt">pgfkeys</span> mechanism, see Section&nbsp;<a
                href="pgfkeys#section-keys"
                >86</a
              >
              once more.
            </p>
            <p>
              When a pair <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span><span class="texttt">=</span
              ><span class="angle">&langle;</span><i>value</i
              ><span class="angle">&rangle;</span> is processed, the following
              happens:
            </p>

            <p>
              1. If the <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is a full key (starts with a
              slash) it is handled directly as described in Section&nbsp;<a
                href="pgfkeys#section-keys"
                >86</a
              >.
            </p>

            <p>
              2. Otherwise (which is usually the case), it is checked whether
              <span class="texttt">/tikz/</span
              ><span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is a key and, if so, it is
              executed.
            </p>

            <p>
              3. Otherwise, it is checked whether
              <span class="texttt">/pgf/</span
              ><span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is a key and, if so, it is
              executed.
            </p>

            <p>
              4. Otherwise, it is checked whether
              <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is a color and, if so,
              <span class="texttt">color=</span
              ><span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is executed.
            </p>

            <p>
              5. Otherwise, it is checked whether
              <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> contains a dash and, if so,
              <span class="texttt">arrows=</span
              ><span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is executed.
            </p>

            <p>
              6. Otherwise, it is checked whether
              <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is the name of a shape and,
              if so, <span class="texttt">shape=</span
              ><span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span> is executed.
            </p>

            <p>7. Otherwise, an error message is printed.</p>

            <p>
              Note that by the above description, all keys starting with
              <span class="texttt">/tikz</span> and also all keys starting with
              <span class="texttt">/pgf</span> can be used as
              <span class="angle">&langle;</span><i>key</i
              ><span class="angle">&rangle;</span>s in an
              <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> list.
            </p>
          </div>
          <h6 id="autosec-543">
            <span class="sectionnumber" id="sec-12.4.2">12.4.2&emsp;</span>Using
            Styles to Manage How Pictures Look<a
              class="anchor-link"
              href="#sec-12.4.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-543"></a>

          <p>
            There is a way of organizing sets of graphic options
            &ldquo;orthogonally&rdquo; to the normal scoping mechanism. For
            example, you might wish all your &ldquo;help lines&rdquo; to be
            drawn in a certain way like, say, gray and thin (do
            <em>not</em> dash them, that distracts). For this, you can use
            <em>styles</em>.
          </p>

          <p>
            A style is a key that, when used, causes a set of graphic options to
            be processed. Once a style has been defined, it can be used like any
            other key. For example, the predefined
            <span class="texttt">help lines</span> style, which you should use
            for lines in the background like grid lines or construction lines.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-164"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="78.794"
                    loading="lazy"
                    src="pgfmanual-images/image-164.png"
                    style
                    width="154.274"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(2,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Defining styles is also done using options. Suppose we wish to
            define a style called <span class="texttt">my style</span> and when
            this style is used, we want the draw color to be set to
            <span class="texttt">red</span> and the fill color be set to
            <span class="texttt">red!20</span>. To achieve this, we use the
            following option:
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">my</span>
                <span class="textcolor" style="color: #000000">style/</span
                >.<span class="textcolor" style="color: #000000">style=</span
                >{<span class="textcolor" style="color: #000000">draw=red</span
                >,<span class="textcolor" style="color: #000000"
                  >fill=red!20</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The meaning of the curious <span class="texttt">/.style</span> is
            the following: &ldquo;The key
            <span class="texttt">my style</span> should not be used here but,
            rather, be defined. So, set up things such that using the key
            <span class="texttt">my style</span> will, in the following, have
            the same effect as if we had written
            <span class="texttt">draw=red,fill=red!20</span> instead.&rdquo;
          </p>

          <p>
            Returning to the help lines example, suppose we prefer blue help
            lines. This could be achieved as follows:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-165"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="78.794"
                    loading="lazy"
                    src="pgfmanual-images/image-165.png"
                    style
                    width="154.274"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thin">very thin</a></span
                >}]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(2,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Naturally, one of the main ideas behind styles is that they can be
            used in different pictures. In this case, we have to use the
            <span class="texttt">\tikzset</span> command somewhere at the
            beginning.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-166"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="78.794"
                    loading="lazy"
                    src="pgfmanual-images/image-166.png"
                    style
                    width="154.274"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <a href="tikz-scopes#pgf.back/tikzset">\tikzset</a>{<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000">blue!50</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.very:thin">very thin</a></span
                >}}<br />
                <span class="example-code-comment">% ...</span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(2,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Since styles are just special cases of
            <span class="texttt">pgfkeys</span>&rsquo;s general style facility,
            you can actually do quite a bit more. Let us start with adding
            options to an already existing style. This is done using
            <span class="texttt">/.append style</span> instead of
            <span class="texttt">/.style</span>:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-167"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="78.794"
                    loading="lazy"
                    src="pgfmanual-images/image-167.png"
                    style
                    width="154.274"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.append:style"
                    >.append style</a
                  ></span
                >=<span class="textcolor" style="color: #008000">blue!50</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(2,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #000000">+</span
                ><span class="textcolor" style="color: #800080">(2,2)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            In the above example, the option
            <span class="texttt">blue!50</span> is appended to the style
            <span class="texttt">help lines</span>, which now has the same
            effect as <span class="texttt">black!50,very thin,blue!50</span>.
            Note that two colors are set, so the last one will
            &ldquo;win&rdquo;. There also exists a handler called
            <span class="texttt">/.prefix style</span> that adds something at
            the beginning of the style.
          </p>

          <p>
            Just as normal keys, styles can be parameterized. This means that
            you write <span class="angle">&langle;</span><i>style</i
            ><span class="angle">&rangle;</span><span class="texttt">=</span
            ><span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span> when you use the style instead
            of just <span class="angle">&langle;</span><i>style</i
            ><span class="angle">&rangle;</span>. In this case, all occurrences
            of <span class="texttt">#1</span> in
            <span class="angle">&langle;</span><i>style</i
            ><span class="angle">&rangle;</span> are replaced by
            <span class="angle">&langle;</span><i>value</i
            ><span class="angle">&rangle;</span>. Here is an example that shows
            how this can be used.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-168"
                  ><!--
red

blue
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="59.679"
                    loading="lazy"
                    src="pgfmanual-images/image-168.png"
                    style
                    width="40.799"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000">outline</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">#1</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">#1!50}</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >outline</span
                >=<span class="textcolor" style="color: #008000">red</span
                >]&numsp;&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(0,1)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >red</span
                >};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >outline</span
                >=<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(0,0)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >blue</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            For parameterized styles you can also set a <em>default</em> value
            using the <span class="texttt">/.default</span> handler:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-169"
                  ><!--
default

 blue
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="59.717"
                    loading="lazy"
                    src="pgfmanual-images/image-169.png"
                    style
                    width="58.824"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000">outline</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">#1</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">#1!50}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >outline</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.default">.default</a></span
                >=<span class="textcolor" style="color: #008000">black</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >outline</span
                >]&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(0,1)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >default</span
                >};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >outline</span
                >=<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(0,0)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >blue</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            For more details on using and setting styles, see also
            Section&nbsp;<a href="pgfkeys#section-keys">86</a>.
          </p>
        </section>
      </main>

      <footer>
        <div class_="footer-left">
          <a href="https://github.com/pgf-tikz/pgf">Github</a> &middot;
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">PDF version</a>
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class_="footer-right">
          <em>Manual last updated: 2022-04-23</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      docsearch({
        apiKey: "ae66ec3fc9df4b52b4d6f24fc8508fd3",
        indexName: "tikz.dev",
        appId: "Q70NNMA9GC",
        container: "#search",
      });
    </script>
  </body>
</html>
