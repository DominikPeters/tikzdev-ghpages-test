<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>
      Coordinate, Canvas, and Nonlinear Transformations - PGF/TikZ Manual
    </title>
    <link href="style.css" rel="stylesheet" type="text/css" />

    <script>
      // Lwarp MathJax emulation code
      //
      // Based on code by Davide P. Cervone.
      // Equation numbering: https://github.com/mathjax/MathJax/issues/2427
      // Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
      // \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
      //
      // Modified by Brian Dunn to adjust equation numbering and add subequations.
      //
      // LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
      // subequations? is 0 usually, 1 if inside subequations.
      // section is a string printed as-is, or empty.
      // number is auto-incremented by MathJax between equations.
      //
      MathJax = {
        subequations: "0",
        section: "",
        loader: {
          load: ["[tex]/tagformat", "[tex]/textmacros"],
        },
        startup: {
          ready() {
            // These would be replaced by import commands if you wanted to make
            // a proper extension.
            const Configuration =
              MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;

            // Insert the replacement string into the TeX string, and check
            // that there haven't been too many maxro substitutions (prevents
            // infinite loops).
            const useArgument = (parser, text) => {
              parser.string = ParseUtil.addArgs(
                parser,
                text,
                parser.string.slice(parser.i)
              );
              parser.i = 0;
              if (
                ++parser.macroCount > parser.configuration.options.maxMacros
              ) {
                throw new TexError(
                  "MaxMacroSub1",
                  "MathJax maximum macro substitution count exceeded; " +
                    "is there a recursive macro call?"
                );
              }
            };

            // Create the command map for:
            // \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
            new CommandMap(
              "Lwarp-macros",
              {
                ifstar: "IfstarFunction",
                ifnextchar: "IfnextcharFunction",
                ifblank: "IfblankFunction",
                ifstrequal: "IfstrequalFunction",
                seteqnumber: "SeteqnumberFunction",
              },
              {
                // This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                  const resultstar = parser.GetArgument(name);
                  const resultnostar = parser.GetArgument(name);
                  const star = parser.GetStar(); // true if there is a *
                  useArgument(parser, star ? resultstar : resultnostar);
                },

                // This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                  let whichchar = parser.GetArgument(name);
                  if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                    // $ syntax highlighting
                    whichchar = String.fromCodePoint(parseInt(whichchar));
                  }
                  const resultnextchar = parser.GetArgument(name);
                  const resultnotnextchar = parser.GetArgument(name);
                  const gotchar = parser.GetNext() === whichchar;
                  useArgument(
                    parser,
                    gotchar ? resultnextchar : resultnotnextchar
                  );
                },

                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                  const blankarg = parser.GetArgument(name);
                  const resultblank = parser.GetArgument(name);
                  const resultnotblank = parser.GetArgument(name);
                  const isblank = blankarg.trim() == "";
                  useArgument(parser, isblank ? resultblank : resultnotblank);
                },

                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                  const strequalfirst = parser.GetArgument(name);
                  const strequalsecond = parser.GetArgument(name);
                  const resultequal = parser.GetArgument(name);
                  const resultnotequal = parser.GetArgument(name);
                  const isequal = strequalfirst == strequalsecond;
                  useArgument(parser, isequal ? resultequal : resultnotequal);
                },

                // This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                  // Get the macro parameters
                  const star = parser.GetStar(); // true if there is a *
                  const optBrackets = parser.GetBrackets(name); // contents of optional brackets
                  const newsubequations = parser.GetArgument(name); // the subequations argument
                  const neweqsection = parser.GetArgument(name); // the eq section argument
                  const neweqnumber = parser.GetArgument(name); // the eq number argument
                  MathJax.config.subequations = newsubequations; // a string with boolean meaning
                  MathJax.config.section = neweqsection; // a string with numeric meaning
                  parser.tags.counter = parser.tags.allCounter = neweqnumber;
                },
              }
            );

            // Create the Lwarp-macros package
            Configuration.create("Lwarp-macros", {
              handler: { macro: ["Lwarp-macros"] },
            });

            MathJax.startup.defaultReady();

            // For forward references:
            MathJax.startup.input[0].preFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                MathJax.config.subequations =
                  math.inputData.recompile.subequations;
                MathJax.config.section = math.inputData.recompile.section;
              }
            });
            MathJax.startup.input[0].postFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                math.inputData.recompile.subequations =
                  MathJax.config.subequations;
                math.inputData.recompile.section = MathJax.config.section;
              }
            });

            // For \left, \right with unicode-math:
            const { DelimiterMap } = MathJax._.input.tex.SymbolMap;
            const { Symbol } = MathJax._.input.tex.Symbol;
            const { MapHandler } = MathJax._.input.tex.MapHandler;
            const delimiter = MapHandler.getMap("delimiter");
            delimiter.add("\\lBrack", new Symbol("\\lBrack", "\u27E6"));
            delimiter.add("\\rBrack", new Symbol("\\rBrack", "\u27E7"));
            delimiter.add("\\lAngle", new Symbol("\\lAngle", "\u27EA"));
            delimiter.add("\\rAngle", new Symbol("\\rAngle", "\u27EB"));
            delimiter.add("\\lbrbrak", new Symbol("\\lbrbrak", "\u2772"));
            delimiter.add("\\rbrbrak", new Symbol("\\rbrbrak", "\u2773"));
            delimiter.add("\\lbag", new Symbol("\\lbag", "\u27C5"));
            delimiter.add("\\rbag", new Symbol("\\rbag", "\u27C6"));
            delimiter.add(
              "\\llparenthesis",
              new Symbol("\\llparenthesis", "\u2987")
            );
            delimiter.add(
              "\\rrparenthesis",
              new Symbol("\\rrparenthesis", "\u2988")
            );
            delimiter.add("\\llangle", new Symbol("\\llangle", "\u2989"));
            delimiter.add("\\rrangle", new Symbol("\\rrangle", "\u298A"));
            delimiter.add("\\Lbrbrak", new Symbol("\\Lbrbrak", "\u27EC"));
            delimiter.add("\\Rbrbrak", new Symbol("\\Rbrbrak", "\u27ED"));
            delimiter.add("\\lBrace", new Symbol("\\lBrace", "\u2983"));
            delimiter.add("\\rBrace", new Symbol("\\rBrace", "\u2984"));
            delimiter.add("\\lParen", new Symbol("\\lParen", "\u2985"));
            delimiter.add("\\rParen", new Symbol("\\rParen", "\u2986"));
            delimiter.add("\\lbrackubar", new Symbol("\\lbrackubar", "\u298B"));
            delimiter.add("\\rbrackubar", new Symbol("\\rbrackubar", "\u298C"));
            delimiter.add(
              "\\lbrackultick",
              new Symbol("\\lbrackultick", "\u298D")
            );
            delimiter.add(
              "\\rbracklrtick",
              new Symbol("\\rbracklrtick", "\u298E")
            );
            delimiter.add(
              "\\lbracklltick",
              new Symbol("\\lbracklltick", "\u298F")
            );
            delimiter.add(
              "\\rbrackurtick",
              new Symbol("\\rbrackurtick", "\u2990")
            );
            delimiter.add("\\langledot", new Symbol("\\langledot", "\u2991"));
            delimiter.add("\\rangledot", new Symbol("\\rangledot", "\u2992"));
            delimiter.add("\\lparenless", new Symbol("\\lparenless", "\u2993"));
            delimiter.add("\\rparengtr", new Symbol("\\rparengtr", "\u2994"));
            delimiter.add("\\Lparengtr", new Symbol("\\Lparengtr", "\u2995"));
            delimiter.add("\\Rparenless", new Symbol("\\Rparenless", "\u2996"));
            delimiter.add("\\lblkbrbrak", new Symbol("\\lblkbrbrak", "\u2997"));
            delimiter.add("\\rblkbrbrak", new Symbol("\\rblkbrbrak", "\u2998"));
            delimiter.add("\\lvzigzag", new Symbol("\\lvzigzag", "\u29D8"));
            delimiter.add("\\rvzigzag", new Symbol("\\rvzigzag", "\u29D9"));
            delimiter.add("\\Lvzigzag", new Symbol("\\Lvzigzag", "\u29DA"));
            delimiter.add("\\Rvzigzag", new Symbol("\\Rvzigzag", "\u29DB"));
            delimiter.add(
              "\\lcurvyangle",
              new Symbol("\\lcurvyangle", "\u29FC")
            );
            delimiter.add(
              "\\rcurvyangle",
              new Symbol("\\rcurvyangle", "\u29FD")
            );
            delimiter.add("\\Vvert", new Symbol("\\Vvert", "\u2980"));
          }, // ready
        }, // startup

        tex: {
          packages: { "[+]": ["tagformat", "Lwarp-macros", "textmacros"] },
          tags: "ams",
          tagformat: {
            number: function (n) {
              if (MathJax.config.subequations == 0)
                return MathJax.config.section + n;
              else return MathJax.config.section + String.fromCharCode(96 + n);
            },
          },
        },
      };
    </script>

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js"></script>

    <link href="https://unpkg.com/@docsearch/css@alpha" rel="stylesheet" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
  </head>
  <body>
    <a id="pgfmanual-autopage-8074"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <strong><a href="/">PGF/Ti<i>k</i>Z Manual</a></strong>
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p><a class="tocsubsection" href="#sec-107.1">Overview</a></p>
            <p>
              <a class="tocsubsection" href="#sec-107.2"
                >Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.2.1"
                >How PGF Keeps Track of the Coordinate Transformation Matrix</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.2.2"
                >Commands for Relative Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.2.3"
                >Commands for Absolute Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.2.4"
                >Saving and Restoring the Coordinate Transformation Matrix</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.2.5"
                >Applying Coordinate Transformation to Points</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.2.6"
                >Computing Adjustments for Coordinate Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-107.3"
                >Canvas Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.3.1"
                >Applying General Canvas Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.3.2"
                >Establishing View Boxes</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-107.4"
                >Nonlinear Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.1">Introduction</a>
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.2"
                >Installing Nonlinear Transformation</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.3"
                >Applying Nonlinear Transformations to Points</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.4"
                >Applying Nonlinear Transformations to Paths</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.5"
                >Applying Nonlinear Transformations to Text</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.6"
                >Approximating Nonlinear Transformations Using Linear
                Transformations</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-107.4.7"
                >Nonlinear Transformation Libraries</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.9a</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p class="current-part">
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-design">Design Principles</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-scopes"
                >Hierarchical Structures: Package, Environments, Scopes, and
                Text</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-points"
                >Specifying Coordinates</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-paths">Constructing Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-decorations">Decorations</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-actions">Using Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-arrows"
                >Defining New Arrow Tip Kinds</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-nodes">Nodes and Shapes</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-matrices">Matrices</a>
            </p>

            <p class="current current-part">
              <a class="tocsection" href="base-transformations"
                >Coordinate, Canvas, and Nonlinear Transformations</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-patterns">Patterns</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-images"
                >Declaring and Using Images</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-external"
                >Externalizing Graphics</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-plots">Creating Plots</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-layers">Layered Graphics</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-shadings">Shadings</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-transparency">Transparency</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-animations">Animations</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-internalregisters"
                >Adding libraries to <span class="textsc">pgf</span>: temporary
                registers</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="base-quick">Quick Commands</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.9a
          </h1>
          <h2 class="inserted">The Basic Layer</h2>

          <!--MathJax customizations:-->

          <div class="hidden">
            \(\newcommand{\footnotename}{footnote}\) \(\def \LWRfootnote {1}\)
            \(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)
            \(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm
            {#1}}}\) \(\let \LWRorighspace \hspace \) \(\renewcommand {\hspace
            }{\ifstar \LWRorighspace \LWRorighspace }\) \(\newcommand
            {\mathnormal }[1]{{#1}}\) \(\newcommand \ensuremath [1]{#1}\)
            \(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand
            {\framebox }[1][]{\LWRframebox } \) \(\newcommand {\setlength
            }[2]{}\) \(\newcommand {\addtolength }[2]{}\) \(\newcommand
            {\setcounter }[2]{}\) \(\newcommand {\addtocounter }[2]{}\)
            \(\newcommand {\arabic }[1]{}\) \(\newcommand {\number }[1]{}\)
            \(\newcommand {\noalign }[1]{\text {#1}\notag \\}\) \(\newcommand
            {\cline }[1]{}\) \(\newcommand {\directlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\luatexdirectlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\protect }{}\) \(\def
            \LWRabsorbnumber #1 {}\) \(\def \LWRabsorbquotenumber "#1 {}\)
            \(\newcommand {\LWRabsorboption }[1][]{}\) \(\newcommand
            {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\) \(\def \mathchar
            {\ifnextchar "\LWRabsorbquotenumber \LWRabsorbnumber }\) \(\def
            \mathcode #1={\mathchar }\) \(\let \delcode \mathcode \) \(\let
            \delimiter \mathchar \) \(\def \oe {\unicode {x0153}}\) \(\def \OE
            {\unicode {x0152}}\) \(\def \ae {\unicode {x00E6}}\) \(\def \AE
            {\unicode {x00C6}}\) \(\def \aa {\unicode {x00E5}}\) \(\def \AA
            {\unicode {x00C5}}\) \(\def \o {\unicode {x00F8}}\) \(\def \O
            {\unicode {x00D8}}\) \(\def \l {\unicode {x0142}}\) \(\def \L
            {\unicode {x0141}}\) \(\def \ss {\unicode {x00DF}}\) \(\def \SS
            {\unicode {x1E9E}}\) \(\def \dag {\unicode {x2020}}\) \(\def \ddag
            {\unicode {x2021}}\) \(\def \P {\unicode {x00B6}}\) \(\def
            \copyright {\unicode {x00A9}}\) \(\def \pounds {\unicode {x00A3}}\)
            \(\let \LWRref \ref \) \(\renewcommand {\ref }{\ifstar \LWRref
            \LWRref }\) \( \newcommand {\multicolumn }[3]{#3}\) \(\require
            {textcomp}\) \( \newcommand {\meta }[1]{\langle \textit {#1}\rangle
            } \) \(\newcommand {\intertext }[1]{\text {#1}\notag \\}\) \(\let
            \Hat \hat \) \(\let \Check \check \) \(\let \Tilde \tilde \) \(\let
            \Acute \acute \) \(\let \Grave \grave \) \(\let \Dot \dot \) \(\let
            \Ddot \ddot \) \(\let \Breve \breve \) \(\let \Bar \bar \) \(\let
            \Vec \vec \)
          </div>

          <p></p>
          <h4 id="autosec-8075">
            <span class="sectionnumber">107&emsp;</span>Coordinate, Canvas, and
            Nonlinear Transformations
          </h4>
          <a id="pgfmanual-autopage-8075"></a>
          <a id="pgfmanual-autofile-116"></a>
          <h5 id="autosec-8076">
            <span class="sectionnumber" id="sec-107.1">107.1&emsp;</span
            >Overview<a class="anchor-link" href="#sec-107.1">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-8076"></a>

          <p>
            <span class="textsc">pgf</span> offers different ways of scaling,
            shifting, and rotating (these operations are generally known as
            <em>transformations</em>) graphics: You can apply
            <em>coordinate transformations</em> to all coordinates, you can
            apply <em>canvas transformations</em> to the canvas on which you
            draw, and you can apply
            <em>additional nonlinear transformations</em>. (The names
            &ldquo;coordinate&rdquo; and &ldquo;canvas&rdquo; transformations
            are not standard, I introduce them only for the purposes of this
            manual.)
          </p>

          <p>The differences are the following:</p>
          <ul style="list-style-type: none">
            <li>
              <p>
                &bull; As the name &ldquo;coordinate transformation&rdquo;
                suggests, coordinate transformations apply only to coordinates.
                For example, when you specify a coordinate like
                <span class="texttt">\pgfpoint{1cm}{2cm}</span> and you wish to
                &ldquo;use&rdquo; this coordinate &ndash; for example as an
                argument to a <span class="texttt">\pgfpathmoveto</span> command
                &ndash; then the coordinate transformation matrix is applied to
                the coordinate, resulting in a new coordinate. Continuing the
                example, if the current coordinate transformation is
                &ldquo;scale by a factor of two&rdquo;, the coordinate
                <span class="texttt">\pgfpoint{1cm}{2cm}</span> actually
                designates the point \((2\mathrm {cm},4\mathrm {cm})\).
              </p>
              <p>
                Note that coordinate transformations apply <em>only</em> to
                coordinates. They do not apply to, say, line width or shadings
                or text.
              </p>
            </li>
            <li>
              <p>
                &bull; The effect of a &ldquo;canvas transformation&rdquo; like
                &ldquo;scale by a factor of two&rdquo; can be imagined as
                follows: You first draw your picture on a &ldquo;rubber
                canvas&rdquo; normally. Then, once you are done, the whole
                canvas is transformed, in this case stretched by a factor of
                two. In the resulting image <em>everything</em> will be larger:
                Text, lines, coordinates, and shadings.
              </p>
            </li>
            <li>
              <p>
                &bull; Nonlinear transformations are a special form of
                coordinate transformations that are, as the name suggests, not
                linear. The support for nonlinear transformations is quite
                different from the support for linear coordinate
                transformations, the main reason being speed: While linear
                coordinate transformations can be applied very quickly (<span
                  class="textsc"
                  >pgf</span
                >
                does so almost constantly), nonlinear transformations are much
                harder to apply and also to use. For this reason, nonlinear
                transformations are implemented in a special module
                <span class="texttt">nonlineartransformations</span> that has to
                be loaded explicitly. By default, they are not available.
              </p>
            </li>
          </ul>

          <p>
            In many cases, it is preferable that you use coordinate
            transformations and not canvas transformations. When canvas
            transformations are used, <span class="textsc">pgf</span> looses
            track of the coordinates of nodes and shapes. Also, canvas
            transformations often cause undesirable effects like changing text
            size. For these reasons, <span class="textsc">pgf</span> makes it
            easy to setup the coordinate transformation, but a bit harder to
            change the canvas transformation. Because of the speed penalties
            caused by nonlinear transformations, they are even harder to set up.
          </p>
          <h5 id="autosec-8077">
            <a id="section-linear-coordinate-transformations"></a
            ><span class="sectionnumber" id="sec-107.2">107.2&emsp;</span
            >Coordinate Transformations<a class="anchor-link" href="#sec-107.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8077"></a>

          <h6 id="autosec-8078">
            <a id="section-transform-cm"></a
            ><span class="sectionnumber" id="sec-107.2.1">107.2.1&emsp;</span
            >How PGF Keeps Track of the Coordinate Transformation Matrix<a
              class="anchor-link"
              href="#sec-107.2.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8078"></a>

          <p>
            <span class="textsc">pgf</span> has an internal coordinate
            transformation matrix. This matrix is applied to coordinates
            &ldquo;in certain situations&rdquo;. This means that the matrix is
            not always applied to every coordinate &ldquo;no matter what&rdquo;.
            Rather, <span class="textsc">pgf</span> tries to be reasonably smart
            at when and how this matrix should be applied. The most prominent
            examples are the path construction commands, which apply the
            coordinate transformation matrix to their inputs.
          </p>

          <p>
            The coordinate transformation matrix consists of four numbers \(a\),
            \(b\), \(c\), and \(d\), and two dimensions \(s\) and \(t\). When
            the coordinate transformation matrix is applied to a coordinate
            \((x,y)\), the new coordinate \((ax+cy+s,bx+dy+t)\) results. For
            more details on how transformation matrices work in general, please
            see, for example, the <span class="textsc">pdf</span> or PostScript
            reference or a textbook on computer graphics.
          </p>

          <p>
            The coordinate transformation matrix is equal to the identity matrix
            at the beginning. More precisely, \(a=1\), \(b=0\), \(c=0\),
            \(d=1\), \(s=0\mathrm {pt}\), and \(t=0\mathrm {pt}\).
          </p>

          <p>
            The different coordinate transformation commands will modify the
            matrix by concatenating it with another transformation matrix. This
            way the effect of applying several transformation commands will
            <em>accumulate</em>.
          </p>

          <p>
            The coordinate transformation matrix is local to the current
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            group (unlike the canvas transformation matrix, which is local to
            the current <span class="texttt">{pgfscope}</span>). Thus, the
            effect of adding a coordinate transformation to the coordinate
            transformation matrix will last only till the end of the current
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            group.
          </p>
          <h6 id="autosec-8079">
            <span class="sectionnumber" id="sec-107.2.2">107.2.2&emsp;</span
            >Commands for Relative Coordinate Transformations<a
              class="anchor-link"
              href="#sec-107.2.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8079"></a>

          <p>
            The following commands add a basic coordinate transformation to the
            current coordinate transformation matrix. For all commands, the
            transformation is applied <em>in addition</em> to any previous
            coordinate transformations.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformshift"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformshift</kbd></span
                  >{<span class="angle">&langle;</span><i>point</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformshift"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Shifts coordinates by <span class="angle">&langle;</span
              ><i>point</i><span class="angle">&rangle;</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3240"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="79.490"
                      loading="lazy"
                      src="pgfmanual-images/image-3240.png"
                      style
                      width="117.554"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformshift"
                      >\pgftransformshift</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformxshift"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformxshift</kbd></span
                  >{<span class="angle">&langle;</span><i>dimensions</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformxshift"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Shifts coordinates by <span class="angle">&langle;</span
              ><i>dimension</i><span class="angle">&rangle;</span> along the
              \(x\)-axis.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3241"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3241.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxshift"
                      >\pgftransformxshift</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">5cm</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformyshift"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformyshift</kbd></span
                  >{<span class="angle">&langle;</span><i>dimensions</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformyshift"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Like <span class="texttt">\pgftransformxshift</span>, only for the
              \(y\)-axis.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformscale"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformscale</kbd></span
                  >{<span class="angle">&langle;</span><i>factor</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformscale"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Scales coordinates by <span class="angle">&langle;</span
              ><i>factor</i><span class="angle">&rangle;</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3242"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3242.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">75</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformxscale"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformxscale</kbd></span
                  >{<span class="angle">&langle;</span><i>factor</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformxscale"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Scales coordinates by <span class="angle">&langle;</span
              ><i>factor</i><span class="angle">&rangle;</span> in the
              \(x\)-direction.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3243"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3243.png"
                      style
                      width="116.354"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxscale"
                      >\pgftransformxscale</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">75</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformyscale"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformyscale</kbd></span
                  >{<span class="angle">&langle;</span><i>factor</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformyscale"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Like <span class="texttt">\pgftransformxscale</span>, only for the
              \(y\)-axis.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformxslant"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformxslant</kbd></span
                  >{<span class="angle">&langle;</span><i>factor</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformxslant"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Slants coordinates by <span class="angle">&langle;</span
              ><i>factor</i><span class="angle">&rangle;</span> in the
              \(x\)-direction. Here, a factor of
              <span class="texttt">1</span> means \(45^\circ \).
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3244"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3244.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxslant"
                      >\pgftransformxslant</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">5</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformyslant"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformyslant</kbd></span
                  >{<span class="angle">&langle;</span><i>factor</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformyslant"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Slants coordinates by <span class="angle">&langle;</span
              ><i>factor</i><span class="angle">&rangle;</span> in the
              \(y\)-direction.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3245"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="116.474"
                      loading="lazy"
                      src="pgfmanual-images/image-3245.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformyslant"
                      >\pgftransformyslant</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">-1</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformrotate"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformrotate</kbd></span
                  >{<span class="angle">&langle;</span><i>angles</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformrotate"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Rotates coordinates counterclockwise by
              <span class="angle">&langle;</span><i>angles</i
              ><span class="angle">&rangle;</span> given in degrees.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3246"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3246.png"
                      style
                      width="116.426"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformrotate"
                      >\pgftransformrotate</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">30</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformtriangle"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformtriangle</kbd></span
                  >{<span class="angle">&langle;</span><i>a</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>b</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>c</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformtriangle"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command transforms the coordinate system in such a way that
              the triangle given by the points
              <span class="angle">&langle;</span><i>a</i
              ><span class="angle">&rangle;</span>,
              <span class="angle">&langle;</span><i>b</i
              ><span class="angle">&rangle;</span> and
              <span class="angle">&langle;</span><i>c</i
              ><span class="angle">&rangle;</span> lies at the coordinates
              \((0,0)\), \((1\mathrm {pt},0\mathrm {pt})\) and \((0\mathrm
              {pt},1\mathrm {pt})\).
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3247"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="79.082"
                      loading="lazy"
                      src="pgfmanual-images/image-3247.png"
                      style
                      width="117.290"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformtriangle"
                      >\pgftransformtriangle</a
                    ></span
                  ><br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">0cm</span
                  >}}<br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">2cm</span
                  >}}<br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">3cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  <br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1pt,0pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0pt,1pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #000000"
                    ><a href="tikz-graphs#pgf.cycle">cycle</a></span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformcm"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformcm</kbd></span
                  >{<span class="angle">&langle;</span><i>a</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>b</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>c</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>d</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>point</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformcm"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Applies the transformation matrix given by \(a\), \(b\), \(c\),
              and \(d\) and the shift <span class="angle">&langle;</span
              ><i>point</i><span class="angle">&rangle;</span> to coordinates
              (in addition to any previous transformations already in force).
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3248"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="125.930"
                      loading="lazy"
                      src="pgfmanual-images/image-3248.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformcm"
                      >\pgftransformcm</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1</span
                  >}{<span class="textcolor" style="color: #000000">1</span
                  >}{<span class="textcolor" style="color: #000000">0</span
                  >}{<span class="textcolor" style="color: #000000">1</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{.<span class="textcolor" style="color: #000000">25cm</span
                  >}{.<span class="textcolor" style="color: #000000">25cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformarrow"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformarrow</kbd></span
                  >{<span class="angle">&langle;</span><i>start</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>end</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformarrow"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Shifts coordinates to the end of the line going from
              <span class="angle">&langle;</span><i>start</i
              ><span class="angle">&rangle;</span> to
              <span class="angle">&langle;</span><i>end</i
              ><span class="angle">&rangle;</span> with the correct rotation.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3249"
                    ><!--
tip
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3249.png"
                      style
                      width="124.850"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformarrow"
                      >\pgftransformarrow</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">3cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">tip</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformlineattime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformlineattime</kbd></span
                  >{<span class="angle">&langle;</span><i>time</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>start</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>end</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformlineattime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Shifts coordinates by a specific point on a line at a specific
              time. The point by which the coordinate is shifted is calculated
              by calling <span class="texttt">\pgfpointlineattime</span>, see
              Section&nbsp;<a href="base-points#section-pointsattime">100.5.2</a
              >.
            </p>
            <p>
              In addition to shifting the coordinate, a rotation
              <em>may</em> also be applied. Whether this is the case depends on
              whether the
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              if <span class="texttt">\ifpgfslopedattime</span> is set to true
              or not.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3250"
                    ><!--
Hi!
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3250.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformlineattime"
                      >\pgftransformlineattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3251"
                    ><!--
  !
Hi
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3251.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfslopedattimetrue</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformlineattime"
                      >\pgftransformlineattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              If <span class="texttt">\ifpgfslopedattime</span> is true, another
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              <span class="texttt">\if</span> is important:
              <span class="texttt">\ifpgfallowupsidedowattime</span>. If this is
              false, <span class="textsc">pgf</span> will ensure that the
              rotation is done in such a way that text is never &ldquo;upside
              down&rdquo;.
            </p>
            <p>
              There is another
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              <span class="texttt">\if</span> that influences this command. If
              you set
              <span class="texttt">\ifpgfresetnontranslationattime</span> to
              true, then, between shifting the coordinate and (possibly)
              rotating/sloping the coordinate, the command
              <span class="texttt">\pgftransformresetnontranslations</span> is
              called. See the description of this command for details.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3252"
                    ><!--
  !
Hi
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3252.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1</span
                  >.<span class="textcolor" style="color: #000000">5</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfslopedattimetrue</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfresetnontranslationattimefalse</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformlineattime"
                      >\pgftransformlineattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3253"
                    ><!--
  !
Hi
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3253.png"
                      style
                      width="116.330"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1</span
                  >.<span class="textcolor" style="color: #000000">5</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfslopedattimetrue</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfresetnontranslationattimetrue</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformlineattime"
                      >\pgftransformlineattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformcurveattime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformcurveattime</kbd></span
                  >{<span class="angle">&langle;</span><i>time</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>start</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>first support</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>second support</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>end</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformcurveattime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Shifts coordinates by a specific point on a curve at a specific
              time, see Section&nbsp;<a href="base-points#section-pointsattime"
                >100.5.2</a
              >
              once more.
            </p>
            <p>
              As for the line-at-time transformation command,
              <span class="texttt">\ifpgfslopedattime</span> decides whether an
              additional rotation should be applied. Again, the value of
              <span class="texttt">\ifpgfallowupsidedowattime</span> is also
              considered.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3254"
                    ><!--
Hi!
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.530"
                      loading="lazy"
                      src="pgfmanual-images/image-3254.png"
                      style
                      width="119.642"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-edges#pgf.controls">controls</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0,2)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,2)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(2,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformcurveattime"
                      >\pgftransformcurveattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">2cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">2cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3255"
                    ><!--
Hi !
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.530"
                      loading="lazy"
                      src="pgfmanual-images/image-3255.png"
                      style
                      width="117.578"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-edges#pgf.controls">controls</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0,2)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,2)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(2,1)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfslopedattimetrue</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformcurveattime"
                      >\pgftransformcurveattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">2cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">2cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              The value of
              <span class="texttt">\ifpgfresetnontranslationsattime</span> is
              also taken into account.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformarcaxesattime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformarcaxesattime</kbd></span
                  >{<span class="angle">&langle;</span><i>time \(t\)</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>center</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>0-degree axis</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>90-degree axis</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>start angle</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>end angle</i><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgftransformarcaxesattime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Shifts coordinates by a specific point on an arc at a specific
              time, see Section&nbsp;<a href="base-points#section-pointsattime"
                >100.5.2</a
              >
              once more.
            </p>
            <p>
              As for the previous commands,
              <span class="texttt">\ifpgfslopedattime</span> decides whether an
              additional rotation should be applied and
              <span class="texttt">\ifpgfallowupsidedowattime</span> is also
              considered.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3256"
                    ><!--
  !
Hi
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.530"
                      loading="lazy"
                      src="pgfmanual-images/image-3256.png"
                      style
                      width="116.341"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpathmoveto"
                      >\pgfpathmoveto</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-paths#pgf.back/pgfpatharcaxes"
                      >\pgfpatharcaxes</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">0</span
                  >}{<span class="textcolor" style="color: #000000">60</span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">0cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfusepath"
                      >\pgfusepath</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">stroke</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfslopedattimetrue</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformarcaxesattime"
                      >\pgftransformarcaxesattime</a
                    ></span
                  >{.<span class="textcolor" style="color: #000000">25</span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">0cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >0</span
                  >}{<span class="textcolor" style="color: #000000">60</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">Hi!</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              The value of
              <span class="texttt">\ifpgfresetnontranslationsattime</span> is
              also taken into account.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/ifpgfslopedattime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\ifpgfslopedattime</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/ifpgfslopedattime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Decides whether the &ldquo;at time&rdquo; transformation commands
              also rotate coordinates or not.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/ifpgfallowupsidedowattime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\ifpgfallowupsidedowattime</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/ifpgfallowupsidedowattime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Decides whether the &ldquo;at time&rdquo; transformation commands
              should allow the rotation be done in such a way that
              &ldquo;upside-down text&rdquo; can result.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/ifpgfresetnontranslationsattime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\ifpgfresetnontranslationsattime</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/ifpgfresetnontranslationsattime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Decides whether the &ldquo;at time&rdquo; transformation commands
              should reset the non-translations between shifting and rotating.
            </p>
          </div>
          <h6 id="autosec-8114">
            <span class="sectionnumber" id="sec-107.2.3">107.2.3&emsp;</span
            >Commands for Absolute Coordinate Transformations<a
              class="anchor-link"
              href="#sec-107.2.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8114"></a>

          <p>
            The coordinate transformation commands introduced up to now are
            always applied in addition to any previous transformations. In
            contrast, the commands presented in the following can be used to
            change the transformation matrix &ldquo;in absolute terms&rdquo;.
            Note that this is, in general, dangerous and will often produce
            unexpected effects. You should use these commands only if you really
            know what you are doing.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformreset"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformreset</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformreset"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Resets the coordinate transformation matrix to the identity
              matrix. Thus, once this command is given no transformations are
              applied till the end of the scope.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3257"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.650"
                      loading="lazy"
                      src="pgfmanual-images/image-3257.png"
                      style
                      width="116.426"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformrotate"
                      >\pgftransformrotate</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">30</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformreset"
                      >\pgftransformreset</a
                    ></span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformresetnontranslations"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformresetnontranslations</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgftransformresetnontranslations"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command sets the \(a\), \(b\), \(c\), and \(d\) part of the
              coordinate transformation matrix to \(a=1\), \(b=0\), \(c=0\), and
              \(d=1\). However, the current shifting of the matrix is not
              modified.
            </p>
            <p>
              The effect of this command is that any rotation/scaling/slanting
              is undone in the current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              group, but the origin is not &ldquo;moved back&rdquo;.
            </p>
            <p>
              This command is mostly useful directly before a
              <span class="texttt">\pgftext</span> command to ensure that the
              text is not scaled or rotated.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3258"
                    ><!--
       t ed
   t a
shifted only

ro
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.530"
                      loading="lazy"
                      src="pgfmanual-images/image-3258.png"
                      style
                      width="116.341"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">2</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformrotate"
                      >\pgftransformrotate</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">30</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxshift"
                      >\pgftransformxshift</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}<br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    >\color</span
                  >{<span class="textcolor" style="color: #000000">red</span
                  >}<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">rotated</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformresetnontranslations"
                      >\pgftransformresetnontranslations</a
                    ></span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000"
                    >shifted</span
                  >
                  <span class="textcolor" style="color: #000000">only</span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransforminvert"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransforminvert</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/pgftransforminvert"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Replaces the coordinate transformation matrix by a coordinate
              transformation matrix that &ldquo;exactly undoes the original
              transformation&rdquo;. For example, if the original transformation
              was &ldquo;scale by 2 and then shift right by 1cm&rdquo; the new
              one is &ldquo;shift left by 1cm and then scale by \(1/2\)&rdquo;.
            </p>
            <p>
              This command will produce an error if the determinant of the
              matrix is too small, that is, if the matrix is near-singular.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3259"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="97.562"
                      loading="lazy"
                      src="pgfmanual-images/image-3259.png"
                      style
                      width="116.426"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformrotate"
                      >\pgftransformrotate</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">30</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransforminvert"
                      >\pgftransforminvert</a
                    ></span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,0)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
          <h6 id="autosec-8121">
            <span class="sectionnumber" id="sec-107.2.4">107.2.4&emsp;</span
            >Saving and Restoring the Coordinate Transformation Matrix<a
              class="anchor-link"
              href="#sec-107.2.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8121"></a>

          <p>
            There are two commands for saving and restoring coordinate
            transformation matrices.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfgettransform"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfgettransform</kbd></span
                  >{<span class="angle">&langle;</span><i>macro</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfgettransform"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command will (locally) define
              <span class="angle">&langle;</span><i>macro</i
              ><span class="angle">&rangle;</span> to a representation of the
              current coordinate transformation matrix. This matrix can later on
              be reinstalled using <span class="texttt">\pgfsettransform</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsettransform"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsettransform</kbd></span
                  >{<span class="angle">&langle;</span><i>macro</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsettransform"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Reinstalls a coordinate transformation matrix that was previously
              saved using <span class="texttt">\pgfgettransform</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfgettransformentries"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfgettransformentries</kbd></span
                  >{<span class="angle">&langle;</span><i>macro for a</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>macro for b</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>macro for c</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>macro for d</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>macro for shift x</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>macro for shift y</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfgettransformentries"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command is similar to
              <span class="texttt">\pgfgettransform</span> except that it stores
              the current coordinate transformation matrix in a set of six
              macros.
            </p>
            <p>
              The matrix can later on be reinstalled using
              <span class="texttt">\pgfsettransformentries</span>. Furthermore,
              all these macros (or just a few of them) can be used as arguments
              for <span class="texttt">\pgftransformcm</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsettransformentries"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsettransformentries</kbd></span
                  >{<span class="angle">&langle;</span><i>a</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>b</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>c</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>d</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>shiftx</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>shifty</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsettransformentries"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Reinstalls a coordinate transformation matrix that was previously
              saved using the storage command
              <span class="texttt">\pgfgettransformentries</span>. This command
              can also be used to replace any previously existing coordinate
              transformation matrix (it is thus equivalent to
              <span class="texttt">\pgftransformreset</span> followed by
              <span class="texttt">\pgftransformcm</span>).
            </p>
          </div>
          <h6 id="autosec-8122">
            <span class="sectionnumber" id="sec-107.2.5">107.2.5&emsp;</span
            >Applying Coordinate Transformation to Points<a
              class="anchor-link"
              href="#sec-107.2.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8122"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfpointtransformed"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfpointtransformed</kbd></span
                  >{<span class="angle">&langle;</span><i>point</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfpointtransformed"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Applies current transformation matrix to {<span class="angle"
                >&langle;</span
              ><i>point</i><span class="angle">&rangle;</span>} \((x,y)\) and
              returns a transformed point \((ax+cy+s,bx+dy+t)\). Normally, this
              is done automatically by commands like
              <span class="texttt">\pgfpathlineto</span> or
              <span class="texttt">\pgfpathmoveto</span>, but sometimes you may
              wish to access a transformed point yourself.
            </p>
          </div>
          <h6 id="autosec-8123">
            <a id="section-adjustment-transformations"></a
            ><span class="sectionnumber" id="sec-107.2.6">107.2.6&emsp;</span
            >Computing Adjustments for Coordinate Transformations<a
              class="anchor-link"
              href="#sec-107.2.6"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8123"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformationadjustments"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformationadjustments</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgftransformationadjustments"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command computes &ldquo;adjustments&rdquo; for the current
              transformation matrix so that even when you install a
              transformation matrix that scales everything by a certain factor,
              you can still draw something of &ldquo;an absolute size&rdquo;.
              Suppose for instance that you install a transformation matrix that
              scales everything by a factor of 4 and you now wish to draw a
              horizontal line of length 1cm. Then, if you do not reset the
              transformation matrix, you can draw a line of logical length
              2.5mm, which will then get scaled to a line of 1cm. Things get
              more difficult in case you scale things only, say, vertically. In
              this case, the adjustment necessary for horizontal lines is
              different from the one needed for vertical lines.
            </p>
            <p>
              This function computes two scaling factors, one for horizontal
              lines and one for vertical lines, and stores them in the following
              macros:
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf.back/pgfhorizontaltransformationadjustment"></a>
                  <span class="hl-def"
                    ><span class="textcolor" style="color: #bf0000"
                      ><kbd>\pgfhorizontaltransformationadjustment</kbd></span
                    ></span
                  >
                  <a
                    class="anchor-link"
                    href="#pgf.back/pgfhorizontaltransformationadjustment"
                    >&para;</a
                  >
                </p>
              </div>
              <p>
                When you scale the length of a horizontal line by this factor in
                the current transformation, you compensate for the scaling.
                Formally, it is \(1/\|\mathit {transform}(1,0)\|_2\), where
                \(\mathit {transform}\) applies the current transformations
                matrix to the given number.
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3260"
                      ><!--
-->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.938"
                        loading="lazy"
                        src="pgfmanual-images/image-3260.png"
                        style
                        width="154.006"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,2)</span
                    >;<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-transformations#pgf.xscale"
                        >xscale</a
                      ></span
                    >=<span class="textcolor" style="color: #008000">2</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.thick">thick</a></span
                    >]<br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      >red</span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(1,1)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #000000">++</span
                    ><span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformationadjustments"
                        >\pgftransformationadjustments</a
                      ></span
                    ><br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      >blue</span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(1,0)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #000000">++</span
                    ><span class="textcolor" style="color: #800080"
                      >(\pgfhorizontaltransformationadjustment,0)</span
                    >;<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3261"
                      ><!--
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.530"
                        loading="lazy"
                        src="pgfmanual-images/image-3261.png"
                        style
                        width="154.538"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid">grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(2,2)</span
                    >;<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #000000"
                      >\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-transformations#pgf.xscale"
                        >xscale</a
                      ></span
                    >=<span class="textcolor" style="color: #008000">2</span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-actions#pgf.thick">thick</a></span
                    >,<span class="textcolor" style="color: #008000"
                      ><a href="tikz-transformations#pgf.rotate"
                        >rotate</a
                      ></span
                    >=<span class="textcolor" style="color: #008000">90</span
                    >]<br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      >red</span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(1,1)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #000000">++</span
                    ><span class="textcolor" style="color: #800080">(1,0)</span
                    >;<br />
                    <br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformationadjustments"
                        >\pgftransformationadjustments</a
                      ></span
                    ><br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      >blue</span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(1,0)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--">--</a></span
                    >
                    <span class="textcolor" style="color: #000000">++</span
                    ><span class="textcolor" style="color: #800080"
                      >(\pgfhorizontaltransformationadjustment,0)</span
                    >;<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #000000"
                      >\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.scope">scope</a></span
                    >}<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture"
                        >tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf.back/pgfverticaltransformationadjustment"></a>
                  <span class="hl-def"
                    ><span class="textcolor" style="color: #bf0000"
                      ><kbd>\pgfverticaltransformationadjustment</kbd></span
                    ></span
                  >
                  <a
                    class="anchor-link"
                    href="#pgf.back/pgfverticaltransformationadjustment"
                    >&para;</a
                  >
                </p>
              </div>
              <p>\(1/\|\mathit {transform}(0,1)\|_2\).</p>
            </div>
            <p>
              Note that the &ldquo;right&rdquo; way to draw a line of absolute
              length 1cm in a transformed coordinate system is to first compute
              the start point and to then reset the transformation matrix. The
              transformation adjustments computed here are important only in
              situations where you cannot do this, for instance when an
              <span class="texttt">outer xsep</span> must be set.
            </p>
          </div>
          <h5 id="autosec-8128">
            <span class="sectionnumber" id="sec-107.3">107.3&emsp;</span>Canvas
            Transformations<a class="anchor-link" href="#sec-107.3">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-8128"></a>

          <p>
            The canvas transformation matrix is not managed by
            <span class="textsc">pgf</span>, but by the output format like
            <span class="textsc">pdf</span> or PostScript. All that
            <span class="textsc">pgf</span> does is to call appropriate
            low-level <span class="texttt">\pgfsys@</span> commands to change
            the canvas transformation matrix.
          </p>

          <p>
            Unlike coordinate transformations, canvas transformations apply to
            &ldquo;everything&rdquo;, including images, text, shadings, line
            thickness, and so on. The idea is that a canvas transformation
            really stretches and deforms the canvas after the graphic is
            finished.
          </p>

          <p>
            Unlike coordinate transformations, canvas transformations are local
            to the current <span class="texttt">{pgfscope}</span>, not to the
            current
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            group. This is due to the fact that they are managed by the backend
            driver, not by
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >
            or <span class="textsc">pgf</span>.
          </p>

          <p>
            Unlike the coordinate transformation matrix, it is not possible to
            &ldquo;reset&rdquo; the canvas transformation matrix. The only way
            to change it is to concatenate it with another canvas transformation
            matrix or to end the current <span class="texttt">{pgfscope}</span>.
          </p>

          <p>
            Unlike coordinate transformations,
            <span class="textsc">pgf</span> does not &ldquo;keep track&rdquo; of
            canvas transformations. In particular, it will not be able to
            correctly save the coordinates of shapes or nodes when a canvas
            transformation is used.
          </p>
          <h6 id="autosec-8129">
            <span class="sectionnumber" id="sec-107.3.1">107.3.1&emsp;</span
            >Applying General Canvas Transformations<a
              class="anchor-link"
              href="#sec-107.3.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8129"></a>

          <p>
            <span class="textsc">pgf</span> does not offer many commands for
            modifying the canvas transformation matrix. Instead, different
            commands allow you to concatenate the canvas transformation matrix
            with a coordinate transformation matrix (and there are numerous
            commands for specifying a coordinate transformation, see the
            previous section).
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgflowlevelsynccm"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgflowlevelsynccm</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/pgflowlevelsynccm"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command concatenates the canvas transformation matrix with
              the current coordinate transformation matrix. Afterward, the
              coordinate transformation matrix is reset.
            </p>
            <p>
              The effect of this command is to &ldquo;synchronize&rdquo; the
              coordinate transformation matrix and the canvas transformation
              matrix. All transformations that were previously applied by the
              coordinate transformations matrix are now applied by the canvas
              transformation matrix.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3262"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="81.362"
                      loading="lazy"
                      src="pgfmanual-images/image-3262.png"
                      style
                      width="117.842"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfsetlinewidth"
                      >\pgfsetlinewidth</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1pt</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">5</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxshift"
                      >\pgftransformxshift</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">0</span
                  >.<span class="textcolor" style="color: #000000">2cm</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgflowlevelsynccm"
                      >\pgflowlevelsynccm</a
                    ></span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgflowlevel"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgflowlevel</kbd></span
                  >{<span class="angle">&langle;</span><i>transformation code</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgflowlevel">&para;</a>
              </p>
            </div>
            <p>
              This command concatenates the canvas transformation matrix with
              the coordinate transformation specified by
              <span class="angle">&langle;</span><i>transformation code</i
              ><span class="angle">&rangle;</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3263"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="81.362"
                      loading="lazy"
                      src="pgfmanual-images/image-3263.png"
                      style
                      width="117.698"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfsetlinewidth"
                      >\pgfsetlinewidth</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1pt</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgflowlevel"
                      >\pgflowlevel</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">5</span
                  >}}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgflowlevelobj"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgflowlevelobj</kbd></span
                  >{<span class="angle">&langle;</span><i>transformation code</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>code</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgflowlevelobj"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command creates a local
              <span class="texttt">{pgfscope}</span>. Inside this scope,
              <span class="texttt">\pgflowlevel</span> is first called with the
              argument <span class="angle">&langle;</span
              ><i>transformation code</i><span class="angle">&rangle;</span>,
              then the <span class="angle">&langle;</span><i>code</i
              ><span class="angle">&rangle;</span> is inserted.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3264"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="81.362"
                      loading="lazy"
                      src="pgfmanual-images/image-3264.png"
                      style
                      width="154.298"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfsetlinewidth"
                      >\pgfsetlinewidth</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1pt</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgflowlevelobj"
                      >\pgflowlevelobj</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">5</span
                  >}}&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgflowlevelobj"
                      >\pgflowlevelobj</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxshift"
                      >\pgftransformxshift</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">-1cm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgflowlevelscope"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgflowlevelscope</span
                    >}</kbd
                  >{<span class="angle">&langle;</span><i>transformation code</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.pgflowlevelscope">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgflowlevelscope</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              This environment first surrounds the
              <span class="angle">&langle;</span><i>environment contents</i
              ><span class="angle">&rangle;</span> by a
              <span class="texttt">{pgfscope}</span>. Then it calls
              <span class="texttt">\pgflowlevel</span> with the argument
              <span class="angle">&langle;</span><i>transformation code</i
              ><span class="angle">&rangle;</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3265"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="81.362"
                      loading="lazy"
                      src="pgfmanual-images/image-3265.png"
                      style
                      width="154.298"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="base-actions#pgf.back/pgfsetlinewidth"
                      >\pgfsetlinewidth</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">1pt</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgflowlevelscope"
                      >pgflowlevelscope</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformscale"
                      >\pgftransformscale</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">5</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgflowlevelscope"
                      >pgflowlevelscope</a
                    ></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgflowlevelscope"
                      >pgflowlevelscope</a
                    ></span
                  >}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.back/pgftransformxshift"
                      >\pgftransformxshift</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">-1cm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0.4,.2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgflowlevelscope"
                      >pgflowlevelscope</a
                    ></span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgflowlevelscope</span
                    ></kbd
                  >{<span class="angle">&langle;</span><i>transformation code</i
                  ><span class="angle">&rangle;</span>}</span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgflowlevelscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgflowlevelscope</span
                    ></kbd
                  >{<span class="angle">&langle;</span><i>transformation code</i
                  ><span class="angle">&rangle;</span>}</span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgflowlevelscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>
          <h6 id="autosec-8138">
            <a id="section-base-view"></a
            ><span class="sectionnumber" id="sec-107.3.2">107.3.2&emsp;</span
            >Establishing View Boxes<a class="anchor-link" href="#sec-107.3.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8138"></a>

          <p>
            A <em>view box</em> is like a &ldquo;window&rdquo; through which you
            see a graphic. To establish a view box, you specify a rectangle
            &ndash; which is the window &ndash; and another rectangle
            surrounding the to-be-viewed graphic. The graphic will then be
            rescaled and shifted in such a way that the to-be-viewed rectangle
            matches the view box&rsquo;s rectangle as well as possible. Note
            that establishing a view box does, indeed, cause a canvas
            transformation to be installed.
          </p>

          <p>
            View boxes are only seldom needed in normal graphics. Their main
            application is with animations since you can <em>animate</em> the
            to-be-viewed rectangle. This makes it easy to create animations in
            which you zoom in, zoom out, and pan a graphic.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.pgfviewboxscope"></a>
                <span class="hl-def"
                  ><kbd
                    >\begin{<span class="textcolor" style="color: #bf0000"
                      >pgfviewboxscope</span
                    >}</kbd
                  >{<span class="angle">&langle;</span><i>\(ll_1\)</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>\(ur_1\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>\(ll_2\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>\(ur_2\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>meet or slice</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.pgfviewboxscope">&para;</a>
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\end{<span class="textcolor" style="color: #bf0000"
                      >pgfviewboxscope</span
                    >}</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Inside the viewbox scope, the source rectangle (with the two
              <span class="textsc">pgf</span> points \(ll_1\) and \(ur_1\) as
              corners) will be translated and scaled so that it becomes centered
              on the target rectangle (with the corners \(ll_2\) and \(ur_2\))
              and will, for <span class="texttt">meet</span> as last parameter,
              be as large as possible so that it fits inside the target and, for
              <span class="texttt">slice</span>, be as small as possible so that
              it encompasses the target.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3266"
                    ><!--
Hi
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="79.852"
                      loading="lazy"
                      src="pgfmanual-images/image-3266.png"
                      style
                      width="90.940"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                  >&numsp;{<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(20mm,20mm)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgfviewboxscope"
                      >pgfviewboxscope</a
                    ></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">5mm</span
                  >}{<span class="textcolor" style="color: #000000">5mm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">25mm</span
                  >}{<span class="textcolor" style="color: #000000">15mm</span
                  >}}&numsp;<span class="example-code-comment">% Source</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0mm</span
                  >}{<span class="textcolor" style="color: #000000">0mm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}&numsp;<span class="example-code-comment">% Target</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-views#pgf.meet">meet</a></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >blue</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(5mm,5mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(25mm,15mm)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(1,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-coordinates#pgf.radius">radius</a></span
                  >=<span class="textcolor" style="color: #008000">8mm</span
                  >]&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-coordinates#pgf.node">node</a></span
                  >
                  {<span class="textcolor" style="color: #000000">Hi</span
                  >};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgfviewboxscope"
                      >pgfviewboxscope</a
                    ></span
                  >}&numsp;}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3267"
                    ><!--
Hi
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="125.738"
                      loading="lazy"
                      src="pgfmanual-images/image-3267.png"
                      style
                      width="179.193"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                  >&numsp;{<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(20mm,20mm)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgfviewboxscope"
                      >pgfviewboxscope</a
                    ></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">5mm</span
                  >}{<span class="textcolor" style="color: #000000">5mm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">25mm</span
                  >}{<span class="textcolor" style="color: #000000">15mm</span
                  >}}&numsp;<span class="example-code-comment">% Source</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0mm</span
                  >}{<span class="textcolor" style="color: #000000">0mm</span
                  >}}{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}&numsp;<span class="example-code-comment">% Target</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-views#pgf.slice">slice</a></span
                  >}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >blue</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(5mm,5mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(25mm,15mm)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(1,1)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-coordinates#pgf.radius">radius</a></span
                  >=<span class="textcolor" style="color: #008000">8mm</span
                  >]&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-coordinates#pgf.node">node</a></span
                  >
                  {<span class="textcolor" style="color: #000000">Hi</span
                  >};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-transformations#pgf.pgfviewboxscope"
                      >pgfviewboxscope</a
                    ></span
                  >}&numsp;}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\pgfviewboxscope</span
                    ></kbd
                  >{<span class="angle">&langle;</span><i>\(ll_1\)</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>\(ur_1\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>\(ll_2\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>\(ur_2\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>meet or slice</i
                  ><span class="angle">&rangle;</span>}</span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\endpgfviewboxscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Plain
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              version of the environment.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\startpgfviewboxscope</span
                    ></kbd
                  >{<span class="angle">&langle;</span><i>\(ll_1\)</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>\(ur_1\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>\(ll_2\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>\(ur_2\)</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>meet or slice</i
                  ><span class="angle">&rangle;</span>}</span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd> </kbd><span class="angle">&langle;</span
                  ><i>environment contents</i
                  ><span class="angle">&rangle;</span></span
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >\stoppgfviewboxscope</span
                    ></kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Con<span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >t version of the environment.
            </p>
          </div>
          <h5 id="autosec-8143">
            <a id="section-nonlinear-transformations"></a
            ><span class="sectionnumber" id="sec-107.4">107.4&emsp;</span
            >Nonlinear Transformations<a class="anchor-link" href="#sec-107.4"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8143"></a>

          <p>
            In order to use nonlinear transformations, you first have to load
            the following <span class="textsc">pgf</span> module:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.nonlineartransformations"></a>
                <span class="hl-def"
                  ><kbd
                    >\usepgfmodule{<span
                      class="textcolor"
                      style="color: #bf0000"
                      >nonlineartransformations</span
                    >} %
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >L<span class="latexlogosup">a</span>T<span
                          class="latexlogosub"
                          >e</span
                        >X</span
                      ></span
                    >
                    and plain
                    <span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >
                    and pure pgf</kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.nonlineartransformations"
                  >&para;</a
                >
              </p>
            </div>

            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    >\usepgfmodule[<span
                      class="textcolor"
                      style="color: #bf0000"
                      >nonlineartransformations</span
                    >] % Con<span class="latexlogofont"
                      ><span class="latexlogo"
                        >T<span class="latexlogosub">e</span>X</span
                      ></span
                    >t and pure pgf</kbd
                  ></span
                >
              </p>
            </div>
            <p>
              Loads the necessary functionality for nonlinear transformations.
            </p>
          </div>
          <h6 id="autosec-8144">
            <span class="sectionnumber" id="sec-107.4.1">107.4.1&emsp;</span
            >Introduction<a class="anchor-link" href="#sec-107.4.1">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-8144"></a>

          <p>
            The difference between the coordinate transformations introduced in
            Section&nbsp;<a
              href="base-transformations#section-linear-coordinate-transformations"
              >107.2</a
            >
            above to nonlinear transformations is, of course, that the
            transformations can be nonlinear. An example of a nonlinear
            transformation is the transformation underlying polar coordinates: A
            polar coordinate \((r,d)\) gets transformed to the canvas position
            \((d\cos r,d\sin r)\), which is clearly not a linear transformation.
          </p>

          <p>
            Nonlinear transformations work somewhat like the normal linear
            coordinate transformations in the sense that they apply to
            coordinate and thereby to the construction of paths, but not to
            things like text or line width or shadings. (Indeed, it is not
            possible to apply nonlinear transformations to, say, text.)
          </p>

          <p>
            This means that there is a fundamental difference between, on the
            one hand, calling a function like
            <span class="texttt">\pgfpointpolar</span> or specifying a
            coordinate as <span class="texttt">(45:2)</span> in
            <span class="tikzname">TikZ</span> and, on the other hand,
            installing the nonlinear transformation &ldquo;polar
            coordinates&rdquo; using the command
            <span class="texttt">\pgftransformnonlinear</span>: In a coordinate
            like <span class="texttt">(45:2)</span> the user explicitly says
            &ldquo;please evaluate this one coordinate in polar coordinate and
            then continue in the normal coordinate system with the
            result&rdquo;. Otherwise nothing changes and a line between two
            points specified in this way is still a straight line.
          </p>

          <p>
            Things are quite different when we install a polar
            <em>transformation</em> using
            <span class="texttt">\pgftransformnonlinear</span>. Now, even a
            seemingly low-level Cartesian coordinate
            <span class="texttt">\pgfqpoint{1pt}{1pt}</span>
            will get transformed. Even more drastically, what is specified as a
            straight line like
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,1)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(1,1)</span
                >;<br />
              </code>
            </div>
          </figure>

          <p>can become curved since <em>everything</em> gets transformed.</p>
          <h6 id="autosec-8145">
            <span class="sectionnumber" id="sec-107.4.2">107.4.2&emsp;</span
            >Installing Nonlinear Transformation<a
              class="anchor-link"
              href="#sec-107.4.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8145"></a>

          <div class="hidden"></div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgftransformnonlinear"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgftransformnonlinear</kbd></span
                  >{<span class="angle">&langle;</span><i>transformation code</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgftransformnonlinear"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command adds the <span class="angle">&langle;</span
              ><i>transformation code</i><span class="angle">&rangle;</span> to
              the list of non-linear transformations currently in force. Thus,
              similar to linear coordinate transformations, each additional call
              to this function adds another transformation to the current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              scope and the effect ends at the end of the current scope. In
              practice, however, you typically will not have more than one
              active nonlinear transformation.
            </p>
            <p>
              The job of the <span class="angle">&langle;</span
              ><i>transformation code</i><span class="angle">&rangle;</span> is
              to map a point&nbsp;\(p\) given in the registers
              <span class="texttt">\pgf@x</span> and
              <span class="texttt">\pgf@y</span> to a new
              coordinate&nbsp;\(f(p)\), which should be returned in
              <span class="texttt">\pgf@x</span> and
              <span class="texttt">\pgf@y</span> as well. As an example, suppose
              we wish to install polar coordinates as the nonlinear
              transformation. For this, we need a bit of code:
            </p>

            <figure class="example">
              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #0000b2">\def</span
                  ><span class="textcolor" style="color: #0000b2"
                    >\polartransformation</span
                  >{<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% \pgf@x will contain the radius</span
                  ><br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% \pgf@y will contain the distance</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgfmathsincos</span
                  ><span class="textcolor" style="color: #000000">@</span>{<span
                    class="textcolor"
                    style="color: #0000b2"
                    >\pgf</span
                  ><span class="textcolor" style="color: #000000"
                    >@sys@tonumber</span
                  ><span class="textcolor" style="color: #0000b2">\pgf</span
                  ><span class="textcolor" style="color: #000000">@x</span
                  >}<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% pgfmathresultx is now the cosine of radius and</span
                  ><br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% pgfmathresulty is the sine of radius</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgf</span
                  ><span class="textcolor" style="color: #000000">@x=</span
                  ><span class="textcolor" style="color: #0000b2"
                    >\pgfmathresultx</span
                  ><span class="textcolor" style="color: #0000b2">\pgf</span
                  ><span class="textcolor" style="color: #000000">@y</span
                  ><span class="example-code-comment">%</span><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\pgf</span
                  ><span class="textcolor" style="color: #000000">@y=</span
                  ><span class="textcolor" style="color: #0000b2"
                    >\pgfmathresulty</span
                  ><span class="textcolor" style="color: #0000b2">\pgf</span
                  ><span class="textcolor" style="color: #000000">@y</span
                  ><span class="example-code-comment">%</span><br />
                  }<br />
                </code>
              </div>
            </figure>
            <p>
              (In case you wonder why you cannot just call
              <span class="texttt">\pgfpointpolar</span> at this point: You can,
              but this function internally uses
              <span class="texttt">\pgf@x</span> and
              <span class="texttt">\pgf@y</span> in complicated ways, so you
              would first have to safe them so some other registers. Also, the
              above is faster.)
            </p>
            <p>
              If we were to call this function again, we would get something
              funny like &ldquo;polar-polar coordinates&rdquo;, so let&rsquo;s
              not do this. Let us instead have a look at the effect this call
              has: Once a nonlinear transformation is installed, all subsequent
              path constructions are affected by this transformation. In
              particular, a normal grid now becomes the typical &ldquo;polar
              grid&rdquo;.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3268"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.818"
                      loading="lazy"
                      src="pgfmanual-images/image-3268.png"
                      style
                      width="116.474"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% Start nonlinear transformation</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    >\polartransformation</span
                  >}<span class="example-code-comment">% see above</span><br />
                  <br />
                  &numsp;&numsp;<span class="example-code-comment"
                    >% Draw something with this transformation in force</span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0pt,0mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.xstep">xstep</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.ystep">ystep</a></span
                  >=<span class="textcolor" style="color: #008000">5mm</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(90pt, 20mm)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
          <h6 id="autosec-8148">
            <span class="sectionnumber" id="sec-107.4.3">107.4.3&emsp;</span
            >Applying Nonlinear Transformations to Points<a
              class="anchor-link"
              href="#sec-107.4.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8148"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfpointtransformednonlinear"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfpointtransformednonlinear</kbd></span
                  >{<span class="angle">&langle;</span><i>point</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfpointtransformednonlinear"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Works like <span class="texttt">\pgfpointtransformed</span>, but
              also applies the current nonlinear transformation; that is, it
              first applies the current linear transformation and then the
              current nonlinear transformations. Note that, just like
              <span class="texttt">\pgfpointtransformed</span>, you normally do
              not call this function directly since it is called internally by
              the path drawing commands.
            </p>
          </div>
          <h6 id="autosec-8149">
            <span class="sectionnumber" id="sec-107.4.4">107.4.4&emsp;</span
            >Applying Nonlinear Transformations to Paths<a
              class="anchor-link"
              href="#sec-107.4.4"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8149"></a>

          <p>
            When a nonlinear transformation is installed, the normal path
            construction commands like
            <span class="texttt">\pgfpathmoveto</span> get adjusted so that the
            &ldquo;honour&rdquo; the nonlinear transformations currently in
            force. For <span class="texttt">\pgfpathmoveto</span> this is pretty
            simple: Instead of just applying the linear transformation matrix to
            the point to which the path should &ldquo;jump&rdquo; next, we also
            apply the nonlinear transformation. However, for a command like
            <span class="texttt">\pgfpathlineto</span>, things are much more
            difficult: A straight line will no longer be a straight line!
          </p>

          <p>
            In order to make straight lines &ldquo;bend&rdquo;, the following
            changes are in force while a nonlinear transformation is installed:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. Whenever a straight line between two points \(p\) and \(q\)
                should be added to the path, either through
                <span class="texttt">\pgfpathlineto</span> or through
                <span class="texttt">\pgfpathclose</span>, we replace this
                straight line by a &ldquo;degenerated curve&rdquo; from \(p\) to
                \(q\) whose control points are at one third and two third of the
                distance between \(p\) and \(q\) on the line between \(p\) and
                \(q\). In this way, while nonlinear transformations are in
                force, we only need to transform curves.
              </p>
            </li>
            <li>
              <p>
                2. Next, suppose we wish to transform a curve from \(p\) to
                \(q\) with supports \(s\) and \(t\). For this, we simply apply
                the nonlinear transformation \(f\) to all four points and draw a
                line with the results. Note that this mapping is actually not
                quite satisfactory for long lines that are strongly curved:
              </p>

              <figure class="example">
                <div class="example-image">
                  <p>
                    <span
                      class="lateximagesource"
                      id="lateximage-pgfmanual-3269"
                      ><!--
   -->
                      <img
                        alt="(-tikz-&nbsp;diagram)"
                        class="lateximage"
                        height="78.698"
                        loading="lazy"
                        src="pgfmanual-images/image-3269.png"
                        style
                        width="116.330"
                    /></span>
                  </p>
                </div>

                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code>
                    <span class="c- preamble"
                      >\usepgfmodule {nonlineartransformations} </span
                    ><br />
                    <span class="textcolor" style="color: #000000">\begin</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture">
                        tikzpicture</a
                      ></span
                    >}<br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw"> \draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      ><a href="tikz-paths#pgf.help:lines"> help lines</a></span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(0,0)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.grid"> grid</a></span
                    >
                    <span class="textcolor" style="color: #800080">(3,2)</span
                    >;<br />
                    &numsp;&numsp;{<br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a
                        href="base-transformations#pgf.back/pgftransformnonlinear"
                      >
                        \pgftransformnonlinear</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      >\polartransformation</span
                    >}<br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="example-code-comment"
                      >% The curve with the controls computed by pgf: a nice
                      quarter arc</span
                    ><br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw"> \draw</a></span
                    >&numsp;[<span class="textcolor" style="color: #008000"
                      >red</span
                    >]&numsp;<span class="textcolor" style="color: #800080"
                      >(0,20mm)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="tikz-paths#pgf.--"> --</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(90pt,20mm)</span
                    >;<br />
                    &numsp;&numsp;}<br />
                    &numsp;&numsp;<span class="example-code-comment"
                      >% Here is the curve with controls just transformed:</span
                    ><br />
                    &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-actions#pgf.back/draw"> \draw</a></span
                    >&numsp;<span class="textcolor" style="color: #800080"
                      >(0:20mm)</span
                    >&numsp;..&numsp;<span
                      class="textcolor"
                      style="color: #000000"
                      ><a href="library-edges#pgf.controls"> controls</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(30pt:20mm)</span
                    >&numsp;<span class="textcolor" style="color: #000000"
                      ><a href="pgfkeys#pgf.and"> and</a></span
                    >
                    <span class="textcolor" style="color: #800080"
                      >(60pt:20mm)</span
                    >&numsp;..&numsp;<span
                      class="textcolor"
                      style="color: #800080"
                      >(90pt:20mm)</span
                    >;<br />
                    <span class="textcolor" style="color: #000000">\end</span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="tikz-scopes#pgf.tikzpicture">
                        tikzpicture</a
                      ></span
                    >}<br />
                  </code>
                </div>
              </figure>
              <p>
                As the example shows, the control points now lie on the arc; but
                in reality they should point along the tangents at the start and
                the end. This is exactly when
                <span class="textsc">pgf</span> does through the computation
                described above.
              </p>
            </li>
            <li>
              <p>
                3. To overcome the effect of the control points being
                &ldquo;off&rdquo;, it is necessary to split up longer curves
                into smaller parts, which are drawn individually to increase the
                accuracy. When such splitting occurs, can be configured using
                the following command:
              </p>

              <div class="manualentry">
                <div class="entryheadline">
                  <p>
                    <a id="pgf.back/pgfsettransformnonlinearflatness"></a>
                    <span class="hl-def"
                      ><span class="textcolor" style="color: #bf0000"
                        ><kbd>\pgfsettransformnonlinearflatness</kbd></span
                      >{<span class="angle">&langle;</span><i>dimension</i
                      ><span class="angle">&rangle;</span>} (initially
                      5pt)</span
                    >
                    <a
                      class="anchor-link"
                      href="#pgf.back/pgfsettransformnonlinearflatness"
                      >&para;</a
                    >
                  </p>
                </div>
                <p>
                  Whenever in a to-be-drawn curve the \(L^\infty \)-distance
                  (maximum of the distances in \(x\)- and \(y\)-directions)
                  between the start of a curve and its first control point or
                  between the first and second control points or between the
                  second control point and the end is more than
                  <span class="angle">&langle;</span><i>distance</i
                  ><span class="angle">&rangle;</span>, the curve gets split in
                  the middle (more precisely, at time \(t= 0.5\)) and we draw
                  the two parts individually (for them, splitting may occur
                  again, if the curve is still too long).
                </p>

                <figure class="example">
                  <div class="example-image">
                    <p>
                      <span
                        class="lateximagesource"
                        id="lateximage-pgfmanual-3270"
                        ><!--
-->
                        <img
                          alt="(-tikz-&nbsp;diagram)"
                          class="lateximage"
                          height="78.698"
                          loading="lazy"
                          src="pgfmanual-images/image-3270.png"
                          style
                          width="116.330"
                      /></span>
                    </p>
                  </div>

                  <div class="example-code">
                    <button class="clipboardButton" type="button">copy</button>
                    <code>
                      <span class="c- preamble"
                        >\usepgfmodule {nonlineartransformations} </span
                      ><br />
                      <span class="textcolor" style="color: #000000"
                        >\begin</span
                      >{<span class="textcolor" style="color: #0000b2"
                        ><a href="tikz-scopes#pgf.tikzpicture">
                          tikzpicture</a
                        ></span
                      >}<br />
                      &numsp;&numsp;<span
                        class="textcolor"
                        style="color: #0000b2"
                        ><a href="tikz-actions#pgf.back/draw"> \draw</a></span
                      >&numsp;[<span class="textcolor" style="color: #008000"
                        ><a href="tikz-paths#pgf.help:lines">
                          help lines</a
                        ></span
                      >]&numsp;<span class="textcolor" style="color: #800080"
                        >(0,0)</span
                      >&numsp;<span class="textcolor" style="color: #000000"
                        ><a href="tikz-paths#pgf.grid"> grid</a></span
                      >
                      <span class="textcolor" style="color: #800080">(3,2)</span
                      >;<br />
                      &numsp;&numsp;<span
                        class="textcolor"
                        style="color: #0000b2"
                        ><a href="tikz-actions#pgf.back/draw"> \draw</a></span
                      >[<span class="textcolor" style="color: #008000">red</span
                      >]&numsp;<span class="textcolor" style="color: #800080"
                        >(0:20mm)</span
                      >&numsp;<span class="textcolor" style="color: #000000"
                        ><a href="tikz-paths#pgf.arc"> arc</a></span
                      >
                      [<span class="textcolor" style="color: #008000"
                        ><a href="tikz-paths#pgf.start:angle">
                          start angle</a
                        ></span
                      >=<span class="textcolor" style="color: #008000">0</span
                      >,&numsp;<span class="textcolor" style="color: #008000"
                        ><a href="tikz-paths#pgf.end:angle"> end angle</a></span
                      >=<span class="textcolor" style="color: #008000">90</span
                      >,&numsp;<span class="textcolor" style="color: #008000"
                        ><a href="tikz-coordinates#pgf.radius"> radius</a></span
                      >=<span class="textcolor" style="color: #008000">2cm</span
                      >];<br />
                      &numsp;&numsp;{<br />
                      &numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #0000b2"
                        ><a
                          href="base-transformations#pgf.back/pgftransformnonlinear"
                        >
                          \pgftransformnonlinear</a
                        ></span
                      >{<span class="textcolor" style="color: #0000b2"
                        >\polartransformation</span
                      >}<br />
                      &numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #0000b2"
                        ><a
                          href="base-transformations#pgf.back/pgfsettransformnonlinearflatness"
                        >
                          \pgfsettransformnonlinearflatness</a
                        ></span
                      >{<span class="textcolor" style="color: #000000">2pt</span
                      >}&numsp;<span class="example-code-comment"
                        >% very precise</span
                      ><br />
                      &numsp;&numsp;&numsp;&numsp;<span
                        class="textcolor"
                        style="color: #0000b2"
                        ><a href="tikz-actions#pgf.back/draw"> \draw</a></span
                      >&numsp;<span class="textcolor" style="color: #800080"
                        >(0,20mm)</span
                      >&numsp;<span class="textcolor" style="color: #000000"
                        ><a href="tikz-paths#pgf.--"> --</a></span
                      >
                      <span class="textcolor" style="color: #800080"
                        >(90pt,20mm)</span
                      >;<br />
                      &numsp;&numsp;}<br />
                      <span class="textcolor" style="color: #000000">\end</span
                      >{<span class="textcolor" style="color: #0000b2"
                        ><a href="tikz-scopes#pgf.tikzpicture">
                          tikzpicture</a
                        ></span
                      >}<br />
                    </code>
                  </div>
                </figure>
              </div>
            </li>
          </ul>
          <h6 id="autosec-8154">
            <span class="sectionnumber" id="sec-107.4.5">107.4.5&emsp;</span
            >Applying Nonlinear Transformations to Text<a
              class="anchor-link"
              href="#sec-107.4.5"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8154"></a>

          <p>
            Earlier, it was pointed that nonlinear transformations do not apply
            to text. Nevertheless, when you use
            <span class="texttt">\pgftext</span> or
            <span class="texttt">\pgfnode</span>,
            <span class="textsc">pgf</span> will do a sort of &ldquo;best
            effort&rdquo; to render the text in the nonlinear coordinate system:
            The point where the text should be shown can obviously be computed
            easily. When then temporarily reset the nonlinear transformation
            and, instead, setup a linear transformation that matches the
            nonlinear transformation at the point where the text should be.
            Then, the text is shown. This means that if the text is longer, it
            will not &ldquo;follow&rdquo; the nonlinear transformation, but near
            the origin of the text it will look &ldquo;correct&rdquo;. As an
            example, let us add some text at the grid point of the above
            example:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-3271"
                  ><!--
09
◦
              06
              ◦



    09 0◦6




                      ◦ 03
◦




             ◦ 03



                         ◦
                  ◦


                        0
              0
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="90.602"
                    loading="lazy"
                    src="pgfmanual-images/image-3271.png"
                    style
                    width="123.877"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usepgfmodule {nonlineartransformations} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                <span class="textcolor" style="color: #800080">(3,2)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="base-transformations#pgf.back/pgftransformnonlinear"
                    >\pgftransformnonlinear</a
                  ></span
                >{<span class="textcolor" style="color: #0000b2"
                  >\polartransformation</span
                >}<span class="example-code-comment">% see above</span><br />
                <br />
                &numsp;&numsp;<span class="example-code-comment"
                  >% Draw something with this transformation in force</span
                ><br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0pt,0mm)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.grid">grid</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.xstep">xstep</a></span
                >=<span class="textcolor" style="color: #008000">10pt</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.ystep">ystep</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(90pt, 20mm)</span
                >;<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                >&numsp;<span class="textcolor" style="color: #0000b2"
                  >\angle</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">0</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >30</span
                >,<span class="textcolor" style="color: #000000">60</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >90</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                >&numsp;<span class="textcolor" style="color: #0000b2"
                  >\dist</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">1</span>,<span
                  class="textcolor"
                  style="color: #000000"
                  >2</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="base-transformations#pgf.back/pgftransformshift"
                    >\pgftransformshift</a
                  ></span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                >{<span class="textcolor" style="color: #0000b2">\angle</span
                >&numsp;<span class="textcolor" style="color: #000000">pt</span
                >}{<span class="textcolor" style="color: #0000b2">\dist</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-transformations#pgf.cm">cm</a></span
                >}}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                >{<span class="textcolor" style="color: #0000b2">\angle</span
                ><span class="textcolor" style="color: #000000">$^</span
                ><span class="textcolor" style="color: #0000b2">\circ</span
                ><span class="textcolor" style="color: #000000">$</span>}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-8157">
            <span class="sectionnumber" id="sec-107.4.6">107.4.6&emsp;</span
            >Approximating Nonlinear Transformations Using Linear
            Transformations<a class="anchor-link" href="#sec-107.4.6">&para;</a>
          </h6>
          <a id="pgfmanual-autopage-8157"></a>

          <p>
            At any given point, the current nonlinear transformation can be
            approximated using a linear transformation. The following two
            functions allow you to install such a local approximation:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfapproximatenonlineartransformation"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfapproximatenonlineartransformation</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfapproximatenonlineartransformation"
                  >&para;</a
                >
              </p>
            </div>
            <p>This command will do two things:</p>

            <p>
              1. It clears the nonlinear transformations for the rest of the
              current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              scope, so only linear transformations apply.
            </p>

            <p>
              2. However, before removing the nonlinear transformations, the
              linear transformation matrix is modified so that it mimics the
              effect the nonlinear transformation had at the origin. That is,
              after you call this command, drawing something near the origin
              will look almost the same as if you had not called it.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3272"
                    ><!--
oo
     f
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.818"
                      loading="lazy"
                      src="pgfmanual-images/image-3272.png"
                      style
                      width="116.474"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    >\polartransformation</span
                  >}<span class="example-code-comment">% see above</span><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0pt,0mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.xstep">xstep</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.ystep">ystep</a></span
                  >=<span class="textcolor" style="color: #008000">5mm</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(90pt, 20mm)</span
                  >;<br />
                  <br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-transformations#pgf.shift">shift</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >{<span class="textcolor" style="color: #800080"
                      >(45pt,20mm)</span
                    >}</span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                    >% Draw something near "origin":</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(-10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10pt,10pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(-10pt,10pt)</span
                  >;<br />
                  <br />
                  &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                    >% Now draw the same, but in the "approximate" coordinate
                    system:</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfapproximatenonlineartransformation"
                      >\pgfapproximatenonlineartransformation</a
                    ></span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[]&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(-10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10pt,10pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[]&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(-10pt,10pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">foo</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              This command is used by <span class="texttt">\pgftext</span> and
              <span class="texttt">\pgfnode</span> to transform text when a
              nonlinear transformation is in force.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfapproximatenonlineartranslation"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfapproximatenonlineartranslation</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfapproximatenonlineartranslation"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command works like the normal approximation command, but it
              will only approximate how the origin gets translated, it will not
              approximate the rotation, skewing, or scaling that is involved.
              This is useful for drawing text at the right position, but without
              &ldquo;mutilating&rdquo; the text.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3273"
                    ><!--
foo
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.818"
                      loading="lazy"
                      src="pgfmanual-images/image-3273.png"
                      style
                      width="116.474"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    >\polartransformation</span
                  >}<span class="example-code-comment">% see above</span><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0pt,0mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.xstep">xstep</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.ystep">ystep</a></span
                  >=<span class="textcolor" style="color: #008000">5mm</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(90pt, 20mm)</span
                  >;<br />
                  <br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-transformations#pgf.shift">shift</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >{<span class="textcolor" style="color: #800080"
                      >(45pt,20mm)</span
                    >}</span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                    >% Draw something near "origin":</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(-10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10pt,10pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(-10pt,10pt)</span
                  >;<br />
                  <br />
                  &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                    >% Now draw the same, but in the "approximate" coordinate
                    system:</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfapproximatenonlineartranslation"
                      >\pgfapproximatenonlineartranslation</a
                    ></span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[]&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(-10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10pt,10pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[]&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(10pt,-10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(-10pt,10pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-scopes#pgf.back/pgftext">\pgftext</a></span
                  >{<span class="textcolor" style="color: #000000">foo</span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #000000"
                    >\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.scope">scope</a></span
                  >}<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
          <h6 id="autosec-8162">
            <a id="section-library-curvilinear"></a
            ><span class="sectionnumber" id="sec-107.4.7">107.4.7&emsp;</span
            >Nonlinear Transformation Libraries<a
              class="anchor-link"
              href="#sec-107.4.7"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-8162"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.curvilinear"></a>
                <span class="hl-def"
                  ><b><span class="tikzname">TikZ</span> Library</b>
                  <kbd
                    ><span class="textcolor" style="color: #bf0000"
                      >curvilinear</span
                    ></kbd
                  ></span
                >
                <a class="anchor-link" href="#pgf.curvilinear">&para;</a>
              </p>
            </div>

            <p>
              <kbd
                >\usepgflibrary{<span class="textcolor" style="color: #bf0000"
                  >curvilinear</span
                >} %
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >L<span class="latexlogosup">a</span>T<span
                      class="latexlogosub"
                      >e</span
                    >X</span
                  ></span
                >
                and plain
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                and pure pgf</kbd
              ><br />
              <kbd
                >\usepgflibrary[<span class="textcolor" style="color: #bf0000"
                  >curvilinear</span
                >] % Con<span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >t and pure pgf</kbd
              ><br />
              <kbd
                >\usetikzlibrary{<span class="textcolor" style="color: #bf0000"
                  >curvilinear</span
                >} %
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >L<span class="latexlogosup">a</span>T<span
                      class="latexlogosub"
                      >e</span
                    >X</span
                  ></span
                >
                and plain
                <span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >
                when using <span class="tikzname">TikZ</span></kbd
              ><br />
              <kbd
                >\usetikzlibrary[<span class="textcolor" style="color: #bf0000"
                  >curvilinear</span
                >] % Con<span class="latexlogofont"
                  ><span class="latexlogo"
                    >T<span class="latexlogosub">e</span>X</span
                  ></span
                >t when using <span class="tikzname">TikZ</span></kbd
              ><br />
              <br />
              This library defines commands for computing nonlinear
              transformations &ldquo;along B&eacute;zier curves&rdquo;.
            </p>
          </div>

          <p>
            Up to now, our running example for a nonlinear transformation was
            polar transformation. However, is
            <span class="textsc">pgf</span> nonlinear transformations are
            <em>actually</em> mainly used for transforming arrow tips; and these
            need to be transformed &ldquo;along curves&rdquo;. The
            <span class="texttt">curvilinear</span> library defines a number of
            commands that offer the necessary computations for such
            transformations.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsetcurvilinearbeziercurve"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsetcurvilinearbeziercurve</kbd></span
                  >{<span class="angle">&langle;</span><i>start</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>first support</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>second support</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>end</i><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfsetcurvilinearbeziercurve"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Prior to using any other command from this library, you first call
              this function to &ldquo;install&rdquo; a B&eacute;zier curve to
              which the commands will refer. This curve will be local to the
              current
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              scope and you can install only one curve at a time.
            </p>
            <p>
              The main job of this command is to store the passed points
              internally and to build a lookup table for distance-to-time
              conversions, see the next command.
            </p>

            <figure class="example">
              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                      >\pgfsetcurvilinearbeziercurve</a
                    ></span
                  ><br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpointorigin"
                      >\pgfpointorigin</a
                    ></span
                  >}<br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">1cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">2cm</span
                  >}{<span class="textcolor" style="color: #000000">1cm</span
                  >}}<br />
                  &numsp;&numsp;{<span class="textcolor" style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">3cm</span
                  >}{<span class="textcolor" style="color: #000000">0cm</span
                  >}}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfcurvilineardistancetotime"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfcurvilineardistancetotime</kbd></span
                  >{<span class="angle">&langle;</span><i>distance</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfcurvilineardistancetotime"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command does a &ldquo;distance-to-time-conversion&rdquo;: It
              tries to compute a time \(t\), returned in
              <span class="texttt">\pgf@x</span>, that corresponds to travelling
              <span class="angle">&langle;</span><i>distance</i
              ><span class="angle">&rangle;</span> along the curve that has last
              been installed using the command
              <span class="texttt">\pgfsetcurvilinearbeziercurve</span>. The
              distance-to-time-conversion uses the precomputations done by that
              command. Note that several compromises had to be made between
              speed and accuracy:
            </p>

            <p>
              &bull; The conversion will be best near the start of the curve.
            </p>

            <p>
              &bull; The more &ldquo;degenerate&rdquo; the curve, the worse the
              results.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfpointcurvilinearbezierorthogonal"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfpointcurvilinearbezierorthogonal</kbd></span
                  >{<span class="angle">&langle;</span><i>distance</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>offset</i><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfpointcurvilinearbezierorthogonal"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command computes the following point: Consider the curve last
              installed using the command
              <span class="texttt">\pgfsetcurvilinearbeziercurve</span>. We
              travel along this curve by <span class="angle">&langle;</span
              ><i>distance</i><span class="angle">&rangle;</span>, arriving at a
              point \(p\). Then, we turn by \(90^\circ \) and travel by
              <span class="angle">&langle;</span><i>offset</i
              ><span class="angle">&rangle;</span> units &ldquo;always from the
              curve&rdquo;, arriving at a point \(q\). This point \(q\) will now
              be returned in <span class="texttt">\pgf@x</span> and
              <span class="texttt">\pgf@y</span>; furthermore, the transformed
              local coordinate system at point \(q\) will also be returned
              <span class="texttt">\pgf@xa</span> and the other registers, see
              <span class="texttt">\pgftransformnonlinear</span> for details.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3274"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="118.514"
                      loading="lazy"
                      src="pgfmanual-images/image-3274.png"
                      style
                      width="116.462"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                    {curvilinear} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                      >\pgfsetcurvilinearbeziercurve</a
                    ></span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">11mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">11mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">0mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfpointcurvilinearbezierorthogonal"
                      >\pgfpointcurvilinearbezierorthogonal</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@x"
                      >\pgf@x</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@y"
                      >\pgf@y</a
                    ></span
                  >}<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,-30pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.step">step</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(80pt,30pt)</span
                  >;<br />
                  &numsp;&numsp;}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0mm,20mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-edges#pgf.controls">controls</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(11mm,20mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(20mm,11mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(20mm,0mm)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3275"
                    ><!--
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="120.626"
                      loading="lazy"
                      src="pgfmanual-images/image-3275.png"
                      style
                      width="116.462"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                    {curvilinear} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                      >\pgfsetcurvilinearbeziercurve</a
                    ></span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">10mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">10mm</span
                  >}{<span class="textcolor" style="color: #000000">10mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">10mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfpointcurvilinearbezierorthogonal"
                      >\pgfpointcurvilinearbezierorthogonal</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@x"
                      >\pgf@x</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@y"
                      >\pgf@y</a
                    ></span
                  >}<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,-30pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.step">step</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(80pt,30pt)</span
                  >;<br />
                  &numsp;&numsp;}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0mm,20mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-edges#pgf.controls">controls</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,20mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,10mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(20mm,10mm)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfpointcurvilinearbezierpolar"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfpointcurvilinearbezierpolar</kbd></span
                  >{<span class="angle">&langle;</span><i>x</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>y</i><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfpointcurvilinearbezierpolar"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command is similar to the previous version, but the
              transformation is different: The idea is that a line form
              \((0,0)\) to \((x,0)\) gets transformed to the curve from the
              start of the curve to a point at distance \(x\) along the curve.
              This is identical to what the &ldquo;orthogonal&rdquo;
              transformation above also does. The difference is that a line from
              \((0,0)\) to \((0,y)\) gets still transformed to an initial
              segment of the curve of a length of \(y\), but now rotated by
              \(90^\circ \). In general, the point \(p = (x,y)\) gets
              transferred to a point that at distance \(|p| = \sqrt {x^2+y^2}\)
              along the curve, but rotated by the angle of \(p\) relative to the
              \(x\)-axis.
            </p>
            <p>
              All of these computations mainly have the following effect: Two
              straight lines from the start of the curve as in a
              <span class="texttt">Straight Barb</span> arrow tip get
              transformed to an initial segment of the curve whose length is the
              length of the two lines, but this segment gets rotated by the
              angle of the two lines.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3276"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="128.306"
                      loading="lazy"
                      src="pgfmanual-images/image-3276.png"
                      style
                      width="126.218"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                    {curvilinear} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                      >\pgfsetcurvilinearbeziercurve</a
                    ></span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">11mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">11mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">0mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfpointcurvilinearbezierpolar"
                      >\pgfpointcurvilinearbezierpolar</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@x"
                      >\pgf@x</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@y"
                      >\pgf@y</a
                    ></span
                  >}<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,-30pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.step">step</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(80pt,30pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                    >% Add a "barb":</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >blue</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(20pt,10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(20pt,-10pt)</span
                  >;<br />
                  &numsp;&numsp;}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0mm,20mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-edges#pgf.controls">controls</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(11mm,20mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(20mm,11mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(20mm,0mm)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-3277"
                    ><!--
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="109.658"
                      loading="lazy"
                      src="pgfmanual-images/image-3277.png"
                      style
                      width="128.772"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <span class="c- preamble"
                    >\usepgfmodule {nonlineartransformations} \usetikzlibrary
                    {curvilinear} </span
                  ><br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfsetcurvilinearbeziercurve"
                      >\pgfsetcurvilinearbeziercurve</a
                    ></span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">0mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">10mm</span
                  >}{<span class="textcolor" style="color: #000000">20mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">10mm</span
                  >}{<span class="textcolor" style="color: #000000">10mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="base-points#pgf.back/pgfpoint">\pgfpoint</a></span
                  >{<span class="textcolor" style="color: #000000">20mm</span
                  >}{<span class="textcolor" style="color: #000000">10mm</span
                  >}}<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgftransformnonlinear"
                      >\pgftransformnonlinear</a
                    ></span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a
                      href="base-transformations#pgf.back/pgfpointcurvilinearbezierpolar"
                      >\pgfpointcurvilinearbezierpolar</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@x"
                      >\pgf@x</a
                    ></span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-internalregisters#pgf.back/pgf@y"
                      >\pgf@y</a
                    ></span
                  >}<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,-30pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.step">step</a></span
                  >=<span class="textcolor" style="color: #008000">10pt</span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(80pt,30pt)</span
                  >;<br />
                  &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                    >% Add a "barb":</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >blue</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(20pt,10pt)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(20pt,-10pt)</span
                  >;<br />
                  &numsp;&numsp;}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >,&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0mm,20mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="library-edges#pgf.controls">controls</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,20mm)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="pgfkeys#pgf.and">and</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(10mm,10mm)</span
                  >&numsp;..&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(20mm,10mm)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
        </section>
      </main>

      <footer>
        <div class_="footer-left">
          <a href="https://github.com/pgf-tikz/pgf">Github</a> &middot;
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">PDF version</a>
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class_="footer-right">
          <em>Manual last updated: 2022-04-23</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      docsearch({
        apiKey: "ae66ec3fc9df4b52b4d6f24fc8508fd3",
        indexName: "tikz.dev",
        appId: "Q70NNMA9GC",
        container: "#search",
      });
    </script>
  </body>
</html>
