<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Matrices and Alignment - PGF/TikZ Manual</title>
    <link href="style.css" rel="stylesheet" type="text/css" />

    <script>
      // Lwarp MathJax emulation code
      //
      // Based on code by Davide P. Cervone.
      // Equation numbering: https://github.com/mathjax/MathJax/issues/2427
      // Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
      // \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
      //
      // Modified by Brian Dunn to adjust equation numbering and add subequations.
      //
      // LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
      // subequations? is 0 usually, 1 if inside subequations.
      // section is a string printed as-is, or empty.
      // number is auto-incremented by MathJax between equations.
      //
      MathJax = {
        subequations: "0",
        section: "",
        loader: {
          load: ["[tex]/tagformat", "[tex]/textmacros"],
        },
        startup: {
          ready() {
            // These would be replaced by import commands if you wanted to make
            // a proper extension.
            const Configuration =
              MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;

            // Insert the replacement string into the TeX string, and check
            // that there haven't been too many maxro substitutions (prevents
            // infinite loops).
            const useArgument = (parser, text) => {
              parser.string = ParseUtil.addArgs(
                parser,
                text,
                parser.string.slice(parser.i)
              );
              parser.i = 0;
              if (
                ++parser.macroCount > parser.configuration.options.maxMacros
              ) {
                throw new TexError(
                  "MaxMacroSub1",
                  "MathJax maximum macro substitution count exceeded; " +
                    "is there a recursive macro call?"
                );
              }
            };

            // Create the command map for:
            // \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
            new CommandMap(
              "Lwarp-macros",
              {
                ifstar: "IfstarFunction",
                ifnextchar: "IfnextcharFunction",
                ifblank: "IfblankFunction",
                ifstrequal: "IfstrequalFunction",
                seteqnumber: "SeteqnumberFunction",
              },
              {
                // This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                  const resultstar = parser.GetArgument(name);
                  const resultnostar = parser.GetArgument(name);
                  const star = parser.GetStar(); // true if there is a *
                  useArgument(parser, star ? resultstar : resultnostar);
                },

                // This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                  let whichchar = parser.GetArgument(name);
                  if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                    // $ syntax highlighting
                    whichchar = String.fromCodePoint(parseInt(whichchar));
                  }
                  const resultnextchar = parser.GetArgument(name);
                  const resultnotnextchar = parser.GetArgument(name);
                  const gotchar = parser.GetNext() === whichchar;
                  useArgument(
                    parser,
                    gotchar ? resultnextchar : resultnotnextchar
                  );
                },

                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                  const blankarg = parser.GetArgument(name);
                  const resultblank = parser.GetArgument(name);
                  const resultnotblank = parser.GetArgument(name);
                  const isblank = blankarg.trim() == "";
                  useArgument(parser, isblank ? resultblank : resultnotblank);
                },

                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                  const strequalfirst = parser.GetArgument(name);
                  const strequalsecond = parser.GetArgument(name);
                  const resultequal = parser.GetArgument(name);
                  const resultnotequal = parser.GetArgument(name);
                  const isequal = strequalfirst == strequalsecond;
                  useArgument(parser, isequal ? resultequal : resultnotequal);
                },

                // This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                  // Get the macro parameters
                  const star = parser.GetStar(); // true if there is a *
                  const optBrackets = parser.GetBrackets(name); // contents of optional brackets
                  const newsubequations = parser.GetArgument(name); // the subequations argument
                  const neweqsection = parser.GetArgument(name); // the eq section argument
                  const neweqnumber = parser.GetArgument(name); // the eq number argument
                  MathJax.config.subequations = newsubequations; // a string with boolean meaning
                  MathJax.config.section = neweqsection; // a string with numeric meaning
                  parser.tags.counter = parser.tags.allCounter = neweqnumber;
                },
              }
            );

            // Create the Lwarp-macros package
            Configuration.create("Lwarp-macros", {
              handler: { macro: ["Lwarp-macros"] },
            });

            MathJax.startup.defaultReady();

            // For forward references:
            MathJax.startup.input[0].preFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                MathJax.config.subequations =
                  math.inputData.recompile.subequations;
                MathJax.config.section = math.inputData.recompile.section;
              }
            });
            MathJax.startup.input[0].postFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                math.inputData.recompile.subequations =
                  MathJax.config.subequations;
                math.inputData.recompile.section = MathJax.config.section;
              }
            });

            // For \left, \right with unicode-math:
            const { DelimiterMap } = MathJax._.input.tex.SymbolMap;
            const { Symbol } = MathJax._.input.tex.Symbol;
            const { MapHandler } = MathJax._.input.tex.MapHandler;
            const delimiter = MapHandler.getMap("delimiter");
            delimiter.add("\\lBrack", new Symbol("\\lBrack", "\u27E6"));
            delimiter.add("\\rBrack", new Symbol("\\rBrack", "\u27E7"));
            delimiter.add("\\lAngle", new Symbol("\\lAngle", "\u27EA"));
            delimiter.add("\\rAngle", new Symbol("\\rAngle", "\u27EB"));
            delimiter.add("\\lbrbrak", new Symbol("\\lbrbrak", "\u2772"));
            delimiter.add("\\rbrbrak", new Symbol("\\rbrbrak", "\u2773"));
            delimiter.add("\\lbag", new Symbol("\\lbag", "\u27C5"));
            delimiter.add("\\rbag", new Symbol("\\rbag", "\u27C6"));
            delimiter.add(
              "\\llparenthesis",
              new Symbol("\\llparenthesis", "\u2987")
            );
            delimiter.add(
              "\\rrparenthesis",
              new Symbol("\\rrparenthesis", "\u2988")
            );
            delimiter.add("\\llangle", new Symbol("\\llangle", "\u2989"));
            delimiter.add("\\rrangle", new Symbol("\\rrangle", "\u298A"));
            delimiter.add("\\Lbrbrak", new Symbol("\\Lbrbrak", "\u27EC"));
            delimiter.add("\\Rbrbrak", new Symbol("\\Rbrbrak", "\u27ED"));
            delimiter.add("\\lBrace", new Symbol("\\lBrace", "\u2983"));
            delimiter.add("\\rBrace", new Symbol("\\rBrace", "\u2984"));
            delimiter.add("\\lParen", new Symbol("\\lParen", "\u2985"));
            delimiter.add("\\rParen", new Symbol("\\rParen", "\u2986"));
            delimiter.add("\\lbrackubar", new Symbol("\\lbrackubar", "\u298B"));
            delimiter.add("\\rbrackubar", new Symbol("\\rbrackubar", "\u298C"));
            delimiter.add(
              "\\lbrackultick",
              new Symbol("\\lbrackultick", "\u298D")
            );
            delimiter.add(
              "\\rbracklrtick",
              new Symbol("\\rbracklrtick", "\u298E")
            );
            delimiter.add(
              "\\lbracklltick",
              new Symbol("\\lbracklltick", "\u298F")
            );
            delimiter.add(
              "\\rbrackurtick",
              new Symbol("\\rbrackurtick", "\u2990")
            );
            delimiter.add("\\langledot", new Symbol("\\langledot", "\u2991"));
            delimiter.add("\\rangledot", new Symbol("\\rangledot", "\u2992"));
            delimiter.add("\\lparenless", new Symbol("\\lparenless", "\u2993"));
            delimiter.add("\\rparengtr", new Symbol("\\rparengtr", "\u2994"));
            delimiter.add("\\Lparengtr", new Symbol("\\Lparengtr", "\u2995"));
            delimiter.add("\\Rparenless", new Symbol("\\Rparenless", "\u2996"));
            delimiter.add("\\lblkbrbrak", new Symbol("\\lblkbrbrak", "\u2997"));
            delimiter.add("\\rblkbrbrak", new Symbol("\\rblkbrbrak", "\u2998"));
            delimiter.add("\\lvzigzag", new Symbol("\\lvzigzag", "\u29D8"));
            delimiter.add("\\rvzigzag", new Symbol("\\rvzigzag", "\u29D9"));
            delimiter.add("\\Lvzigzag", new Symbol("\\Lvzigzag", "\u29DA"));
            delimiter.add("\\Rvzigzag", new Symbol("\\Rvzigzag", "\u29DB"));
            delimiter.add(
              "\\lcurvyangle",
              new Symbol("\\lcurvyangle", "\u29FC")
            );
            delimiter.add(
              "\\rcurvyangle",
              new Symbol("\\rcurvyangle", "\u29FD")
            );
            delimiter.add("\\Vvert", new Symbol("\\Vvert", "\u2980"));
          }, // ready
        }, // startup

        tex: {
          packages: { "[+]": ["tagformat", "Lwarp-macros", "textmacros"] },
          tags: "ams",
          tagformat: {
            number: function (n) {
              if (MathJax.config.subequations == 0)
                return MathJax.config.section + n;
              else return MathJax.config.section + String.fromCharCode(96 + n);
            },
          },
        },
      };
    </script>

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js"></script>

    <link href="https://unpkg.com/@docsearch/css@alpha" rel="stylesheet" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
    <meta
      content="When creating pictures, one often faces the problem of correctly aligning parts of the picture. Matrices are a powerful tool for this purpose."
      name="description"
    />
  </head>
  <body>
    <a id="pgfmanual-autopage-3775"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <strong><a href="/">PGF/Ti<i>k</i>Z Manual</a></strong>
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p><a class="tocsubsection" href="#sec-20.1">Overview</a></p>
            <p>
              <a class="tocsubsection" href="#sec-20.2">Matrices are Nodes</a>
            </p>
            <p><a class="tocsubsection" href="#sec-20.3">Cell Pictures</a></p>
            <p>
              <a class="tocsubsubsection" href="#sec-20.3.1"
                >Alignment of Cell Pictures</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-20.3.2"
                >Setting and Adjusting Column and Row Spacing</a
              >
            </p>
            <p>
              <a class="tocsubsubsection" href="#sec-20.3.3"
                >Cell Styles and Options</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-20.4">Anchoring a Matrix</a>
            </p>
            <p>
              <a class="tocsubsection" href="#sec-20.5"
                >Considerations Concerning Active Characters</a
              >
            </p>
            <p><a class="tocsubsection" href="#sec-20.6">Examples</a></p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.9a</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p class="current-part">
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-design">Design Principles</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-scopes"
                >Hierarchical Structures: Package, Environments, Scopes, and
                Styles</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-coordinates"
                >Specifying Coordinates</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-paths"
                >Syntax for Path Specifications</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-actions">Actions on Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-arrows">Arrows</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-shapes">Nodes and Edges</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-pics"
                >Pics: Small Pictures on Paths</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-graphs">Specifying Graphs</a>
            </p>

            <p class="current current-part">
              <a class="tocsection" href="tikz-matrices"
                >Matrices and Alignment</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-trees">Making Trees Grow</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-plots">Plots of Functions</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-transparency">Transparency</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-decorations">Decorated Paths</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-transformations"
                >Transformations</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="tikz-animations">Animations</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p>
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p>
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.9a
          </h1>
          <h2 class="inserted">TikZ</h2>

          <!--MathJax customizations:-->

          <div class="hidden">
            \(\newcommand{\footnotename}{footnote}\) \(\def \LWRfootnote {1}\)
            \(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)
            \(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm
            {#1}}}\) \(\let \LWRorighspace \hspace \) \(\renewcommand {\hspace
            }{\ifstar \LWRorighspace \LWRorighspace }\) \(\newcommand
            {\mathnormal }[1]{{#1}}\) \(\newcommand \ensuremath [1]{#1}\)
            \(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand
            {\framebox }[1][]{\LWRframebox } \) \(\newcommand {\setlength
            }[2]{}\) \(\newcommand {\addtolength }[2]{}\) \(\newcommand
            {\setcounter }[2]{}\) \(\newcommand {\addtocounter }[2]{}\)
            \(\newcommand {\arabic }[1]{}\) \(\newcommand {\number }[1]{}\)
            \(\newcommand {\noalign }[1]{\text {#1}\notag \\}\) \(\newcommand
            {\cline }[1]{}\) \(\newcommand {\directlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\luatexdirectlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\protect }{}\) \(\def
            \LWRabsorbnumber #1 {}\) \(\def \LWRabsorbquotenumber "#1 {}\)
            \(\newcommand {\LWRabsorboption }[1][]{}\) \(\newcommand
            {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\) \(\def \mathchar
            {\ifnextchar "\LWRabsorbquotenumber \LWRabsorbnumber }\) \(\def
            \mathcode #1={\mathchar }\) \(\let \delcode \mathcode \) \(\let
            \delimiter \mathchar \) \(\def \oe {\unicode {x0153}}\) \(\def \OE
            {\unicode {x0152}}\) \(\def \ae {\unicode {x00E6}}\) \(\def \AE
            {\unicode {x00C6}}\) \(\def \aa {\unicode {x00E5}}\) \(\def \AA
            {\unicode {x00C5}}\) \(\def \o {\unicode {x00F8}}\) \(\def \O
            {\unicode {x00D8}}\) \(\def \l {\unicode {x0142}}\) \(\def \L
            {\unicode {x0141}}\) \(\def \ss {\unicode {x00DF}}\) \(\def \SS
            {\unicode {x1E9E}}\) \(\def \dag {\unicode {x2020}}\) \(\def \ddag
            {\unicode {x2021}}\) \(\def \P {\unicode {x00B6}}\) \(\def
            \copyright {\unicode {x00A9}}\) \(\def \pounds {\unicode {x00A3}}\)
            \(\let \LWRref \ref \) \(\renewcommand {\ref }{\ifstar \LWRref
            \LWRref }\) \( \newcommand {\multicolumn }[3]{#3}\) \(\require
            {textcomp}\) \( \newcommand {\meta }[1]{\langle \textit {#1}\rangle
            } \) \(\newcommand {\intertext }[1]{\text {#1}\notag \\}\) \(\let
            \Hat \hat \) \(\let \Check \check \) \(\let \Tilde \tilde \) \(\let
            \Acute \acute \) \(\let \Grave \grave \) \(\let \Dot \dot \) \(\let
            \Ddot \ddot \) \(\let \Breve \breve \) \(\let \Bar \bar \) \(\let
            \Vec \vec \)
          </div>

          <p></p>
          <h4 id="autosec-3776">
            <a id="section-matrices"></a
            ><span class="sectionnumber">20&emsp;</span>Matrices and Alignment
          </h4>
          <a id="pgfmanual-autopage-3776"></a>
          <a id="pgfmanual-autofile-23"></a>
          <h5 id="autosec-3777">
            <span class="sectionnumber" id="sec-20.1">20.1&emsp;</span
            >Overview<a class="anchor-link" href="#sec-20.1">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-3777"></a>

          <p>
            When creating pictures, one often faces the problem of correctly
            aligning parts of the picture. For example, you might wish that the
            <span class="texttt">baseline</span>s of certain nodes should be on
            the same line and some further nodes should be below these nodes
            with, say, their centers on a vertical lines. There are different
            ways of solving such problems. For example, by making clever use of
            anchors, nearly all such alignment problems can be solved. However,
            this often leads to complicated code. An often simpler way is to use
            <em>matrices</em>, the use of which is explained in the current
            section.
          </p>

          <p>
            A <span class="tikzname">TikZ</span> matrix is similar to
            <span class="latexlogofont"
              ><span class="latexlogo"
                >L<span class="latexlogosup">a</span>T<span class="latexlogosub"
                  >e</span
                >X</span
              ></span
            >&rsquo;s <span class="texttt">{tabular}</span> or
            <span class="texttt">{array}</span> environment, only instead of
            text each cell contains a little picture or a node. The sizes of the
            cells are automatically adjusted such that they are large enough to
            contain all the cell contents.
          </p>

          <p>
            Matrices are a powerful tool and they need to be handled with some
            care. For impatient readers who skip the rest of this section: you
            <em>must</em> end <em>every</em> row with
            <span class="texttt">\\</span>. In particular, the last row
            <em>must</em> be ended with <span class="texttt">\\</span>.
          </p>

          <p>
            Many of the ideas implemented in
            <span class="tikzname">TikZ</span>&rsquo;s matrix support are due to
            Mark Wibrow &ndash; many thanks to Mark at this point!
          </p>
          <h5 id="autosec-3778">
            <span class="sectionnumber" id="sec-20.2">20.2&emsp;</span>Matrices
            are Nodes<a class="anchor-link" href="#sec-20.2">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-3778"></a>

          <p>
            Matrices are special in many ways, but for most purposes matrices
            are treated like nodes. This means, that you use the
            <span class="texttt">node</span> path command to create a matrix and
            you only use a special option, namely the
            <span class="texttt">matrix</span> option, to signal that the node
            will contain a matrix. Instead of the usual
            <span class="latexlogofont"
              ><span class="latexlogo"
                >T<span class="latexlogosub">e</span>X</span
              ></span
            >-box that makes up the <span class="texttt">text</span> part of the
            node&rsquo;s shape, the matrix is used. Thus, in particular, a
            matrix can have a shape, this shape can be drawn or filled, it can
            be used in a tree, and so on. Also, you can refer to the different
            anchors of a matrix.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix"></a><a id="pgf.matrix"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix</span
                      ></span
                    ><span class="textcolor" style="color: #008000"
                      >=</span
                    ></kbd
                  ><span class="textcolor" style="color: #008000"
                    ><span class="angle">&langle;</span><i>true or false</i
                    ><span class="angle">&rangle;</span>
                  </span></span
                ><span class="hl-default">(default <kbd>true</kbd>)</span>
                <a class="anchor-link" href="#pgf./tikz/matrix">&para;</a>
              </p>
            </div>
            <p>
              This option can be passed to a
              <span class="texttt">node</span> path command. It signals that the
              node will contain a matrix.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1632"
                    ><!--
Hello
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="78.530"
                      loading="lazy"
                      src="pgfmanual-images/image-1632.png"
                      style
                      width="154.790"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(4,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.matrix">matrix</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.fill">fill</a></span
                  >=<span class="textcolor" style="color: #008000">red!20</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >=<span class="textcolor" style="color: #008000">blue</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(my matrix)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.at">at</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2,1)</span
                  ><br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(4mm)</span
                  >;&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-transformations#pgf.rotate">rotate</a></span
                  >=<span class="textcolor" style="color: #008000">10</span
                  >]&numsp;{<span class="textcolor" style="color: #000000"
                    >Hello</span
                  >};&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0.2,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2mm)</span
                  >;&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3mm)</span
                  >;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  <br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.very:thick">very thick</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    >|-</span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(my matrix.west)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              The exact syntax of the matrix is explained in the course of this
              section.
            </p>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/every:matrix"></a
                  ><a id="pgf.every:matrix"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/every matrix</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default"
                    >(style, initially <kbd>empty</kbd>)</span
                  >
                  <a class="anchor-link" href="#pgf./tikz/every:matrix"
                    >&para;</a
                  >
                </p>
              </div>
              <p>This style is used in every matrix.</p>
            </div>

            <div class="manualentry">
              <div class="entryheadline">
                <p>
                  <a id="pgf./tikz/every:outer:matrix"></a
                  ><a id="pgf.every:outer:matrix"></a>
                  <span class="hl-def"
                    ><kbd
                      ><span class="keyname"
                        ><span class="textcolor" style="color: #bf0000"
                          >/tikz/every outer matrix</span
                        ></span
                      ></kbd
                    ></span
                  ><span class="hl-default"
                    >(style, initially <kbd>empty</kbd>)</span
                  >
                  <a class="anchor-link" href="#pgf./tikz/every:outer:matrix"
                    >&para;</a
                  >
                </p>
              </div>
              <p>
                While the <span class="texttt">every matrix</span> key also
                applies to the matrix contents, this only applies to the outer
                node which holds the matrix.
              </p>
            </div>
          </div>

          <p>
            Even more so than nodes, matrices will often be the only object on a
            path. Because of this, there is a special abbreviation for creating
            matrices:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/matrix"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\matrix</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/matrix">&para;</a>
              </p>
            </div>
            <p>
              Inside <span class="texttt">{tikzpicture}</span> this is an
              abbreviation for <span class="texttt">\path node[matrix]</span>.
            </p>
          </div>

          <p>
            Even though matrices are nodes, some options do not have the same
            effect as for normal nodes:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. Rotations and scaling have no effect on a matrix as a whole
                (however, you can still transform the contents of the cells
                normally). Before the matrix is typeset, the rotational and
                scaling part of the transformation matrix is reset.
              </p>
            </li>
            <li>
              <p>
                2. For multi-part shapes you can only set the
                <span class="texttt">text</span> part of the node.
              </p>
            </li>
            <li>
              <p>
                3. All options starting with
                <span class="texttt">text</span> such as
                <span class="texttt">text width</span> have no effect.
              </p>
            </li>
            <li>
              <p>
                4. If you place a matrix on a path, the matrix contents will be
                collected into a macro, which tokenizes them. This means that
                <span class="texttt">&amp;</span> will lose its meaning as an
                alignment character, resulting in an error. If you need to place
                a matrix on a path, use
                <span class="texttt">ampersand replacement</span> to work around
                that problem.
              </p>
            </li>
          </ul>
          <h5 id="autosec-3781">
            <a id="section-tikz-cell-pictures"></a
            ><span class="sectionnumber" id="sec-20.3">20.3&emsp;</span>Cell
            Pictures<a class="anchor-link" href="#sec-20.3">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-3781"></a>

          <p>
            A matrix consists of rows of <em>cells</em>. Each row (including the
            last one!) is ended by the command <span class="texttt">\\</span>.
            The character <span class="texttt">&amp;</span> is used to separate
            cells. Inside each cell, you must place commands for drawing a
            picture, called the <em>cell picture</em> in the following.
            (However, cell pictures are not enclosed in a complete
            <span class="texttt">{pgfpicture}</span> environment, they are a bit
            more light-weight. The main difference is that cell pictures cannot
            have layers.) It is not necessary to specify beforehand how many
            rows or columns there are going to be and if a row contains less
            cell pictures than another line, empty cells are automatically added
            as needed.
          </p>
          <h6 id="autosec-3782">
            <span class="sectionnumber" id="sec-20.3.1">20.3.1&emsp;</span
            >Alignment of Cell Pictures<a class="anchor-link" href="#sec-20.3.1"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-3782"></a>

          <p>
            For each cell picture a bounding box is computed. These bounding
            boxes and the origins of the cell pictures determine how the cells
            are aligned. Let us start with the rows: Consider the cell pictures
            on the first row. Each has a bounding box and somewhere inside this
            bounding box the origin of the cell picture can be found (the origin
            might even lie outside the bounding box, but let us ignore this
            problem for the moment). The cell pictures are then shifted around
            such that all origins lie on the same horizontal line. This may make
            it necessary to shift some cell pictures upwards and others
            downwards, but it can be done and this yields the vertical alignment
            of the cell pictures this row. The top of the row is then given by
            the top of the &ldquo;highest&rdquo; cell picture in the row, the
            bottom of the row is given by the bottom of the lowest cell picture.
            (To be more precise, the height of the row is the maximum
            \(y\)-value of any of the bounding boxes and the depth of the row is
            the negated minimum \(y\)-value of the bounding boxes).
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1633"
                  ><!--
aXg
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="45.876"
                    loading="lazy"
                    src="pgfmanual-images/image-1633.png"
                    style
                    width="94.209"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:node">every node</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-animations#pgf.base">base</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2">\huge</span
                  >}</span
                >]<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">a</span
                >};&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">X</span
                >};&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">g</span
                >};&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Each row is aligned in this fashion: For each row the cell pictures
            are vertically aligned such that the origins lie on the same line.
            Then the second row is placed below the first row such that the
            bottom of the first row touches the top of the second row (unless a
            <span class="texttt">row sep</span> is used to add a bit of space).
            Then the bottom of the second row touches the top of the third row,
            and so on. Typically, each row will have an individual height and
            depth.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1634"
                  ><!--
a X g
a X g


a X g

a X g
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="129.982"
                    loading="lazy"
                    src="pgfmanual-images/image-1634.png"
                    style
                    width="66.818"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:node">every node</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">black</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-animations#pgf.base">base</a>}</span
                >]<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">a</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">X</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">g</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">a</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">X</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">g</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">3mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red</span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.at">at</a></span
                >
                <span class="textcolor" style="color: #800080">(0,-2)</span
                ><br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">a</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">X</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">g</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">a</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">X</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">g</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            Let us now have a look at the columns. The rules for how the
            pictures on any given column are aligned are very similar to the row
            alignment: Consider all cell pictures in the first column. Each is
            shifted horizontally such that the origins lie on the same vertical
            line. Then, the left end of the column is at the left end of the
            bounding box that protrudes furthest to the left. The right end of
            the column is at the right end of the bounding box that protrudes
            furthest to the right. This fixes the horizontal alignment of the
            cell pictures in the first column and the same happens the cell
            pictures in the other columns. Then, the right end of the first
            column touches the left end of the second column (unless
            <span class="texttt">column sep</span> is used). The right end of
            the second column touches the left end of the third column, and so
            on. (Internally, two columns are actually used to achieve the
            desired horizontal alignment, but that is only an implementation
            detail.)
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1635"
                  ><!--
Hallo
     X
      g
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="67.336"
                    loading="lazy"
                    src="pgfmanual-images/image-1635.png"
                    style
                    width="73.957"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:node">every node</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >}]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.left">left</a></span
                >]&numsp;&numsp;{<span class="textcolor" style="color: #000000"
                  >Hallo</span
                >};&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >X</span
                >};&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000">g</span
                >};&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                >[<span class="textcolor" style="color: #008000">blue</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2pt)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1636"
                  ><!--
8 1 6
3 5 7
4 9 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="67.030"
                    loading="lazy"
                    src="pgfmanual-images/image-1636.png"
                    style
                    width="138.717"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:node">every node</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >}]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">1cm</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">8</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">1</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">6</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">3</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">5</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">7</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">4</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">9</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">2</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-3791">
            <span class="sectionnumber" id="sec-20.3.2">20.3.2&emsp;</span
            >Setting and Adjusting Column and Row Spacing<a
              class="anchor-link"
              href="#sec-20.3.2"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-3791"></a>

          <p>
            There are different ways of setting and adjusting the spacing
            between columns and rows. First, you can use the options
            <span class="texttt">column sep</span> and
            <span class="texttt">row sep</span> to set a default spacing for all
            rows and all columns. Second, you can add options to the
            <span class="texttt">&amp;</span> character and the
            <span class="texttt">\\</span> command to adjust the spacing between
            two specific columns or rows. Additionally, you can specify whether
            the space between two columns or rows should be considered between
            the origins of cells in the column or row or between their borders.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/column:sep"></a><a id="pgf.column:sep"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/column sep</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>spacing list</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/column:sep">&para;</a>
              </p>
            </div>
            <p>
              This option sets a default space that is added between every two
              columns. This space can be positive or negative and is zero by
              default. The <span class="angle">&langle;</span><i>spacing list</i
              ><span class="angle">&rangle;</span> normally contains a single
              dimension like <span class="texttt">2pt</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1637"
                    ><!--
      1cm
123 1 1
12 12 1
 1 123 1
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="66.605"
                      loading="lazy"
                      src="pgfmanual-images/image-1637.png"
                      style
                      width="169.269"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                  >=<span class="textcolor" style="color: #008000">1cm</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >]<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  ><span class="textcolor" style="color: #800080">(a)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(b)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  ><span class="textcolor" style="color: #800080">(c)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(d)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    >red</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;&numsp;<span class="textcolor" style="color: #800080"
                    >(a.east)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(a.east |- c)</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(d.west)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(d.west |- b)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                  >,<span class="textcolor" style="color: #008000">red</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(a.east)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(d.west |- b)</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="tikz-coordinates#pgf.node">node</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.above">above</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.midway">midway</a></span
                  >]&numsp;{<span class="textcolor" style="color: #000000"
                    >1cm</span
                  >};<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
            <p>
              More generally, the <span class="angle">&langle;</span
              ><i>spacing list</i><span class="angle">&rangle;</span> may
              contain a whole list of numbers, separated by commas, and
              occurrences of the two key words
              <span class="texttt">between origins</span> and
              <span class="texttt">between borders</span>. The effect of
              specifying such a list is the following: First, all numbers
              occurring in the list are simply added to compute the final
              spacing. Second, concerning the two keywords, the last occurrence
              of one of the keywords is important. If the last occurrence is
              <span class="texttt">between borders</span> or if neither occurs,
              then the space is inserted between the two columns normally.
              However, if the last occurs is
              <span class="texttt">between origins</span>, then the following
              happens: The distance between the columns is adjusted such that
              the difference between the origins of all the cells in the first
              column (remember that they all lie on straight line) and the
              origins of all the cells in the second column is exactly the given
              distance.
            </p>
            <p>
              <em>The </em><span class="texttt">between origins</span
              ><em>
                option can only be used for columns mentioned in the first row,
                that is, you cannot specify this option for columns introduced
                only in later rows.</em
              >
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1638"
                    ><!--
   1cm
123 1 1
12 12 1
 1 123 1
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="66.605"
                      loading="lazy"
                      src="pgfmanual-images/image-1638.png"
                      style
                      width="112.306"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >{1cm,between origins}</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >]<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  ><span class="textcolor" style="color: #800080">(a)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(b)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                  >,<span class="textcolor" style="color: #008000">red</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(a.center)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(b.center)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-coordinates#pgf.node">node</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.above">above</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.midway">midway</a></span
                  >]&numsp;{<span class="textcolor" style="color: #000000"
                    >1cm</span
                  >};<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/row:sep"></a><a id="pgf.row:sep"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/row sep</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>spacing list</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/row:sep">&para;</a>
              </p>
            </div>
            <p>
              This option works like <span class="texttt">column sep</span>,
              only for rows. Here, too, you can specify whether the space is
              added between the lower end of the first row and the upper end of
              the second row, or whether the space is computed between the
              origins of the two rows.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1639"
                    ><!--
123 1 1

    1cm

12 12 1



1 123 1
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="142.197"
                      loading="lazy"
                      src="pgfmanual-images/image-1639.png"
                      style
                      width="93.678"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                  >=<span class="textcolor" style="color: #008000">1cm</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >]<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(a)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(b)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                  >,<span class="textcolor" style="color: #008000">red</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(a.south)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080">(b.north)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-coordinates#pgf.node">node</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.right">right</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.midway">midway</a></span
                  >]&numsp;{<span class="textcolor" style="color: #000000"
                    >1cm</span
                  >};<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1640"
                    ><!--
123 1 1
  1cm
12 12 1

1 123 1
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="105.877"
                      loading="lazy"
                      src="pgfmanual-images/image-1640.png"
                      style
                      width="93.678"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >{1cm,between origins}</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.draw">draw</a></span
                  >]<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(a)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(b)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >12</span
                  >};&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >1</span
                  >};&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                  >,<span class="textcolor" style="color: #008000">red</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-actions#pgf.thick">thick</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(a.center)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.--">--</a></span
                  >
                  <span class="textcolor" style="color: #800080"
                    >(b.center)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-coordinates#pgf.node">node</a></span
                  >
                  [<span class="textcolor" style="color: #008000"
                    ><a href="tikz-arrows#pgf.right">right</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.midway">midway</a></span
                  >]&numsp;{<span class="textcolor" style="color: #000000"
                    >1cm</span
                  >};<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <p>
            The row-end command <span class="texttt">\\</span> allows you to
            provide an optional argument, which must be a dimension. This
            dimension will be added to the list in
            <span class="texttt">row sep</span>. This means that, firstly, any
            numbers you list in this argument will be added as an extra row
            separation between the line being ended and the next line and,
            secondly, you can use the keywords
            <span class="texttt">between origins</span> and
            <span class="texttt">between borders</span> to locally overrule the
            standard setting for this line pair.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1641"
                  ><!--
1cm
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="94.994"
                    loading="lazy"
                    src="pgfmanual-images/image-1641.png"
                    style
                    width="42.267"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >-1mm</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >
                <span class="textcolor" style="color: #800080">(a)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span>[<span
                  class="textcolor"
                  style="color: #008000"
                  >1cm</span
                >,<span class="textcolor" style="color: #008000"
                  >between origins</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-shapes#pgf.coordinate">coordinate</a></span
                >
                <span class="textcolor" style="color: #800080">(b)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(0,0)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.circle">circle</a></span
                >
                <span class="textcolor" style="color: #800080">(2mm)</span
                >;&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(a.center)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(b.center)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.right">right</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000"
                  >1cm</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The cell separation character <span class="texttt">&amp;</span> also
            takes an optional argument, which must also be a spacing list. This
            spacing list is added to the
            <span class="texttt">column sep</span> having a similar effect as
            the option for the <span class="texttt">\\</span> command for rows.
          </p>

          <p>
            This optional spacing list can only be given the first time a new
            column is started (usually in the first row), subsequent usages of
            this option in later rows have no effect.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1642"
                  ><!--
8 1 6
3 5 7
4 9 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="67.030"
                    loading="lazy"
                    src="pgfmanual-images/image-1642.png"
                    style
                    width="74.464"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">8</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >[<span class="textcolor" style="color: #008000">2mm</span
                >]&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">1</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >[<span class="textcolor" style="color: #008000">-1mm</span
                >]&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">6</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">3</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">5</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">7</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">4</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">9</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">2</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1643"
                  ><!--
     11mm
8 1 6
3 5 7
4 9 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="67.030"
                    loading="lazy"
                    src="pgfmanual-images/image-1643.png"
                    style
                    width="99.014"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">8</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >[<span class="textcolor" style="color: #008000">2mm</span
                >]&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                ><span class="textcolor" style="color: #800080">(a)</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >1</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >[<span class="textcolor" style="color: #008000">1cm</span
                >,<span class="textcolor" style="color: #008000"
                  >between origins</span
                >]&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                ><span class="textcolor" style="color: #800080">(b)</span>{<span
                  class="textcolor"
                  style="color: #000000"
                  >6</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">3</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >7</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">4</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >9</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >2</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(a.center)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(b.center)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above">above</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000"
                  >11mm</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1644"
                  ><!--
10mm 10mm
8 1 6
3 5 7
4 9 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="67.030"
                    loading="lazy"
                    src="pgfmanual-images/image-1644.png"
                    style
                    width="121.693"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{1cm,between origins}</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(a)</span
                >&numsp;{<span class="textcolor" style="color: #000000">8</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(b)</span
                >&numsp;{<span class="textcolor" style="color: #000000">1</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >[<span class="textcolor" style="color: #008000"
                  >between borders</span
                >]&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(c)</span
                >&numsp;{<span class="textcolor" style="color: #000000">6</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >3</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >5</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >7</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >4</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >9</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >2</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(a.center)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(b.center)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above">above</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000"
                  >10mm</span
                >};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.&lt;-&gt;">&lt;-&gt;</a></span
                >,<span class="textcolor" style="color: #008000">red</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(b.east)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(c.west)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.above">above</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000"
                  >10mm</span
                >};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
          <h6 id="autosec-3808">
            <span class="sectionnumber" id="sec-20.3.3">20.3.3&emsp;</span>Cell
            Styles and Options<a class="anchor-link" href="#sec-20.3.3"
              >&para;</a
            >
          </h6>
          <a id="pgfmanual-autopage-3808"></a>

          <p>
            The following styles and options are useful for changing the
            appearance of all cell pictures:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/every:cell"></a><a id="pgf.every:cell"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/every cell</span
                      ></span
                    >=</kbd
                  >{<span class="angle">&langle;</span><i>row</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>column</i><span class="angle">&rangle;</span>} </span
                ><span class="hl-default"
                  >(style, no default, initially <kbd>empty</kbd>)</span
                >
                <a class="anchor-link" href="#pgf./tikz/every:cell">&para;</a>
              </p>
            </div>
            <p>
              This style is installed at the beginning of each cell picture with
              the two parameters being the current
              <span class="angle">&langle;</span><i>row</i
              ><span class="angle">&rangle;</span> and
              <span class="angle">&langle;</span><i>column</i
              ><span class="angle">&rangle;</span> of the cell. Note that
              setting this style to <span class="texttt">draw</span> will
              <em>not</em> cause all nodes to be drawn since the
              <span class="texttt">draw</span> option has to be passed to each
              node individually.
            </p>
            <p>
              Inside this style (and inside all cells), the current
              <span class="angle">&langle;</span><i>row</i
              ><span class="angle">&rangle;</span> and
              <span class="angle">&langle;</span><i>column</i
              ><span class="angle">&rangle;</span> number are also accessible
              via the counters
              <span class="texttt">\pgfmatrixcurrentrow</span> and
              <span class="texttt">\pgfmatrixcurrentcolumn</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/cells"></a><a id="pgf.cells"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/cells</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>options</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/cells">&para;</a>
              </p>
            </div>
            <p>
              This key adds the <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> to the style
              <span class="texttt">every cell</span>. It is mainly just a
              shorthand for the code
              <span class="texttt">every cell/.append style=</span
              ><span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/nodes"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/nodes</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>options</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/nodes">&para;</a>
              </p>
            </div>
            <p>
              This key adds the <span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span> to the style
              <span class="texttt">every node</span>. It is mainly just a
              shorthand for the code
              <span class="texttt">every node/.append style=</span
              ><span class="angle">&langle;</span><i>options</i
              ><span class="angle">&rangle;</span>.
            </p>
            <p>
              The main use of this option is the install some options for the
              nodes <em>inside</em> the matrix that should not apply to the
              matrix <em>itself</em>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1645"
                    ><!--
8 1 6
3 5 7
4 9 2
   -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="59.379"
                      loading="lazy"
                      src="pgfmanual-images/image-1645.png"
                      style
                      width="59.384"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                  >=<span class="textcolor" style="color: #008000"
                    >{fill=blue!20,minimum size=5mm}</span
                  >]<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >8</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >{<span class="textcolor" style="color: #000000">1</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >6</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >3</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >{<span class="textcolor" style="color: #000000">5</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >7</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >4</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >{<span class="textcolor" style="color: #000000">9</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >2</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <p>
            The next set of styles can be used to change the appearance of
            certain rows, columns, or cells. If more than one of these styles is
            defined, they are executed in the below order (the
            <span class="texttt">every cell</span> style is executed before all
            of the below).
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/column:meta(number)"></a
                ><a id="pgf.column:meta(number)"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/column <span class="angle">&langle;</span
                        ><i>number</i><span class="angle">&rangle;</span></span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/column:meta(number)"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This style is used for every cell in column
              <span class="angle">&langle;</span><i>number</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/every:odd:column"></a
                ><a id="pgf.every:odd:column"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/every odd column</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/every:odd:column"
                  >&para;</a
                >
              </p>
            </div>
            <p>This style is used for every cell in an odd column.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/every:even:column"></a
                ><a id="pgf.every:even:column"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/every even column</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/every:even:column"
                  >&para;</a
                >
              </p>
            </div>
            <p>This style is used for every cell in an even column.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/row:meta(number)"></a
                ><a id="pgf.row:meta(number)"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/row <span class="angle">&langle;</span
                        ><i>number</i><span class="angle">&rangle;</span></span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/row:meta(number)"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This style is used for every cell in row
              <span class="angle">&langle;</span><i>number</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/every:odd:row"></a
                ><a id="pgf.every:odd:row"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/every odd row</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/every:odd:row"
                  >&para;</a
                >
              </p>
            </div>
            <p>This style is used for every cell in an odd row.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/every:even:row"></a
                ><a id="pgf.every:even:row"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/every even row</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/every:even:row"
                  >&para;</a
                >
              </p>
            </div>
            <p>This style is used for every cell in an even row.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a
                  id="pgf./tikz/row:meta(row:number):column:meta(column:number)"
                ></a
                ><a
                  id="pgf.row:meta(row:number):column:meta(column:number)"
                ></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/row <span class="angle">&langle;</span
                        ><i>row number</i
                        ><span class="angle">&rangle;</span> column
                        <span class="angle">&langle;</span><i>column number</i
                        ><span class="angle">&rangle;</span></span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a
                  class="anchor-link"
                  href="#pgf./tikz/row:meta(row:number):column:meta(column:number)"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This style is used for the cell in row
              <span class="angle">&langle;</span><i>row number</i
              ><span class="angle">&rangle;</span> and column
              <span class="angle">&langle;</span><i>column number</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1646"
                  ><!--
8 1 6
3 5 7
4 9 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="47.163"
                    loading="lazy"
                    src="pgfmanual-images/image-1646.png"
                    style
                    width="42.651"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  >row 1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000">red</span
                >},<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >column 2</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  >green!50!black</span
                >},<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >row 3 column 3</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000">blue</span
                >}]<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                ><br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">8</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">1</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">6</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">3</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">5</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">7</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">4</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">9</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">2</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            You can use the <span class="texttt">column </span
            ><span class="angle">&langle;</span><i>number</i
            ><span class="angle">&rangle;</span> option to change the alignment
            for different columns.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1647"
                  ><!--
123 456 789
12 45 78
1 4 7
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="47.739"
                    loading="lazy"
                    src="pgfmanual-images/image-1647.png"
                    style
                    width="87.338"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  >column 1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-animations#pgf.base">base</a> west}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >column 2</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-animations#pgf.base">base</a> east}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >column 3</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="tikz-animations#pgf.base">base</a>}</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                ><br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >123</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">456</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >789</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">12</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">45</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">78</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">1</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >{<span class="textcolor" style="color: #000000">4</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;{<span class="textcolor" style="color: #000000">7</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            In some cases, it is desirable to include some automation in each
            column/row separately. A typical example is to apply stripe-pattern
            to almost all columns with exceptions. For these type of use-cases,
            nesting these keys can open up a lot of possibilities; in the
            following example a &ldquo;feature comparison&rdquo; table is
            demonstrated. It is intentionally made rather verbose and a bit
            redundant to show how the column and row settings can be
            progressively overwritten to create certain effects.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1648"
                  ><!--
            Basic Standard Professional Enterprise
Feature A • • • •
Feature B • • • •
Feature C •
Feature D • • •
Feature E • •
                                 Popular
                                 Choice!
   -->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="154.874"
                    loading="lazy"
                    src="pgfmanual-images/image-1648.png"
                    style
                    width="424.923"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {matrix,fit} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<br />
                &numsp;&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    >\sffamily</span
                  ></span
                >,<br />
                &numsp;&numsp;<span class="textcolor" style="color: #008000"
                  >striped col</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  >column #1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.append:style"
                    >.append style</a
                  ></span
                >={<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.every:even:row"
                    >every even row</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{fill=olive!50}}}}</span
                >,<br />
                &numsp;&numsp;<span class="textcolor" style="color: #008000"
                  >head color</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style:args"
                    >.style args</a
                  ></span
                >={<span class="textcolor" style="color: #008000">#1/#2</span
                >}{<span class="textcolor" style="color: #008000"
                  >column #1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.append:style"
                    >.append style</a
                  ></span
                >={<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >row 1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.append:style"
                    >.append style</a
                  ></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{fill=#2}}}}<br /> </span
                >]<br />
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:nodes"
                    >matrix of nodes</a
                  ></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.nodes:in:empty:cells"
                    >nodes in empty cells</a
                  ></span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-shapes#pgf.text">text</a>
                  width=2cm,&numsp;align=center,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;minimum
                  height=1.5em,&numsp;anchor=center}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >striped col</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.list">.list</a></span
                >=<span class="textcolor" style="color: #008000">{1,...,5}</span
                >,&numsp;<span class="example-code-comment"
                  >% add striped col style to all cols</span
                ><br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >column 1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={&numsp;<span class="example-code-comment"
                  >% Override stripes and modify the feature column</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >row 1 column 1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{fill=none,&numsp;draw=none}}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{fill=olive,&numsp;inner ysep=0}</span
                >,<br />
                &numsp;&numsp;&numsp;},<br />
                &numsp;&numsp;&numsp;<span class="example-code-comment"
                  >% modify headers first via common styles and then specific
                  colors</span
                ><br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >row 1</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-shapes#pgf.text">text</a>
                  depth=0.2ex,&numsp;<a href="tikz-shapes#pgf.text">text</a>
                  width=2cm,&numsp;text=white}}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >head color</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.list">.list</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{2/orange,3/teal,4/cyan,5/magenta}<br />
                  &numsp;&numsp;</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(m)</span
                ><br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">Basic</span>
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">Standard</span>
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000"
                  >Professional</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">Enterprise</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >Feature</span
                >
                <span class="textcolor" style="color: #000000">A</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >Feature</span
                >
                <span class="textcolor" style="color: #000000">B</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >Feature</span
                >
                <span class="textcolor" style="color: #000000">C</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >Feature</span
                >
                <span class="textcolor" style="color: #000000">D</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >Feature</span
                >
                <span class="textcolor" style="color: #000000">E</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">$</span
                ><span class="textcolor" style="color: #0000b2">\bullet</span
                ><span class="textcolor" style="color: #000000">$</span>
                &numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="example-code-comment"
                  >% Add emphasis on selection by the use of "fit" library</span
                ><br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="library-fit#pgf.fit">fit</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<span class="textcolor" style="color: #800080"
                    >(m-1-4.north west)</span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(m-6-4.south east)</span
                  >}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.ultra:thick">ultra thick</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.inner:sep">inner sep</a></span
                >=<span class="textcolor" style="color: #008000">0</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">cyan</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.label">label</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{[<span class="textcolor" style="color: #008000">cyan</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-shapes#pgf.align">align</a></span
                  >=<span class="textcolor" style="color: #008000">center</span
                  >]270:Popular<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\Choice</span
                  >!}</span
                >]{};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The order in which these styles are applied is configurable. You can
            also install your own styles. The following styles (in fact,
            internally they are <span class="texttt">/.code</span> keys) wrap
            the styles introduced in the previous paragraph passing the correct
            argument and ensuring that they are only called for even or odd
            rows. However, it is not recommended to override these.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style/every:cell"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style/every cell</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a
                  class="anchor-link"
                  href="#pgf./tikz/matrix/inner:style/every:cell"
                  >&para;</a
                >
              </p>
            </div>
            <p>Wraps <span class="texttt">/tikz/every cell</span>.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style/column"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style/column</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a
                  class="anchor-link"
                  href="#pgf./tikz/matrix/inner:style/column"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Wraps <span class="texttt">/tikz/column </span
              ><span class="angle">&langle;</span><i>number</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style/even:odd:column"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style/even odd column</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a
                  class="anchor-link"
                  href="#pgf./tikz/matrix/inner:style/even:odd:column"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Wraps <span class="texttt">/tikz/every even column</span> and
              <span class="texttt">/tikz/every odd column</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style/row"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style/row</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/matrix/inner:style/row"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Wraps <span class="texttt">/tikz/row </span
              ><span class="angle">&langle;</span><i>number</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style/even:odd:row"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style/even odd row</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a
                  class="anchor-link"
                  href="#pgf./tikz/matrix/inner:style/even:odd:row"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Wraps <span class="texttt">/tikz/every even row</span> and
              <span class="texttt">/tikz/every odd row</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style/cell"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style/cell</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a class="anchor-link" href="#pgf./tikz/matrix/inner:style/cell"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Wraps <span class="texttt">/tikz/row </span
              ><span class="angle">&langle;</span><i>number</i
              ><span class="angle">&rangle;</span
              ><span class="texttt"> column </span
              ><span class="angle">&langle;</span><i>number</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix/inner:style:order"></a
                ><a id="pgf.inner:style:order"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix/inner style order</span
                      ></span
                    ></kbd
                  ></span
                ><span class="hl-default">(style, no value)</span>
                <a
                  class="anchor-link"
                  href="#pgf./tikz/matrix/inner:style:order"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              The order in which these styles are applied to the matrix cells is
              specified by this key. By default it is
            </p>

            <figure class="example">
              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <a href="tikz-scopes#pgf.back/tikzset">\tikzset</a>{<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf./tikz/matrix/inner:style:order"
                      >matrix/inner style order</a
                    ></span
                  >={<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    ><a href="tikz-matrices#pgf.every:cell">every cell</a></span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >column</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >even odd column</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >row</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >even odd row</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >cell</span
                  >,<br />
                  &numsp;&numsp;},<br />
                  }<br />
                </code>
              </div>
            </figure>
            <p>
              You can use this to install your own styles here, but only
              <em>names</em> of styles are permitted here. The style
              specification has to be placed outside of
              <span class="texttt">matrix/inner style order</span> and unless it
              is installed inside
              <span class="texttt">/tikz/matrix/inner style/</span>, it has to
              be fully qualified.
            </p>

            <figure class="example">
              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <a href="tikz-scopes#pgf.back/tikzset">\tikzset</a>{<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #008000"
                    >my style</span
                  >/<span class="textcolor" style="color: #0000b2"
                    ><a href="pgfkeys#pgf./handlers/.code">.code</a></span
                  >={<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    >\ifnum</span
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="base-matrices#pgf.back/pgfmatrixcurrentcolumn"
                      >\pgfmatrixcurrentcolumn</a
                    ></span
                  ><span class="textcolor" style="color: #008000"></span>=<span
                    class="textcolor"
                    style="color: #008000"
                    >2<br />
                    &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<a
                      href="tikz-scopes#pgf.back/tikzset"
                      >\tikzset</a
                    >{<span class="textcolor" style="color: #008000"
                      ><a href="tikz-shapes#pgf.font">font</a></span
                    >=<span class="textcolor" style="color: #008000"
                      ><span class="textcolor" style="color: #0000b2"
                        >\itshape</span
                      ></span
                    >}<span class="example-code-comment">%</span><br />
                    &numsp;&numsp;&numsp;&numsp;<span
                      class="textcolor"
                      style="color: #0000b2"
                      >\fi</span
                    ><br />
                    &numsp;&numsp;}</span
                  >,<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf./tikz/matrix/inner:style:order"
                      >matrix/inner style order</a
                    ></span
                  >={<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    ><a href="tikz-matrices#pgf.every:cell">every cell</a></span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >even odd column</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >even odd row</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >column</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >row</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >cell</span
                  >,<br />
                  &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #008000"
                    >/tikz/my style</span
                  >,<br />
                  &numsp;&numsp;},<br />
                  }<br />
                </code>
              </div>
            </figure>
          </div>

          <p>
            In many matrices all cell pictures have nearly the same code. For
            example, cells typically start with
            <span class="texttt">\node{</span> and end
            <span class="texttt">};</span>. The following options allow you to
            execute such code in all cells:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/execute:at:begin:cell"></a
                ><a id="pgf.execute:at:begin:cell"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/execute at begin cell</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>code</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/execute:at:begin:cell"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              The code will be executed at the beginning of each nonempty cell.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/execute:at:end:cell"></a
                ><a id="pgf.execute:at:end:cell"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/execute at end cell</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>code</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/execute:at:end:cell"
                  >&para;</a
                >
              </p>
            </div>
            <p>The code will be executed at the end of each nonempty cell.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/execute:at:empty:cell"></a
                ><a id="pgf.execute:at:empty:cell"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/execute at empty cell</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>code</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/execute:at:empty:cell"
                  >&para;</a
                >
              </p>
            </div>
            <p>The code will be executed inside each empty cell.</p>
          </div>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1649"
                  ><!--
8 1 6
3 5 7
4 9 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="47.163"
                    loading="lazy"
                    src="pgfmanual-images/image-1649.png"
                    style
                    width="42.651"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:nodes"
                    >matrix of nodes</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.execute:at:begin:cell"
                    >execute at begin cell</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  ><span class="textcolor" style="color: #0000b2"
                    >\bgroup</span
                  ></span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.execute:at:end:cell"
                    >execute at end cell</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2">\egroup</span
                  >;<span class="example-code-comment">%</span><br />
                  &numsp;&numsp;&numsp;}</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:nodes"
                    >matrix of nodes</a
                  ></span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >8</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">1</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">6</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >3</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">5</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">7</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >4</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">9</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">2</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1650"
                  ><!--
8 1 –
3 – 7
– – 2
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="47.019"
                    loading="lazy"
                    src="pgfmanual-images/image-1650.png"
                    style
                    width="43.275"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:nodes"
                    >matrix of nodes</a
                  ></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.execute:at:begin:cell"
                    >execute at begin cell</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  ><span class="textcolor" style="color: #0000b2"
                    >\bgroup</span
                  ></span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.execute:at:end:cell"
                    >execute at end cell</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2">\egroup</span
                  >;</span
                >,<span class="example-code-comment">%</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.execute:at:empty:cell"
                    >execute at empty cell</a
                  ></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >{<a href="tikz-paths#pgf.--">--</a>};<span
                    class="example-code-comment"
                    >%</span
                  ><br />
                  &numsp;&numsp;&numsp;}</span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:nodes"
                    >matrix of nodes</a
                  ></span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >8</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">1</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >3</span
                >
                <span class="textcolor" style="color: #000000">&amp;</span>
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">7</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">2</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The <span class="texttt">matrix</span> library defines a number of
            styles that make use of the above options.
          </p>
          <h5 id="autosec-3821">
            <span class="sectionnumber" id="sec-20.4">20.4&emsp;</span>Anchoring
            a Matrix<a class="anchor-link" href="#sec-20.4">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-3821"></a>

          <p>
            Since matrices are nodes, they can be anchored in the usual fashion
            using the <span class="texttt">anchor</span> option. However, there
            are two ways to influence this placement further. First, the
            following option is often useful:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/matrix:anchor"></a
                ><a id="pgf.matrix:anchor"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/matrix anchor</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>anchor</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/matrix:anchor"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This option has the same effect as
              <span class="texttt">anchor</span>, but the option applies only to
              the matrix itself, not to the cells inside. If you just say
              <span class="texttt">anchor=north</span> as an option to the
              matrix node, all nodes inside matrix will also have this anchor,
              unless it is explicitly set differently for each node. By
              comparison, <span class="texttt">matrix anchor</span> sets the
              anchor for the matrix, but for the nodes inside the value of
              <span class="texttt">anchor</span> remain unchanged.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1651"
                    ><!--
123
12
 1


123
12
1
  -->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="122.186"
                      loading="lazy"
                      src="pgfmanual-images/image-1651.png"
                      style
                      width="23.787"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.matrix:anchor"
                      >matrix anchor</a
                    ></span
                  >=<span class="textcolor" style="color: #008000">west</span
                  >]&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.at">at</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0,0)</span
                  ><br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span
                  >&numsp;<span class="example-code-comment"
                    >% still center anchor</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >12</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                  >=<span class="textcolor" style="color: #008000">west</span
                  >]&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.at">at</a></span
                  >
                  <span class="textcolor" style="color: #800080">(0,-2)</span
                  ><br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >123</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span
                  >&numsp;<span class="example-code-comment"
                    >% inherited west anchor</span
                  ><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >12</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >1</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>

          <p>
            The second way to anchor a matrix is to use
            <em>an anchor of a node inside the matrix</em>. For this, the
            <span class="texttt">anchor</span> option has a special effect when
            given as an argument to a matrix:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/anchor</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span
                  ><i>anchor or node.anchor</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
              </p>
            </div>
            <p>
              Normally, the argument of this option refers to anchor of the
              matrix node, which is the node that includes all of the stuff of
              the matrix. However, you can also provide an argument of the form
              <span class="angle">&langle;</span><i>node</i
              ><span class="angle">&rangle;</span><span class="texttt">.</span
              ><span class="angle">&langle;</span><i>anchor</i
              ><span class="angle">&rangle;</span> where
              <span class="angle">&langle;</span><i>node</i
              ><span class="angle">&rangle;</span> must be node defined inside
              the matrix and <span class="angle">&langle;</span><i>anchor</i
              ><span class="angle">&rangle;</span> is an anchor of this node. In
              this case, the whole matrix is shifted around in such a way that
              this particular anchor of this particular node lies at the
              <span class="texttt">at</span> position of the matrix. The same is
              true for <span class="texttt">matrix anchor</span>.
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1652"
                    ><!--
a b c d

a b c d

a b c d
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="84.074"
                      loading="lazy"
                      src="pgfmanual-images/image-1652.png"
                      style
                      width="116.341"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #000000">\begin</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-paths#pgf.help:lines">help lines</a></span
                  >]&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.grid">grid</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3,2)</span
                  >;<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.matrix:anchor"
                      >matrix anchor</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    >inner
                    <a href="tikz-coordinates#pgf.node">node</a>.south</span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-coordinates#pgf.anchor">anchor</a></span
                  >=<span class="textcolor" style="color: #008000"
                    ><a href="tikz-animations#pgf.base">base</a></span
                  >,<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                  >=<span class="textcolor" style="color: #008000">3mm</span
                  >]&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.at">at</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1,1)</span
                  ><br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >a</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >b</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >c</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >d</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >a</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  ><span class="textcolor" style="color: #800080"
                    >(inner node)</span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >b</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >c</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >d</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >a</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                    class="textcolor"
                    style="color: #000000"
                    >b</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >c</span
                  >};&numsp;<span class="textcolor" style="color: #000000"
                    >&amp;</span
                  >
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >&numsp;{<span class="textcolor" style="color: #000000"
                    >d</span
                  >};&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(inner node.south)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(1pt)</span
                  >;<br />
                  <span class="textcolor" style="color: #000000">\end</span
                  >{<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                  >}<br />
                </code>
              </div>
            </figure>
          </div>
          <h5 id="autosec-3826">
            <span class="sectionnumber" id="sec-20.5">20.5&emsp;</span
            >Considerations Concerning Active Characters<a
              class="anchor-link"
              href="#sec-20.5"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-3826"></a>

          <p>
            Even though <span class="tikzname">TikZ</span> seems to use
            <span class="texttt">&amp;</span> to separate cells,
            <span class="textsc">pgf</span> actually uses a different command to
            separate cells, namely the command
            <span class="texttt">\pgfmatrixnextcell</span> and using a normal
            <span class="texttt">&amp;</span> character will normally fail. What
            happens is that, <span class="tikzname">TikZ</span> makes
            <span class="texttt">&amp;</span> an active character and then
            defines this character to be equal to
            <span class="texttt">\pgfmatrixnextcell</span>. In most situations
            this will work nicely, but sometimes
            <span class="texttt">&amp;</span> cannot be made active; for
            instance because the matrix is used in an argument of some macro or
            the matrix contains nodes that contain normal
            <span class="texttt">{tabular}</span> environments. In this case you
            can use the following option to avoid having to type
            <span class="texttt">\pgfmatrixnextcell</span> each time:
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf./tikz/ampersand:replacement"></a
                ><a id="pgf.ampersand:replacement"></a>
                <span class="hl-def"
                  ><kbd
                    ><span class="keyname"
                      ><span class="textcolor" style="color: #bf0000"
                        >/tikz/ampersand replacement</span
                      ></span
                    >=</kbd
                  ><span class="angle">&langle;</span><i>macro name or empty</i
                  ><span class="angle">&rangle;</span></span
                ><span class="hl-default">(no default)</span>
                <a class="anchor-link" href="#pgf./tikz/ampersand:replacement"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              If a macro name is provided, this macro will be defined to be
              equal to <span class="texttt">\pgfmatrixnextcell</span> inside
              matrices and <span class="texttt">&amp;</span> will not be made
              active. For instance, you could say
              <span class="texttt">ampersand replacement=\&amp;</span> and then
              use <span class="texttt">\&amp;</span> to separate columns as in
              the following example:
            </p>

            <figure class="example">
              <div class="example-image">
                <p>
                  <span class="lateximagesource" id="lateximage-pgfmanual-1653"
                    ><!--
Hello
-->
                    <img
                      alt="(-tikz-&nbsp;diagram)"
                      class="lateximage"
                      height="56.139"
                      loading="lazy"
                      src="pgfmanual-images/image-1653.png"
                      style
                      width="73.804"
                  /></span>
                </p>
              </div>

              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-scopes#pgf.back/tikz">\tikz</a></span
                  ><br />
                  &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                  >&numsp;[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-matrices#pgf.ampersand:replacement"
                      >ampersand replacement</a
                    ></span
                  >=<span class="textcolor" style="color: #008000"
                    ><span class="textcolor" style="color: #0000b2">\</span
                    >&amp;</span
                  >]<br />
                  &numsp;&numsp;{<br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0,0)</span
                  >&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(4mm)</span
                  >;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #000000">&amp;</span>
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-shapes#pgf.back/node">\node</a></span
                  >[<span class="textcolor" style="color: #008000"
                    ><a href="tikz-transformations#pgf.rotate">rotate</a></span
                  >=<span class="textcolor" style="color: #008000">10</span
                  >]&numsp;{<span class="textcolor" style="color: #000000"
                    >Hello</span
                  >};&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                  >&numsp;<span class="textcolor" style="color: #800080"
                    >(0.2,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(2mm)</span
                  >;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #000000">&amp;</span>
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="tikz-actions#pgf.back/fill">\fill</a></span
                  >[<span class="textcolor" style="color: #008000">red</span
                  >]&numsp;&numsp;&numsp;<span
                    class="textcolor"
                    style="color: #800080"
                    >(0,0)</span
                  >&numsp;<span class="textcolor" style="color: #000000"
                    ><a href="tikz-paths#pgf.circle">circle</a></span
                  >
                  <span class="textcolor" style="color: #800080">(3mm)</span
                  >;&numsp;<span class="textcolor" style="color: #0000b2"
                    >\</span
                  ><span class="textcolor" style="color: #0000b2">\</span><br />
                  &numsp;&numsp;};<br />
                </code>
              </div>
            </figure>
          </div>
          <h5 id="autosec-3829">
            <span class="sectionnumber" id="sec-20.6">20.6&emsp;</span
            >Examples<a class="anchor-link" href="#sec-20.6">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-3829"></a>

          <p>
            The following examples are adapted from code by Mark Wibrow. The
            first two redraw pictures from Timothy van Zandt&rsquo;s PStricks
            documentation:
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1654"
                  ><!--
U
              x
    y

        X ×Z Y p X
         q f


          Y g Z
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="131.210"
                    loading="lazy"
                    src="pgfmanual-images/image-1654.png"
                    style
                    width="131.618"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {matrix} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:math:nodes"
                    >matrix of math nodes</a
                  ></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">1cm</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                ><span class="textcolor" style="color: #800080">(U)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">U</span>
                <span class="textcolor" style="color: #000000">&amp;</span
                >[<span class="textcolor" style="color: #008000">2mm</span
                >]&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >[<span class="textcolor" style="color: #008000">8mm</span
                >]&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                ><span class="textcolor" style="color: #800080">(XZY)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">X</span>
                <span class="textcolor" style="color: #0000b2">\times</span
                ><span class="textcolor" style="color: #000000">_Z</span>
                <span class="textcolor" style="color: #000000">Y</span>
                &numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                ><span class="textcolor" style="color: #800080">(X)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">X</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                ><span class="textcolor" style="color: #800080">(Y)</span
                ><span class="textcolor" style="color: #000000">|</span>
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >Y</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                ><span class="textcolor" style="color: #800080">(Z)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">Z</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:node">every node</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2"
                    >\scriptsize</span
                  >}</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.double">double</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.dashed">dashed</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(U)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">$x$</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(X)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(X)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">$p$</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(X -| XZY.east)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(X)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">$f$</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(Z)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">$g$</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(Y)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">$q$</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(XZY)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                {<span class="textcolor" style="color: #000000">$y$</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(U)</span
                >;<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1655"
                  ><!--
                    A

    f

                g e

                            a
B E C
            b

                        b
        c



                    D
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="258.338"
                    loading="lazy"
                    src="pgfmanual-images/image-1655.png"
                    style
                    width="182.748"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {matrix} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.&gt;">&gt;</a></span
                >=<span class="textcolor" style="color: #008000">stealth</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-graphs#pgf.-&gt;">-&gt;</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">2pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.looseness">looseness</a></span
                >=<span class="textcolor" style="color: #008000">.5</span>,<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >]<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:math:nodes"
                    >matrix of math nodes</a
                  ></span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{2cm,between origins}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{3cm,between origins}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{<a href="tikz-paths#pgf.circle">circle</a>,&numsp;<a
                    href="tikz-actions#pgf.draw"
                    >draw</a
                  >,&numsp;minimum size=7.5mm}</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">|</span
                ><span class="textcolor" style="color: #800080">(A)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">A</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                ><span class="textcolor" style="color: #800080">(B)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">B</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">|</span
                ><span class="textcolor" style="color: #800080">(E)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">E</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">|</span
                ><span class="textcolor" style="color: #800080">(C)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">C</span>
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #000000">|</span
                ><span class="textcolor" style="color: #800080">(D)</span
                ><span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">D</span>
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  >\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.every:node">every node</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.font">font</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><span class="textcolor" style="color: #0000b2">\small</span
                  ><span class="textcolor" style="color: #0000b2">\itshape</span
                  >}</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(A)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >g</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(B)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:left">bend left</a></span
                >]&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >f</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >c</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(E)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >b</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(B)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(E)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.near:end">near end</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000">a</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(C)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000">-</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.line:width">line width</a></span
                >=<span class="textcolor" style="color: #008000">8pt</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000"
                  >graphicbackground</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(D)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.looseness">looseness</a></span
                >=<span class="textcolor" style="color: #008000">1</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080">(D)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.to">to</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.bend:right">bend right</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="library-edges#pgf.looseness">looseness</a></span
                >=<span class="textcolor" style="color: #008000">1</span>]<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.near:start">near start</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000">b</span
                >}&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.near:end">near end</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000">e</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(A)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1656"
                  ><!--
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="128.594"
                    loading="lazy"
                    src="pgfmanual-images/image-1656.png"
                    style
                    width="129.130"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble">\usetikzlibrary {matrix} </span><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(network)</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-matrix#pgf.matrix:of:nodes"
                    >matrix of nodes</a
                  ></span
                >,<span class="example-code-comment">%</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-matrix#pgf.nodes:in:empty:cells"
                    >nodes in empty cells</a
                  ></span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-graphs#pgf.nodes">nodes</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{outer sep=0pt,<a href="tikz-paths#pgf.circle">circle</a
                  >,minimum size=4pt,<a href="tikz-actions#pgf.draw">draw</a
                  >}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{1cm,between origins}</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000"
                  >{1cm,between origins}</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|</span
                >[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000"
                  ><a href="dv-axes#pgf.none">none</a></span
                >]<span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">|</span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">1mm</span
                >]<span class="textcolor" style="color: #000000">|</span>
                <span class="textcolor" style="color: #000000">&amp;</span>
                <span class="textcolor" style="color: #000000">|</span>[<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-transformations#pgf.xshift">xshift</a></span
                >=<span class="textcolor" style="color: #008000">-1mm</span
                >]<span class="textcolor" style="color: #000000">|</span>
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  >\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                >&numsp;<span class="textcolor" style="color: #0000b2">\a</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">1</span
                >,...,<span class="textcolor" style="color: #000000">4</span
                >}{<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(network-3-2)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(network-2-\a)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(network-3-3)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(network-2-\a)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >-stealth</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >([yshift=5mm]network-1-\a.north)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(network-1-\a)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="pgffor#pgf.back/foreach">\foreach</a></span
                >&numsp;<span class="textcolor" style="color: #0000b2">\b</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="library-edges#pgf.in">in</a></span
                >
                {<span class="textcolor" style="color: #000000">1</span
                >,...,<span class="textcolor" style="color: #000000">4</span
                >}<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;<span class="textcolor" style="color: #800080"
                  >(network-1-\a)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(network-2-\b)</span
                >;<br />
                &numsp;&numsp;}<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >stealth-</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >([yshift=-5mm]network-3-2.south)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(network-3-2)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-actions#pgf.back/draw">\draw</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >stealth-</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >([yshift=-5mm]network-3-3.south)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080"
                  >(network-3-3)</span
                >;<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            The following example is adapted from code written by Kjell Magne
            Fauske, which is based on the following paper: K.&nbsp;Bossley,
            M.&nbsp;Brown, and C.&nbsp;Harris, Neurofuzzy identification of an
            autonomous underwater vehicle,
            <em>International Journal of Systems Science</em>, 1999, 30,
            901&ndash;913.
          </p>

          <figure class="example">
            <div class="example-image">
              <p>
                <span class="lateximagesource" id="lateximage-pgfmanual-1657"
                  ><!--
expert initialize system
            model



            identify
           candidate
             model


            evaluate
update
           candidate
model
             models




            is best
     yes candi-
             date


                no


             stop
-->
                  <img
                    alt="(-tikz-&nbsp;diagram)"
                    class="lateximage"
                    height="432.194"
                    loading="lazy"
                    src="pgfmanual-images/image-1657.png"
                    style
                    width="302.053"
                /></span>
              </p>
            </div>

            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <span class="c- preamble"
                  >\usetikzlibrary {arrows,shapes.geometric} </span
                ><br />
                <span class="textcolor" style="color: #000000">\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
                &numsp;&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.auto">auto</a></span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >decision</span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="library-shapes#pgf.diamond">diamond</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:width">text width</a></span
                >=<span class="textcolor" style="color: #008000">4.5em</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.align">align</a></span
                >=<span class="textcolor" style="color: #008000"
                  >flush center</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.inner:sep">inner sep</a></span
                >=<span class="textcolor" style="color: #008000">1pt}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >block</span
                >/<span class="textcolor" style="color: #0000b2">.style </span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rectangle">rectangle</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">blue</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">blue!20</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.text:width">text width</a></span
                >=<span class="textcolor" style="color: #008000">5em</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.align">align</a></span
                >=<span class="textcolor" style="color: #008000">center</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.rounded:corners"
                    >rounded corners</a
                  ></span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:height"
                    >minimum height</a
                  ></span
                >=<span class="textcolor" style="color: #008000">4em}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  >line</span
                >/<span class="textcolor" style="color: #0000b2">.style </span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  >-latex'</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-arrows#pgf.shorten:&gt;">shorten &gt;</a></span
                >=<span class="textcolor" style="color: #008000">2pt}</span
                >,<br />
                &numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="library-shapes#pgf.cloud">cloud</a></span
                >/<span class="textcolor" style="color: #0000b2">.style </span
                >={<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.draw">draw</a></span
                >=<span class="textcolor" style="color: #008000">red</span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.thick">thick</a></span
                >,&numsp;<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.ellipse">ellipse</a></span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.fill">fill</a></span
                >=<span class="textcolor" style="color: #008000">red!20</span
                >,<br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #008000"
                  ><a href="tikz-shapes#pgf.minimum:height"
                    >minimum height</a
                  ></span
                >=<span class="textcolor" style="color: #008000">2em}</span
                >]<br />
                <br />
                &numsp;&numsp;<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-matrices#pgf.back/matrix">\matrix</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.column:sep">column sep</a></span
                >=<span class="textcolor" style="color: #008000">5mm</span
                >,<span class="textcolor" style="color: #008000"
                  ><a href="tikz-matrices#pgf.row:sep">row sep</a></span
                >=<span class="textcolor" style="color: #008000">7mm</span
                >]<br />
                &numsp;&numsp;{<br />
                &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                  >% row 1</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-shapes#pgf.cloud">cloud</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(expert)</span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >expert</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >block</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(init)</span
                >&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >initialize</span
                >
                <span class="textcolor" style="color: #000000">model</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="library-shapes#pgf.cloud">cloud</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(system)</span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >system</span
                >};&numsp;<span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                  >% row 2</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >block</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(identify)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >identify</span
                >
                <span class="textcolor" style="color: #000000">candidate</span>
                <span class="textcolor" style="color: #000000">model</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                  >% row 3</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >block</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(update)</span
                >&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >update</span
                >
                <span class="textcolor" style="color: #000000">model</span
                >};&numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >block</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(evaluate)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  ><a href="library-math#pgf.evaluate">evaluate</a></span
                >
                <span class="textcolor" style="color: #000000">candidate</span>
                <span class="textcolor" style="color: #000000">models</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                  >% row 4</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >decision</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(decide)</span
                >&numsp;{<span class="textcolor" style="color: #000000"
                  >is</span
                >
                <span class="textcolor" style="color: #000000">best</span>
                <span class="textcolor" style="color: #000000">candidate</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;&numsp;&numsp;<span class="example-code-comment"
                  >% row 5</span
                ><br />
                &numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-shapes#pgf.back/node">\node</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  >block</span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(stop)</span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;{<span
                  class="textcolor"
                  style="color: #000000"
                  >stop</span
                >};&numsp;<span class="textcolor" style="color: #000000"
                  >&amp;</span
                >
                <span class="textcolor" style="color: #0000b2">\</span
                ><span class="textcolor" style="color: #0000b2">\</span><br />
                &numsp;&numsp;};<br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\begin</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-paths#pgf.every:path">every path</a></span
                >/<span class="textcolor" style="color: #0000b2"
                  ><a href="pgfkeys#pgf./handlers/.style">.style</a></span
                >=<span class="textcolor" style="color: #008000">line</span
                >]<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(init)</span
                >&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(identify)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(identify)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(evaluate)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(evaluate)</span
                >&numsp;<span class="textcolor" style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(decide)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(update)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|-</span
                >
                <span class="textcolor" style="color: #800080">(identify)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(decide)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >-|</span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.near:start">near start</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000"
                  >yes</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(update)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #800080"
                  >(decide)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #000000"
                  ><a href="tikz-coordinates#pgf.node">node</a></span
                >
                [<span class="textcolor" style="color: #008000"
                  ><a href="tikz-shapes#pgf.midway">midway</a></span
                >]&numsp;{<span class="textcolor" style="color: #000000"
                  >no</span
                >}&numsp;<span class="textcolor" style="color: #800080"
                  >(stop)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.dashed">dashed</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(expert)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(init)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.dashed">dashed</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(system)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  ><a href="tikz-paths#pgf.--">--</a></span
                >
                <span class="textcolor" style="color: #800080">(init)</span
                >;<br />
                &numsp;&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-paths#pgf.back/path">\path</a></span
                >&numsp;[<span class="textcolor" style="color: #008000"
                  ><a href="tikz-actions#pgf.dashed">dashed</a></span
                >]&numsp;<span class="textcolor" style="color: #800080"
                  >(system)</span
                >&numsp;&numsp;&numsp;<span
                  class="textcolor"
                  style="color: #000000"
                  >|-</span
                >
                <span class="textcolor" style="color: #800080">(evaluate)</span
                >;<br />
                &numsp;&numsp;<span class="textcolor" style="color: #000000"
                  >\end</span
                >{<span class="textcolor" style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.scope">scope</a></span
                >}<br />
                <span class="textcolor" style="color: #000000">\end</span>{<span
                  class="textcolor"
                  style="color: #0000b2"
                  ><a href="tikz-scopes#pgf.tikzpicture">tikzpicture</a></span
                >}<br />
              </code>
            </div>
          </figure>
        </section>
      </main>

      <footer>
        <div class_="footer-left">
          <a href="https://github.com/pgf-tikz/pgf">Github</a> &middot;
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">PDF version</a>
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class_="footer-right">
          <em>Manual last updated: 2022-04-23</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      docsearch({
        apiKey: "ae66ec3fc9df4b52b4d6f24fc8508fd3",
        indexName: "tikz.dev",
        appId: "Q70NNMA9GC",
        container: "#search",
      });
    </script>
  </body>
</html>
