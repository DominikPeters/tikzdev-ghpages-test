<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta content="LaTeX Lwarp package" name="generator" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>The Soft Path Subsystem - PGF/TikZ Manual</title>
    <link href="style.css" rel="stylesheet" type="text/css" />

    <script>
      // Lwarp MathJax emulation code
      //
      // Based on code by Davide P. Cervone.
      // Equation numbering: https://github.com/mathjax/MathJax/issues/2427
      // Starred and ifnextchar macros: https://github.com/mathjax/MathJax/issues/2428
      // \left, \right delimiters: https://github.com/mathjax/MathJax/issues/2535
      //
      // Modified by Brian Dunn to adjust equation numbering and add subequations.
      //
      // LaTeX can use \seteqnumber{subequations?}{section}{number} before each equation.
      // subequations? is 0 usually, 1 if inside subequations.
      // section is a string printed as-is, or empty.
      // number is auto-incremented by MathJax between equations.
      //
      MathJax = {
        subequations: "0",
        section: "",
        loader: {
          load: ["[tex]/tagformat", "[tex]/textmacros"],
        },
        startup: {
          ready() {
            // These would be replaced by import commands if you wanted to make
            // a proper extension.
            const Configuration =
              MathJax._.input.tex.Configuration.Configuration;
            const CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;
            const Macro = MathJax._.input.tex.Symbol.Macro;
            const TexError = MathJax._.input.tex.TexError.default;
            const ParseUtil = MathJax._.input.tex.ParseUtil.default;
            const expandable = MathJax._.util.Options.expandable;

            // Insert the replacement string into the TeX string, and check
            // that there haven't been too many maxro substitutions (prevents
            // infinite loops).
            const useArgument = (parser, text) => {
              parser.string = ParseUtil.addArgs(
                parser,
                text,
                parser.string.slice(parser.i)
              );
              parser.i = 0;
              if (
                ++parser.macroCount > parser.configuration.options.maxMacros
              ) {
                throw new TexError(
                  "MaxMacroSub1",
                  "MathJax maximum macro substitution count exceeded; " +
                    "is there a recursive macro call?"
                );
              }
            };

            // Create the command map for:
            // \ifstar, \ifnextchar, \ifblank, \ifstrequal, \seteqnumber
            new CommandMap(
              "Lwarp-macros",
              {
                ifstar: "IfstarFunction",
                ifnextchar: "IfnextcharFunction",
                ifblank: "IfblankFunction",
                ifstrequal: "IfstrequalFunction",
                seteqnumber: "SeteqnumberFunction",
              },
              {
                // This function implements an ifstar macro.
                IfstarFunction(parser, name) {
                  const resultstar = parser.GetArgument(name);
                  const resultnostar = parser.GetArgument(name);
                  const star = parser.GetStar(); // true if there is a *
                  useArgument(parser, star ? resultstar : resultnostar);
                },

                // This function implements an ifnextchar macro.
                IfnextcharFunction(parser, name) {
                  let whichchar = parser.GetArgument(name);
                  if (whichchar.match(/^(?:0x[0-9A-F]+|[0-9]+)$/i)) {
                    // $ syntax highlighting
                    whichchar = String.fromCodePoint(parseInt(whichchar));
                  }
                  const resultnextchar = parser.GetArgument(name);
                  const resultnotnextchar = parser.GetArgument(name);
                  const gotchar = parser.GetNext() === whichchar;
                  useArgument(
                    parser,
                    gotchar ? resultnextchar : resultnotnextchar
                  );
                },

                // This function implements an ifblank macro.
                IfblankFunction(parser, name) {
                  const blankarg = parser.GetArgument(name);
                  const resultblank = parser.GetArgument(name);
                  const resultnotblank = parser.GetArgument(name);
                  const isblank = blankarg.trim() == "";
                  useArgument(parser, isblank ? resultblank : resultnotblank);
                },

                // This function implements an ifstrequal macro.
                IfstrequalFunction(parser, name) {
                  const strequalfirst = parser.GetArgument(name);
                  const strequalsecond = parser.GetArgument(name);
                  const resultequal = parser.GetArgument(name);
                  const resultnotequal = parser.GetArgument(name);
                  const isequal = strequalfirst == strequalsecond;
                  useArgument(parser, isequal ? resultequal : resultnotequal);
                },

                // This function modifies the equation numbers.
                SeteqnumberFunction(parser, name) {
                  // Get the macro parameters
                  const star = parser.GetStar(); // true if there is a *
                  const optBrackets = parser.GetBrackets(name); // contents of optional brackets
                  const newsubequations = parser.GetArgument(name); // the subequations argument
                  const neweqsection = parser.GetArgument(name); // the eq section argument
                  const neweqnumber = parser.GetArgument(name); // the eq number argument
                  MathJax.config.subequations = newsubequations; // a string with boolean meaning
                  MathJax.config.section = neweqsection; // a string with numeric meaning
                  parser.tags.counter = parser.tags.allCounter = neweqnumber;
                },
              }
            );

            // Create the Lwarp-macros package
            Configuration.create("Lwarp-macros", {
              handler: { macro: ["Lwarp-macros"] },
            });

            MathJax.startup.defaultReady();

            // For forward references:
            MathJax.startup.input[0].preFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                MathJax.config.subequations =
                  math.inputData.recompile.subequations;
                MathJax.config.section = math.inputData.recompile.section;
              }
            });
            MathJax.startup.input[0].postFilters.add(({ math }) => {
              if (math.inputData.recompile) {
                math.inputData.recompile.subequations =
                  MathJax.config.subequations;
                math.inputData.recompile.section = MathJax.config.section;
              }
            });

            // For \left, \right with unicode-math:
            const { DelimiterMap } = MathJax._.input.tex.SymbolMap;
            const { Symbol } = MathJax._.input.tex.Symbol;
            const { MapHandler } = MathJax._.input.tex.MapHandler;
            const delimiter = MapHandler.getMap("delimiter");
            delimiter.add("\\lBrack", new Symbol("\\lBrack", "\u27E6"));
            delimiter.add("\\rBrack", new Symbol("\\rBrack", "\u27E7"));
            delimiter.add("\\lAngle", new Symbol("\\lAngle", "\u27EA"));
            delimiter.add("\\rAngle", new Symbol("\\rAngle", "\u27EB"));
            delimiter.add("\\lbrbrak", new Symbol("\\lbrbrak", "\u2772"));
            delimiter.add("\\rbrbrak", new Symbol("\\rbrbrak", "\u2773"));
            delimiter.add("\\lbag", new Symbol("\\lbag", "\u27C5"));
            delimiter.add("\\rbag", new Symbol("\\rbag", "\u27C6"));
            delimiter.add(
              "\\llparenthesis",
              new Symbol("\\llparenthesis", "\u2987")
            );
            delimiter.add(
              "\\rrparenthesis",
              new Symbol("\\rrparenthesis", "\u2988")
            );
            delimiter.add("\\llangle", new Symbol("\\llangle", "\u2989"));
            delimiter.add("\\rrangle", new Symbol("\\rrangle", "\u298A"));
            delimiter.add("\\Lbrbrak", new Symbol("\\Lbrbrak", "\u27EC"));
            delimiter.add("\\Rbrbrak", new Symbol("\\Rbrbrak", "\u27ED"));
            delimiter.add("\\lBrace", new Symbol("\\lBrace", "\u2983"));
            delimiter.add("\\rBrace", new Symbol("\\rBrace", "\u2984"));
            delimiter.add("\\lParen", new Symbol("\\lParen", "\u2985"));
            delimiter.add("\\rParen", new Symbol("\\rParen", "\u2986"));
            delimiter.add("\\lbrackubar", new Symbol("\\lbrackubar", "\u298B"));
            delimiter.add("\\rbrackubar", new Symbol("\\rbrackubar", "\u298C"));
            delimiter.add(
              "\\lbrackultick",
              new Symbol("\\lbrackultick", "\u298D")
            );
            delimiter.add(
              "\\rbracklrtick",
              new Symbol("\\rbracklrtick", "\u298E")
            );
            delimiter.add(
              "\\lbracklltick",
              new Symbol("\\lbracklltick", "\u298F")
            );
            delimiter.add(
              "\\rbrackurtick",
              new Symbol("\\rbrackurtick", "\u2990")
            );
            delimiter.add("\\langledot", new Symbol("\\langledot", "\u2991"));
            delimiter.add("\\rangledot", new Symbol("\\rangledot", "\u2992"));
            delimiter.add("\\lparenless", new Symbol("\\lparenless", "\u2993"));
            delimiter.add("\\rparengtr", new Symbol("\\rparengtr", "\u2994"));
            delimiter.add("\\Lparengtr", new Symbol("\\Lparengtr", "\u2995"));
            delimiter.add("\\Rparenless", new Symbol("\\Rparenless", "\u2996"));
            delimiter.add("\\lblkbrbrak", new Symbol("\\lblkbrbrak", "\u2997"));
            delimiter.add("\\rblkbrbrak", new Symbol("\\rblkbrbrak", "\u2998"));
            delimiter.add("\\lvzigzag", new Symbol("\\lvzigzag", "\u29D8"));
            delimiter.add("\\rvzigzag", new Symbol("\\rvzigzag", "\u29D9"));
            delimiter.add("\\Lvzigzag", new Symbol("\\Lvzigzag", "\u29DA"));
            delimiter.add("\\Rvzigzag", new Symbol("\\Rvzigzag", "\u29DB"));
            delimiter.add(
              "\\lcurvyangle",
              new Symbol("\\lcurvyangle", "\u29FC")
            );
            delimiter.add(
              "\\rcurvyangle",
              new Symbol("\\rcurvyangle", "\u29FD")
            );
            delimiter.add("\\Vvert", new Symbol("\\Vvert", "\u2980"));
          }, // ready
        }, // startup

        tex: {
          packages: { "[+]": ["tagformat", "Lwarp-macros", "textmacros"] },
          tags: "ams",
          tagformat: {
            number: function (n) {
              if (MathJax.config.subequations == 0)
                return MathJax.config.section + n;
              else return MathJax.config.section + String.fromCharCode(96 + n);
            },
          },
        },
      };
    </script>

    <script
      async
      id="MathJax-script"
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"
    ></script>

    <script src="pgfmanual.js"></script>

    <link href="https://unpkg.com/@docsearch/css@alpha" rel="stylesheet" />
    <link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
    <link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
    <link
      href="/apple-touch-icon.png"
      rel="apple-touch-icon"
      sizes="180x180"
      type="image/png"
    />
    <link href="/site.webmanifest" rel="manifest" />
  </head>
  <body>
    <a id="pgfmanual-autopage-8412"></a>

    <div class="bodyandsidetoc grid-container">
      <header>
        <strong><a href="/">PGF/Ti<i>k</i>Z Manual</a></strong>
        <div id="search"></div>
      </header>
      <div class="sidetoccontainer" id="local-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle"><p>On this page</p></div>
          <div class="sidetoccontents">
            <p>
              <a class="tocsubsection" href="#sec-120.1"
                >Path Creation Process</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-120.2"
                >Starting and Ending a Soft Path</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-120.3"
                >Soft Path Creation Commands</a
              >
            </p>
            <p>
              <a class="tocsubsection" href="#sec-120.4"
                >The Soft Path Data Structure</a
              >
            </p>
          </div>
        </nav>
      </div>
      <div class="sidetoccontainer" id="chapter-toc-container">
        <nav class="sidetoc">
          <div class="sidetoctitle">
            <p>
              <span class="sidetocthetitle"
                >The <span class="tikzname">TikZ</span> and PGF Packages<br />
                Manual for version 3.1.9a</span
              >
            </p>

            <p>Contents</p>
          </div>

          <div class="sidetoccontents">
            <p></p>

            <p>
              <a class="linkintro" href="/">Introduction</a>
            </p>

            <p>
              <a class="tocpart" href="tutorials-guidelines"
                >Tutorials and Guidelines</a
              >
            </p>

            <p>
              <a class="tocpart" href="install"
                >Installation and Configuration</a
              >
            </p>

            <p>
              <a class="tocpart" href="tikz">Ti<em>k</em>Z</a>
            </p>

            <p>
              <a class="tocpart" href="gd">Graph Drawing</a>
            </p>

            <p>
              <a class="tocpart" href="libraries">Libraries</a>
            </p>

            <p>
              <a class="tocpart" href="dv">Data Visualization</a>
            </p>

            <p>
              <a class="tocpart" href="utilities">Utilities</a>
            </p>

            <p>
              <a class="tocpart" href="math"
                >Mathematical and Object-Oriented Engines</a
              >
            </p>

            <p>
              <a class="tocpart" href="base">The Basic Layer</a>
            </p>

            <p class="current-part">
              <a class="tocpart" href="pgfsys">The System Layer</a>
            </p>

            <p class="current-part">
              <a class="tocsection" href="pgfsys-overview"
                >Design of the System Layer</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="pgfsys-commands"
                >Commands of the System Layer</a
              >
            </p>

            <p class="current current-part">
              <a class="tocsection" href="pgfsys-paths"
                >The Soft Path Subsystem</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="pgfsys-protocol"
                >The Protocol Subsystem</a
              >
            </p>

            <p class="current-part">
              <a class="tocsection" href="pgfsys-animations"
                >Animation System Layer</a
              >
            </p>
          </div>
        </nav>
      </div>

      <main class="bodycontainer">
        <section class="textbody">
          <h1>
            The <span class="tikzname">TikZ</span> and PGF Packages<br />
            Manual for version 3.1.9a
          </h1>
          <h2 class="inserted">The System Layer</h2>

          <!--MathJax customizations:-->

          <div class="hidden">
            \(\newcommand{\footnotename}{footnote}\) \(\def \LWRfootnote {1}\)
            \(\newcommand {\footnote }[2][\LWRfootnote ]{{}^{\mathrm {#1}}}\)
            \(\newcommand {\footnotemark }[1][\LWRfootnote ]{{}^{\mathrm
            {#1}}}\) \(\let \LWRorighspace \hspace \) \(\renewcommand {\hspace
            }{\ifstar \LWRorighspace \LWRorighspace }\) \(\newcommand
            {\mathnormal }[1]{{#1}}\) \(\newcommand \ensuremath [1]{#1}\)
            \(\newcommand {\LWRframebox }[2][]{\fbox {#2}} \newcommand
            {\framebox }[1][]{\LWRframebox } \) \(\newcommand {\setlength
            }[2]{}\) \(\newcommand {\addtolength }[2]{}\) \(\newcommand
            {\setcounter }[2]{}\) \(\newcommand {\addtocounter }[2]{}\)
            \(\newcommand {\arabic }[1]{}\) \(\newcommand {\number }[1]{}\)
            \(\newcommand {\noalign }[1]{\text {#1}\notag \\}\) \(\newcommand
            {\cline }[1]{}\) \(\newcommand {\directlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\luatexdirectlua }[1]{\text
            {(directlua)}}\) \(\newcommand {\protect }{}\) \(\def
            \LWRabsorbnumber #1 {}\) \(\def \LWRabsorbquotenumber "#1 {}\)
            \(\newcommand {\LWRabsorboption }[1][]{}\) \(\newcommand
            {\LWRabsorbtwooptions }[1][]{\LWRabsorboption }\) \(\def \mathchar
            {\ifnextchar "\LWRabsorbquotenumber \LWRabsorbnumber }\) \(\def
            \mathcode #1={\mathchar }\) \(\let \delcode \mathcode \) \(\let
            \delimiter \mathchar \) \(\def \oe {\unicode {x0153}}\) \(\def \OE
            {\unicode {x0152}}\) \(\def \ae {\unicode {x00E6}}\) \(\def \AE
            {\unicode {x00C6}}\) \(\def \aa {\unicode {x00E5}}\) \(\def \AA
            {\unicode {x00C5}}\) \(\def \o {\unicode {x00F8}}\) \(\def \O
            {\unicode {x00D8}}\) \(\def \l {\unicode {x0142}}\) \(\def \L
            {\unicode {x0141}}\) \(\def \ss {\unicode {x00DF}}\) \(\def \SS
            {\unicode {x1E9E}}\) \(\def \dag {\unicode {x2020}}\) \(\def \ddag
            {\unicode {x2021}}\) \(\def \P {\unicode {x00B6}}\) \(\def
            \copyright {\unicode {x00A9}}\) \(\def \pounds {\unicode {x00A3}}\)
            \(\let \LWRref \ref \) \(\renewcommand {\ref }{\ifstar \LWRref
            \LWRref }\) \( \newcommand {\multicolumn }[3]{#3}\) \(\require
            {textcomp}\) \( \newcommand {\meta }[1]{\langle \textit {#1}\rangle
            } \) \(\newcommand {\intertext }[1]{\text {#1}\notag \\}\) \(\let
            \Hat \hat \) \(\let \Check \check \) \(\let \Tilde \tilde \) \(\let
            \Acute \acute \) \(\let \Grave \grave \) \(\let \Dot \dot \) \(\let
            \Ddot \ddot \) \(\let \Breve \breve \) \(\let \Bar \bar \) \(\let
            \Vec \vec \)
          </div>

          <p></p>
          <h4 id="autosec-8413">
            <a id="section-soft-paths"></a
            ><span class="sectionnumber">120&emsp;</span>The Soft Path Subsystem
          </h4>
          <a id="pgfmanual-autopage-8413"></a>
          <a id="pgfmanual-autofile-130"></a>

          <p>
            This section describes a set of commands for creating
            <em>soft paths</em> as opposed to the commands of the previous
            section, which created <em>hard paths</em>. A soft path is a path
            that can still be &ldquo;changed&rdquo; or &ldquo;molded&rdquo;.
            Once you (or the <span class="textsc">pgf</span> system) is
            satisfied with a soft path, it is turned into a hard path, which can
            be inserted into the resulting <span class="texttt">.pdf</span> or
            <span class="texttt">.ps</span> file.
          </p>

          <p>
            Note that the commands described in this section are
            &ldquo;high-level&rdquo; in the sense that they are not implemented
            in driver files, but rather directly by the
            <span class="textsc">pgf</span>-system layer. For this reason, the
            commands for creating soft paths do not start with
            <span class="texttt">\pgfsys@</span>, but rather with
            <span class="texttt">\pgfsyssoftpath@</span>. On the other hand, as
            a user you will never use these commands directly, they are
            described as part of the low-level interface.
          </p>
          <h5 id="autosec-8414">
            <span class="sectionnumber" id="sec-120.1">120.1&emsp;</span>Path
            Creation Process<a class="anchor-link" href="#sec-120.1">&para;</a>
          </h5>
          <a id="pgfmanual-autopage-8414"></a>

          <p>
            When the user writes a command like
            <span class="texttt">\draw (0bp,0bp) -- (10bp,0bp);</span> quite a
            lot happens behind the scenes:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. The frontend command is translated by
                <span class="tikzname">TikZ</span> into commands of the basic
                layer. In essence, the command is translated to something like
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="base-paths#pgf.back/pgfpathmoveto">
                        \pgfpathmoveto</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint">
                        \pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0bp</span
                    >}{<span class="textcolor" style="color: #000000">0bp</span
                    >}}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="base-paths#pgf.back/pgfpathlineto">
                        \pgfpathlineto</a
                      ></span
                    >{<span class="textcolor" style="color: #0000b2"
                      ><a href="base-points#pgf.back/pgfpoint">
                        \pgfpoint</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">10bp</span
                    >}{<span class="textcolor" style="color: #000000">0bp</span
                    >}}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="base-actions#pgf.back/pgfusepath">
                        \pgfusepath</a
                      ></span
                    >{<span class="textcolor" style="color: #000000"
                      >stroke</span
                    >}<br />
                  </code>
                </div>
              </figure>
            </li>
            <li>
              <p>
                2. The <span class="texttt">\pgfpathxxxx</span> commands do
                <em>not</em> directly call &ldquo;hard&rdquo; commands like
                <span class="texttt">\pgfsys@xxxx</span>. Instead, the command
                <span class="texttt">\pgfpathmoveto</span> invokes a special
                command called
                <span class="texttt">\pgfsyssoftpath@moveto</span> and
                <span class="texttt">\pgfpathlineto</span> invokes
                <span class="texttt">\pgfsyssoftpath@lineto</span>.
              </p>
              <p>
                The <span class="texttt">\pgfsyssoftpath@xxxx</span> commands,
                which are described below, construct a soft path. Each time such
                a command is used, special tokens are added to the end of an
                internal macro that stores the soft path currently being
                constructed.
              </p>
            </li>
            <li>
              <p>
                3. When the <span class="texttt">\pgfusepath</span> is
                encountered, the soft path stored in the internal macro is
                &ldquo;invoked&rdquo;. Only now does a special macro iterate
                over the soft path. For each line-to or move-to operation on
                this path it calls an appropriate
                <span class="texttt">\pgfsys@moveto</span> or
                <span class="texttt">\pgfsys@lineto</span> in order to, finally,
                create the desired hard path, namely, the string of literals in
                the <span class="texttt">.pdf</span> or
                <span class="texttt">.ps</span> file.
              </p>
            </li>
            <li>
              <p>
                4. After the path has been invoked,
                <span class="texttt">\pgfsys@stroke</span> is called to insert
                the literal for stroking the path.
              </p>
            </li>
          </ul>

          <p>
            Why such a complicated process? Why not have
            <span class="texttt">\pgfpathlineto</span> directly call
            <span class="texttt">\pgfsys@lineto</span> and be done with it?
            There are two reasons:
          </p>
          <ul style="list-style-type: none">
            <li>
              <p>
                1. The <span class="textsc">pdf</span> specification requires
                that a path is not interrupted by any non-path-construction
                commands. Thus, the following code will result in a corrupted
                <span class="texttt">.pdf</span>:
              </p>

              <figure class="example">
                <div class="example-code">
                  <button class="clipboardButton" type="button">copy</button>
                  <code
                    ><br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfsys-commands#pgf.back/pgfsys@moveto">
                        \pgfsys@moveto</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">0</span
                    >}{<span class="textcolor" style="color: #000000">0</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfsys-commands#pgf.back/pgfsys@setlinewidth">
                        \pgfsys@setlinewidth</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">1</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfsys-commands#pgf.back/pgfsys@lineto">
                        \pgfsys@lineto</a
                      ></span
                    >{<span class="textcolor" style="color: #000000">10</span
                    >}{<span class="textcolor" style="color: #000000">0</span
                    >}<br />
                    <span class="textcolor" style="color: #0000b2"
                      ><a href="pgfsys-commands#pgf.back/pgfsys@stroke">
                        \pgfsys@stroke</a
                      ></span
                    ><br />
                  </code>
                </div>
              </figure>
              <p>
                Such corrupt code is <em>tolerated</em> by most viewers, but not
                always. It is much better to create only (reasonably) legal
                code.
              </p>
            </li>
            <li>
              <p>
                2. A soft path can still be changed, while a hard path is fixed.
                For example, one can still change the starting and end points of
                a soft path or do optimizations on it. Such transformations are
                not possible on hard paths.
              </p>
            </li>
          </ul>
          <h5 id="autosec-8415">
            <span class="sectionnumber" id="sec-120.2">120.2&emsp;</span
            >Starting and Ending a Soft Path<a
              class="anchor-link"
              href="#sec-120.2"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8415"></a>

          <p>
            No special action must be taken in order to start the creation of a
            soft path. Rather, each time a command like
            <span class="texttt">\pgfsyssoftpath@lineto</span> is called, a
            special token is added to the (global) current soft path being
            constructed.
          </p>

          <p>
            However, you can access and change the current soft path. In this
            way, it is possible to store a soft path, to manipulate it, or to
            invoke it.
          </p>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@getcurrentpath"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@getcurrentpath</kbd></span
                  >{<span class="angle">&langle;</span><i>macro name</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfsyssoftpath@getcurrentpath"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command will store the current soft path in
              <span class="angle">&langle;</span><i>macro name</i
              ><span class="angle">&rangle;</span>.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@setcurrentpath"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@setcurrentpath</kbd></span
                  >{<span class="angle">&langle;</span><i>macro name</i
                  ><span class="angle">&rangle;</span>}</span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfsyssoftpath@setcurrentpath"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command will set the current soft path to be the path stored
              in <span class="angle">&langle;</span><i>macro name</i
              ><span class="angle">&rangle;</span>. This macro should store a
              path that has previously been extracted using the
              <span class="texttt">\pgfsyssoftpath@getcurrentpath</span> command
              and has possibly been modified subsequently.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@invokecurrentpath"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@invokecurrentpath</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfsyssoftpath@invokecurrentpath"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command will turn the current soft path in a
              &ldquo;hard&rdquo; path. To do so, it iterates over the soft path
              and calls an appropriate
              <span class="texttt">\pgfsys@xxxx</span> command for each element
              of the path. Note that the current soft path is
              <em>not changed</em> by this command. Thus, in order to start a
              new soft path after the old one has been invoked and is no longer
              needed, you need to set the current soft path to be empty. This
              may seem strange, but it is often useful to immediately use the
              last soft path again.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@flushcurrentpath"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@flushcurrentpath</kbd></span
                  ></span
                >
                <a
                  class="anchor-link"
                  href="#pgf.back/pgfsyssoftpath@flushcurrentpath"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command will invoke the current soft path and then set it to
              be empty.
            </p>
          </div>
          <h5 id="autosec-8416">
            <span class="sectionnumber" id="sec-120.3">120.3&emsp;</span>Soft
            Path Creation Commands<a class="anchor-link" href="#sec-120.3"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8416"></a>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@moveto"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@moveto</kbd></span
                  >{<span class="angle">&langle;</span><i>x</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>y</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsyssoftpath@moveto"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              This command appends a &ldquo;move-to&rdquo; segment to the
              current soft path. The coordinates
              <span class="angle">&langle;</span><i>x</i
              ><span class="angle">&rangle;</span> and
              <span class="angle">&langle;</span><i>y</i
              ><span class="angle">&rangle;</span> are given as normal
              <span class="latexlogofont"
                ><span class="latexlogo"
                  >T<span class="latexlogosub">e</span>X</span
                ></span
              >
              dimensions.
            </p>
            <p><i>Example: </i>One way to draw a line:</p>

            <figure class="example">
              <div class="example-code">
                <button class="clipboardButton" type="button">copy</button>
                <code>
                  <br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="pgfsys-paths#pgf.back/pgfsyssoftpath@moveto"
                      >\pgfsyssoftpath@moveto</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">0pt</span
                  >}{<span class="textcolor" style="color: #000000">0pt</span
                  >}<br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="pgfsys-paths#pgf.back/pgfsyssoftpath@lineto"
                      >\pgfsyssoftpath@lineto</a
                    ></span
                  >{<span class="textcolor" style="color: #000000">10pt</span
                  >}{<span class="textcolor" style="color: #000000">10pt</span
                  >}<br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a
                      href="pgfsys-paths#pgf.back/pgfsyssoftpath@flushcurrentpath"
                      >\pgfsyssoftpath@flushcurrentpath</a
                    ></span
                  ><br />
                  <span class="textcolor" style="color: #0000b2"
                    ><a href="pgfsys-commands#pgf.back/pgfsys@stroke"
                      >\pgfsys@stroke</a
                    ></span
                  ><br />
                </code>
              </div>
            </figure>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@lineto"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@lineto</kbd></span
                  >{<span class="angle">&langle;</span><i>x</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>y</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsyssoftpath@lineto"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Appends a &ldquo;line-to&rdquo; segment to the current soft path.
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@curveto"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@curveto</kbd></span
                  >{<span class="angle">&langle;</span><i>a</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>b</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>c</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>d</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>x</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>y</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsyssoftpath@curveto"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Appends a &ldquo;curve-to&rdquo; segment to the current soft path
              with controls \((a,b)\) and \((c,d)\).
            </p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@rect"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@rect</kbd></span
                  >{<span class="angle">&langle;</span><i>lower left x</i
                  ><span class="angle">&rangle;</span>}{<span class="angle"
                    >&langle;</span
                  ><i>lower left y</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>width</i><span class="angle">&rangle;</span>}{<span
                    class="angle"
                    >&langle;</span
                  ><i>height</i><span class="angle">&rangle;</span>}</span
                >
                <a class="anchor-link" href="#pgf.back/pgfsyssoftpath@rect"
                  >&para;</a
                >
              </p>
            </div>
            <p>Appends a rectangle segment to the current soft path.</p>
          </div>

          <div class="manualentry">
            <div class="entryheadline">
              <p>
                <a id="pgf.back/pgfsyssoftpath@closepath"></a>
                <span class="hl-def"
                  ><span class="textcolor" style="color: #bf0000"
                    ><kbd>\pgfsyssoftpath@closepath</kbd></span
                  ></span
                >
                <a class="anchor-link" href="#pgf.back/pgfsyssoftpath@closepath"
                  >&para;</a
                >
              </p>
            </div>
            <p>
              Appends a &ldquo;close-path&rdquo; segment to the current soft
              path.
            </p>
          </div>
          <h5 id="autosec-8417">
            <span class="sectionnumber" id="sec-120.4">120.4&emsp;</span>The
            Soft Path Data Structure<a class="anchor-link" href="#sec-120.4"
              >&para;</a
            >
          </h5>
          <a id="pgfmanual-autopage-8417"></a>

          <p>
            A soft path is stored in a standardized way, which makes it possible
            to modify it before it becomes &ldquo;hard&rdquo;. Basically, a soft
            path is a long sequence of triples. Each triple starts with a
            <em>token</em> that identifies what is going on. This token is
            followed by two dimensions in braces. For example, the following is
            a soft path that means &ldquo;the path starts at \((0\mathrm {bp},
            0\mathrm {bp})\) and then continues in a straight line to
            \((10\mathrm {bp}, 0\mathrm {bp})\)&rdquo;.
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  >\pgfsyssoftpath@movetotoken</span
                >{<span class="textcolor" style="color: #000000">0bp</span
                >}{<span class="textcolor" style="color: #000000">0bp</span
                >}<span class="textcolor" style="color: #0000b2"
                  >\pgfsyssoftpath@linetotoken</span
                >{<span class="textcolor" style="color: #000000">10bp</span
                >}{<span class="textcolor" style="color: #000000">0bp</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            A curve-to is hard to express in this way since we need six numbers
            to express it, not two. For this reasons, a curve-to is expressed
            using three triples as follows: The command
          </p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  ><a href="pgfsys-paths#pgf.back/pgfsyssoftpath@curveto"
                    >\pgfsyssoftpath@curveto</a
                  ></span
                >{<span class="textcolor" style="color: #000000">1bp</span
                >}{<span class="textcolor" style="color: #000000">2bp</span
                >}{<span class="textcolor" style="color: #000000">3bp</span
                >}{<span class="textcolor" style="color: #000000">4bp</span
                >}{<span class="textcolor" style="color: #000000">5bp</span
                >}{<span class="textcolor" style="color: #000000">6bp</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>results in the following three triples:</p>

          <figure class="example">
            <div class="example-code">
              <button class="clipboardButton" type="button">copy</button>

              <code>
                <br />
                <span class="textcolor" style="color: #0000b2"
                  >\pgfsyssoftpath@curvetosupportatoken</span
                >{<span class="textcolor" style="color: #000000">1bp</span
                >}{<span class="textcolor" style="color: #000000">2bp</span
                >}<br />
                <span class="textcolor" style="color: #0000b2"
                  >\pgfsyssoftpath@curvetosupportbtoken</span
                >{<span class="textcolor" style="color: #000000">3bp</span
                >}{<span class="textcolor" style="color: #000000">4bp</span
                >}<br />
                <span class="textcolor" style="color: #0000b2"
                  >\pgfsyssoftpath@curvetotoken</span
                >{<span class="textcolor" style="color: #000000">5bp</span
                >}{<span class="textcolor" style="color: #000000">6bp</span
                >}<br />
              </code>
            </div>
          </figure>

          <p>
            These three triples must always &ldquo;remain together&rdquo;. Thus,
            a lonely <span class="texttt">supportbtoken</span> is forbidden.
          </p>

          <p>In details, the following tokens exist:</p>
          <ul style="list-style-type: none">
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@movetotoken</kbd></span
                >
                indicates a move-to operation. The two following numbers
                indicate the position to which the current point should be
                moved.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@linetotoken</kbd></span
                >
                indicates a line-to operation.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@curvetosupportatoken</kbd></span
                >
                indicates the first control point of a curve-to operation. The
                triple must be followed by a
                <span class="texttt">\pgfsyssoftpath@curvetosupportbtoken</span
                >.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@curvetosupportbtoken</kbd></span
                >
                indicates the second control point of a curve-to operation. The
                triple must be followed by a
                <span class="texttt">\pgfsyssoftpath@curvetotoken</span>.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@curvetotoken</kbd></span
                >
                indicates the target of a curve-to operation.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@rectcornertoken</kbd></span
                >
                indicates the corner of a rectangle on the soft path. The triple
                must be followed by a
                <span class="texttt">\pgfsyssoftpath@rectsizetoken</span>.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@rectsizetoken</kbd></span
                >
                indicates the size of a rectangle on the soft path.
              </p>
            </li>
            <li>
              <p>
                &bull;
                <span class="textcolor" style="color: #bf0000"
                  ><kbd>\pgfsyssoftpath@closepath</kbd></span
                >
                indicates that the subpath begun with the last move-to operation
                should be closed. The parameter numbers are currently not
                important, but if set to anything different from
                <span class="texttt">{0pt}{0pt}</span>, they should be set to
                the coordinate of the original move-to operation to which the
                path &ldquo;returns&rdquo; now.
              </p>
            </li>
          </ul>
        </section>
      </main>

      <footer>
        <div class_="footer-left">
          <a href="https://github.com/pgf-tikz/pgf">Github</a> &middot;
          <a href="/license">License</a> &middot;
          <a href="https://ctan.org/pkg/pgf">CTAN</a> &middot;
          <a href="https://pgf-tikz.github.io/pgf/pgfmanual.pdf">PDF version</a>
          &middot;
          <a href="https://github.com/DominikPeters/pgf-tikz-html-manual"
            >About this HTML version</a
          >
        </div>
        <div class_="footer-right">
          <em>Manual last updated: 2022-04-23</em>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      docsearch({
        apiKey: "ae66ec3fc9df4b52b4d6f24fc8508fd3",
        indexName: "tikz.dev",
        appId: "Q70NNMA9GC",
        container: "#search",
      });
    </script>
  </body>
</html>
